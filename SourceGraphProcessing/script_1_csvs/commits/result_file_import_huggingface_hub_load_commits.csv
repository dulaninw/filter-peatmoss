repo_url,filepath,commit_date,message
github.com/huggingface/transformers,src/transformers/trainer.py,2024-03-01T17:00:29Z,"Fix deprecated arg issue (#29372)

* Fix deprecated arg issue

* Trainer check too

* Check for dict or dataclass

* Simplify, make config always AcceleratorConfig

* Upstream to Trainer"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-26T10:35:37Z,"Add feature extraction mapping for automatic metadata update (#28944)

* add feature extraction mapping

* added prefix

* ruff check

* minor fix

* Update modeling_auto.py

* fix typo

* remove prefix to make variable public/importable

* Update src/transformers/models/auto/modeling_auto.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* fixes

* addressed comments

* nit

* fix-copies

* remove from tests

* this should fix

* Update tests/models/convnextv2/test_modeling_convnextv2.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* nits

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-20T11:45:08Z,"FIX [`PEFT` / `Trainer` ] Handle better peft + quantized compiled models (#29055)

* handle peft + compiled models

* add tests

* fixup

* adapt from suggestions

* clarify comment"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-20T01:43:02Z,"FEAT [`Trainer` / `bnb`]: Add RMSProp from `bitsandbytes` to HF `Trainer` (#29082)

* add RMSProp to Trainer

* revert some change

* Update src/transformers/trainer.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-19T19:07:41Z,"storing & logging gradient norm in trainer (#27326)

* report grad_norm during training

* support getting grad_norm from deepspeed"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-16T12:41:09Z,"`auto_find_batch_size` isn't yet supported with DeepSpeed/FSDP. Raise error accrodingly. (#29058)

Update trainer.py"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-14T22:56:35Z,"FIX [`Trainer` / tags]: Fix trainer + tags when users do not pass `""tags""` to `trainer.push_to_hub()` (#29009)

* fix trainer tags

* add test"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-14T21:44:49Z,"[TPU] Support PyTorch/XLA FSDP via SPMD (#28949)

* Initial commit

* Add guards for the global mesh

* Address more comments

* Move the dataloader into integrations/tpu.py

* Fix linters

* Make karg more explicitly

* Remove the move device logic

* Fix the CI

* Fix linters

* Re-enable checkpointing"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-14T15:18:09Z,"Introduce AcceleratorConfig dataclass (#28664)

* Introduce acceleratorconfig dataclass

* Extra second warn

* Move import

* Try moving import under is_accelerate_available

* Quality

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Clean

* Remove to_kwargs

* Change version

* Improve tests by including dispatch and split batches

* Improve reliability

* Update tests/trainer/test_trainer.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Fixup tests and review nits

* Make tests pass

* protect import

* Protect import

* Empty-Commit

* Make training_args.to_dict handle the AcceleratorConfig

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-14T00:30:23Z,"ENH [`AutoQuantizer`]: enhance trainer + not supported quant methods (#28991)

* enhance trainer + not support quant methods

* remove all old logic

* add version"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-12T15:47:21Z,"Clean up staging tmp checkpoint directory (#28848)

clean up remaining tmp checkpoint dir

Signed-off-by: woshiyyya <xiaoyunxuan1998@gmail.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-06T05:55:44Z,"Raise error when using `save_only_model` with `load_best_model_at_end` for DeepSpeed/FSDP (#28866)

* Raise error when using `save_only_model` with `load_best_model_at_end` for DeepSpeed/FSDP

* Update trainer.py"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-06T02:21:50Z,"Do not use mtime for checkpoint rotation. (#28862)

Resolve https://github.com/huggingface/transformers/issues/26961"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-02-02T15:48:01Z,"Reduce GPU memory usage when using FSDP+PEFT (#28830)

support FSDP+PEFT"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-31T12:58:26Z,"Resolve DeepSpeed cannot resume training with PeftModel (#28746)

* fix: resolve deepspeed resume peft model issues

* chore: update something

* chore: update model instance pass into is peft model checks

* chore: remove hard code value to tests

* fix: format code"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-29T17:10:15Z,"Support saving only PEFT adapter in checkpoints when using PEFT + FSDP (#28297)

* Update trainer.py

* Revert ""Update trainer.py""

This reverts commit 0557e2cc9effa3a41304322032239a3874b948a7.

* Make trainer.py use adapter_only=True when using FSDP + PEFT

* Support load_best_model with adapter_only=True

* Ruff format

* Inspect function args for save_ load_ fsdp utility functions and only pass adapter_only=True if they support it"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-26T12:00:49Z,"Fix `weights_only` (#28725)

fix

Co-authored-by: ydshieh <ydshieh@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-26T11:05:01Z,"support PeftMixedModel signature inspect (#28321)

* support PeftMixedModel signature inspect

* import PeftMixedModel only peft>=0.7.0

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* fix styling

* Update src/transformers/trainer.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Update src/transformers/trainer.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* style fixup

* fix note

---------

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>
Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-25T09:34:52Z,"[`chore`] Add missing space in warning (#28695)

Add missing space in warning"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-24T11:57:45Z,"Use save_safetensor to disable safe serialization for XLA (#28669)

* Use save_safetensor to disable safe serialization for XLA

https://github.com/huggingface/transformers/issues/28438

* Style fixup"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-23T15:08:18Z,"add dataloader prefetch factor in training args and trainer (#28498)

* add dataloader prefetch factor in training args and trainer

* remove trailing spaces

* prevent dataloader_num_workers == 0 and dataloader_prefetch_factor != None

dataloader_prefetch_factor works only when data is loaded in a different process as the main one. This commit adds the necessary checks to avoid having prefetch_factor set when there is no such process.

* Remove whitespaces in empty line

* Update src/transformers/training_args.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/training_args.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/training_args.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/training_args.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-23T13:30:36Z,"Fix windows err with checkpoint race conditions (#28637)

Fix windows err"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-18T10:55:29Z,"Use `weights_only` only if torch >= 1.13 (#28506)

* fix

* fix

* fix

---------

Co-authored-by: ydshieh <ydshieh@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-15T13:48:07Z,"[`core`/ FEAT] Add the possibility to push custom tags using `PreTrainedModel` itself (#28405)

* v1 tags

* remove unneeded conversion

* v2

* rm unneeded warning

* add more utility methods

* Update src/transformers/utils/hub.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* more enhancements

* oops

* merge tags

* clean up

* revert unneeded change

* add extensive docs

* more docs

* more kwargs

* add test

* oops

* fix test

* Update src/transformers/modeling_utils.py

Co-authored-by: Omar Sanseviero <osanseviero@gmail.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Update src/transformers/modeling_utils.py

* Update src/transformers/trainer.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/modeling_utils.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* add more conditions

* more logic

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: Omar Sanseviero <osanseviero@gmail.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-11T15:18:27Z,"Byebye torch 1.10 (#28207)

* fix

* fix

---------

Co-authored-by: ydshieh <ydshieh@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-10T15:55:42Z,"Fix for checkpoint rename race condition (#28364)

* Changed logic for renaming staging directory when saving checkpoint to only operate with the main process.
Added fsync functionality to attempt to flush the write changes in case os.rename is not atomic.

* Updated styling using make fixup

* Updated check for main process to use built-in versions from trainer

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* Fixed incorrect usage of trainer main process checks
Added with open usage to ensure better file closing as suggested from PR
Added rotate_checkpoints into main process logic

* Removed ""with open"" due to not working with directory. os.open seems to work for directories.

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-10T11:03:13Z,"Support `DeepSpeed` when using auto find batch size (#28088)

Fixup test"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-02T14:19:42Z,"fix bug:divide by zero in _maybe_log_save_evaluate() (#28251)

Co-authored-by: liujizhong1 <liujizhong1@xiaomi.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2024-01-02T12:58:29Z,"Fix trainer saving safetensors: metadata is None (#28219)

* Update trainer.py

* format"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-20T09:55:56Z,"move code to Trainer.evaluate to enable use of that function with multiple datasets (#27844)

* move code to Trainer.evaluate to enable use of that function with multiple datasets

* test

* update doc string

* and a tip

* forgot the type

---------

Co-authored-by: Prof. Peter Schneider-Kamp <jps@ordbogen.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-19T10:08:51Z,"When save a model on TPU, make a copy to be moved to CPU (#27993)

* When save a model, make a copy to be moved to CPU, dont move the original
model

* make deepcopy inside of _save_tpu

* Move to tpu without copy"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-18T14:27:05Z,"in peft finetune, only the trainable parameters need to be saved (#27825)

to reduce the storage size and also save the time of checkpoint saving while using deepspeed for training

Signed-off-by: Wang, Yi <yi.a.wang@intel.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-16T14:11:43Z,"fix resuming from ckpt when using FSDP with FULL_STATE_DICT (#27891)

* fix resuming from ckpt when suing FSDP with FULL_STATE_DICT

* update tests

* fix tests"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-15T16:18:56Z,"Fix bug for checkpoint saving on multi node training setting (#28078)

* add multi-node traning setting

* fix style"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-15T15:01:18Z,"make torch.load a bit safer (#27282)

* make torch.load a bit safer

* Fixes

---------

Co-authored-by: Lysandre <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-13T17:17:30Z,"Fix bug with rotating checkpoints (#28009)

* Fix bug

* Write test

* Keep back old modification for grad accum steps

* Whitespace...

* Whitespace again

* Race condition

* Wait for everyone"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-11T19:30:11Z,"Support PeftModel signature inspect (#27865)

* Support PeftModel signature inspect

* Use get_base_model() to get the base model

---------

Co-authored-by: shujunhua1 <shujunhua1@jd.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-09T10:04:13Z,"[integration] Update Ray Tune integration for Ray 2.7 (#26499)

* fix tune integration for ray 2.7+

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* add version check for ray tune backend availability

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* missing import

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* pin min version instead

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* address comments

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* some fixes

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* fix unnecessary final checkpoint

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* fix lint

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* dep table fix

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

* fix lint

Signed-off-by: Justin Yu <justinvyu@anyscale.com>

---------

Signed-off-by: Justin Yu <justinvyu@anyscale.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-08T16:51:02Z,"Allow `resume_from_checkpoint` to handle `auto_find_batch_size` (#27568)

* Fuffill request

* Add test

* Better test

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>
Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Better test

* Better test

* MOre comments

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>
Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-08T13:08:54Z,fix: non-atomic checkpoint save (#27820)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-07T12:06:02Z,"update `create_model_card` to properly save peft details when using Trainer with PEFT (#27754)

* update `create_model_card` to properly save peft details when using Trainer with PEFT

* nit

* Apply suggestions from code review

Co-authored-by: Benjamin Bossan <BenjaminBossan@users.noreply.github.com>

---------

Co-authored-by: Benjamin Bossan <BenjaminBossan@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-04T13:56:00Z,"[Hot-Fix][XLA] Re-enable broken _tpu_save for XLATensors (#27799)

* [XLA] Re-enable broken _tpu_save for XLATensors, by explicitly moving to cpu

* linter-fix"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-12-04T06:43:32Z,"Add `persistent_workers` parameter to `TrainingArguments` (#27189)

added param

Co-authored-by: Ilya Fedorov <ilyaf@nvidia.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-28T16:40:44Z,"Docs: Fix broken cross-references, i.e. `~transformer.` -> `~transformers.` (#27740)

~transformer. -> ~transformers."
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-28T07:33:45Z,"Fixed passing scheduler-specific kwargs via TrainingArguments lr_scheduler_kwargs (#27595)

* Fix passing scheduler-specific kwargs through TrainingArguments `lr_scheduler_kwargs`

* Added test for lr_scheduler_kwargs"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-27T16:26:33Z,"docs: replace torch.distributed.run by torchrun (#27528)

* docs: replace torch.distributed.run by torchrun

 `transformers` now officially support pytorch >= 1.10.
 The entrypoint `torchrun`` is present from 1.10 onwards.

Signed-off-by: Peter Pan <Peter.Pan@daocloud.io>

* Update src/transformers/trainer.py

with @ArthurZucker's suggestion

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

---------

Signed-off-by: Peter Pan <Peter.Pan@daocloud.io>
Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-24T06:10:52Z,"Refactoring Trainer, adds `save_only_model` arg and simplifying FSDP integration (#27652)

* add code changes

1. Refactor FSDP
2. Add `--save_only_model` option: When checkpointing, whether to only save the model, or also the optimizer, scheduler & rng state.
3. Bump up the minimum `accelerate` version to `0.21.0`

* quality

* fix quality?

* Revert ""fix quality?""

This reverts commit 149330a6abc078827be274db84c8a2d26a76eba1.

* fix fsdp doc strings

* fix quality

* Update src/transformers/training_args.py

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* please fix the quality issue 😅

* Apply suggestions from code review

Co-authored-by: Benjamin Bossan <BenjaminBossan@users.noreply.github.com>

* address comment

* simplify conditional check as per the comment

* update documentation

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>
Co-authored-by: Benjamin Bossan <BenjaminBossan@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-21T16:09:35Z,"remove the deprecated method `init_git_repo` (#27617)

* remove deprecated method `init_git_repo`

* make style"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-14T20:31:04Z,"Track the number of tokens seen to metrics (#27274)

* Add tokens seen

* Address comments, add to TrainingArgs

* Update log

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Use self.args

* Fix docstring

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-14T19:54:44Z,"Have seq2seq just use gather (#27025)

* Have seq2seq just use gather

* Change

* Reset after

* Make slow

* Apply suggestions from code review

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Clean

* Simplify and just use gather

* Update tests/trainer/test_trainer_seq2seq.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* gather always for seq2seq

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-07T21:40:00Z,"Allow scheduler parameters (#26480)

* Allow for scheduler kwargs

* Formatting

* Arguments checks, passing the tests

* Black failed somehow

---------

Co-authored-by: Pierre <pierre@avatarin.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-02T20:08:03Z,"Fixed base model class name extraction from PeftModels (#27162)

* Fixed base model class name extraction from PeftModels

* Changes to first unwrap the model then extract the base model name

* Changed base_model to base_model.model to stay consistent with peft model abstractions"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-02T10:27:13Z,"Reproducible checkpoint for npu (#27208)

* save NPU's RNG states when saving a checkpoint and set after all the
data skip phase when resuming training.

* re-trigger ci

* re-trigger ci"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-11-01T18:42:38Z,"Enable split_batches through TrainingArguments (#26798)

* Enable split_batches through TrainingArguments

* Extra dispatch_batches

* Keep as default false

* Add to docstring

* Add to docstring

* Remove the capturewarnings change

* Comma"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-31T15:03:59Z,"[FEAT] Add Neftune into transformers Trainer (#27141)

* add v1 neftune

* use `unwrap_model` instead

* add test + docs

* Apply suggestions from code review

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* more details

* fixup

* Update docs/source/en/main_classes/trainer.md

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* refactor a bit

* more elaborated test

* fix unwrap issue

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-30T11:55:03Z,"remove the obsolete code related to fairscale FSDP (#26651)

* remove the obsolete code related to fairscale FSDP

* apple review suggestion"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-30T11:41:48Z,"[`Trainer` / `GC`] Add `gradient_checkpointing_kwargs` in trainer and training arguments (#27068)

* add `gradient_checkpointing_kwargs` in trainer and training arguments

* add comment

* add test - currently failing

* now tests pass"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-26T16:13:19Z,"Save TB logs as part of push_to_hub (#27022)

* Support runs/

* Upload runs folder as part of push to hub

* Add a test

* Add to test deps

* Update with proposed solution from Slack

* Ensure that repo gets deleted in tests"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-26T15:46:17Z,"Correct docstrings and a typo in comments (#27047)

* docs(training_args): correct docstrings

Correct docstrings of these methods in `TrainingArguments`:

- `set_save`
- `set_logging`

* docs(training_args): adjust words in docstrings

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* docs(trainer): correct a typo in comments

---------

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-26T09:20:11Z,"Bring back `set_epoch` for Accelerate-based dataloaders (#26850)

* Working tests!

* Fix sampler

* Fix

* Update src/transformers/trainer.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Fix check

* Clean

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-16T13:29:47Z,"fix resume_from_checkpoint bug (#26739)

* fix resume_from_checkpoint bug

* update code"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-12T08:28:40Z,"Add many missing spaces in adjacent strings (#26751)

Add missing spaces in adjacent strings"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-06T14:03:11Z,"remove SharedDDP as it is deprecated (#25702)

* remove SharedDDP as it was drepracated

* apply review suggestion

* make style

* Oops,forgot to remove the compute_loss context manager in Seq2SeqTrainer.

* remove the unnecessary conditional statement

* keep the logic of IPEX

* clean code

* mix precision setup & make fixup

---------

Co-authored-by: statelesshz <jihuazhong1@huawei.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-04T13:13:37Z,"Docstring check (#26052)

* Fix number of minimal calls to the Hub with peft integration

* Alternate design

* And this way?

* Revert

* Nits to fix

* Add util

* Print when changes are made

* Add list to ignore

* Add more rules

* Manual fixes

* deal with kwargs

* deal with enum defaults

* avoid many digits for floats

* Manual fixes

* Fix regex

* Fix regex

* Auto fix

* Style

* Apply script

* Add ignored list

* Add check that templates are filled

* Adding to CI checks

* Add back semi-fix

* Ignore more objects

* More auto-fixes

* Ignore missing objects

* Remove temp semi-fix

* Fixes

* Update src/transformers/models/pvt/configuration_pvt.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Update utils/check_docstrings.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Update src/transformers/utils/quantization_config.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Deal with float defaults

* Fix small defaults

* Address review comment

* Treat

* Post-rebase cleanup

* Address review comment

* Update src/transformers/models/deprecated/mctct/configuration_mctct.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* Address review comment

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>
Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-10-04T12:57:11Z,Extend Trainer to enable Ascend NPU to use the fused Adamw optimizer when training (#26194)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-26T17:27:09Z,"Add torch `RMSProp` optimizer (#26425)

add rmsprop"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-22T01:33:29Z,"[QUICK FIX LINK] Update trainer.py (#26293)

* Update trainer.py

Fix link

* Update src/transformers/trainer.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Update trainer.py

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-20T15:38:59Z,"[`Trainer`] Refactor trainer + bnb logic (#26248)

* refactor trainer + bnb logic

* remove logger.info

* oops"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-20T04:56:16Z,"FSDP tests and checkpointing fixes (#26180)

* add fsdp tests

* Update test_fsdp.py

* Update test_fsdp.py

* fixes

* checks

* Update trainer.py

* fix

* fixes for saving/resuming checkpoints

* fixes

* add tests and delete debug statements

* fixing tests

* Update test_fsdp.py

* fix tests

* fix tests

* minor nits

* fix code style and quality

* refactor and modularize test code

* reduce the time of tests

* reduce the test time

* fix test

* reduce test time

* reduce test time

* fix failing tests

* fix

* Apply suggestions from code review

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* resolve comments

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-18T15:40:11Z,refactor decay_parameters production into its own function (#26152)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-14T09:57:47Z,"Fix eval accumulation when `accelerate` > 0.20.3 (#26060)

As mentioned in: https://github.com/huggingface/transformers/issues/25641

Eval accumulation will never happen with `accelerate > 0.20.3`, so this change ensures that `sync_gradients` is ignored if accelerate is > 0.20.3"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-12T17:01:22Z,"enable optuna multi-objectives feature (#25969)

* enable optuna multi-objectives feature

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>

* Apply suggestions from code review

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* update hpo doc

* update docstring

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>

* extend direction to List[str] type

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>

* Update src/transformers/integrations/integration_utils.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>
Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-11T11:56:36Z,"only main process should call _save on deepspeed zero3 (#25959)

only main process should call _save when deepspeed zero3"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-07T19:00:22Z,"Try to fix training Loss inconsistent after resume from old checkpoint (#25872)

* fix loss inconsistent after resume  #25340

* fix typo

* clean code

* reformatted code

* adjust code according to comments

* adjust check_dataloader_randomsampler location

* return sampler only

* handle sampler is None

* Update src/transformers/trainer_pt_utils.py

thanks @amyeroberts

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-07T16:17:30Z,"Add `tgs` speed metrics (#25858)

* Add tgs metrics

* bugfix and black formatting

* workaround for tokens counting

* formating and bugfix

* Fix

* Add opt-in for tgs metrics

* make style and fix error

* Fix doc

* fix docbuild

* hf-doc-build

* fix

* test

* Update src/transformers/training_args.py

renaming

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* Update src/transformers/training_args.py

renaming

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* Fix some symbol

* test

* Update src/transformers/trainer_utils.py

match nameing patterns

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/training_args.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/trainer.py

nice

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Fix reviews

* Fix

* Fix black

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-07T04:22:53Z,"Fix err with FSDP (#25991)

* Fix err

* Use version check"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-05T17:01:20Z,"deepspeed resume from ckpt fixes and adding support for deepspeed optimizer and HF scheduler (#25863)

* Add support for deepspeed optimizer and HF scheduler

* fix bug

* fix the import

* fix issue with deepspeed scheduler saving for hf optim + hf scheduler scenario

* fix loading of hf scheduler when loading deepspeed checkpoint

* fix import of `DeepSpeedSchedulerWrapper`

* add tests

* add the comment and skip the failing tests

* address comment"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-01T15:24:12Z,"Revert frozen training arguments (#25903)

* Revert frozen training arguments

* TODO"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-09-01T09:50:42Z,"fix FSDP model resume optimizer & scheduler (#25852)

* fix FSDP resume optimizer & scheduler

* improve trainer code quality

---------

Co-authored-by: machi04 <machi04@meituan.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-31T09:47:53Z,"fix ds z3 checkpointing when  `stage3_gather_16bit_weights_on_model_save=False` (#25817)

* fix ds z3 checkpointing when  `stage3_gather_16bit_weights_on_model_save=False`

* refactoring"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-29T14:06:41Z,"Error with checking args.eval_accumulation_steps to gather tensors (#25819)

* Update trainer.py (error with checking steps in args.eval_accumulation_steps to gather tensors)

While the deprecated code has the correct check (line 3772): 
""if args.eval_accumulation_steps is not None and (step + 1) % args.eval_accumulation_steps == 0:""

The current code does not (line 3196):
""if args.eval_accumulation_steps is not None and self.accelerator.sync_gradients:""

We need to check ""(step + 1) % args.eval_accumulation_steps == 0"". Hence, the line 3196 should be modified to:
""if args.eval_accumulation_steps is not None and (step + 1) % args.eval_accumulation_steps == 0 and self.accelerator.sync_gradients:""

* Fix error with checking args.eval_accumulation_steps to gather tensors"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-29T07:22:14Z,"Arde/fsdp activation checkpointing (#25771)

* add FSDP config option to enable activation-checkpointing

* update docs

* add checks and remove redundant code

* fix formatting error"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-25T15:13:34Z,"🚨🚨🚨 [`Refactor`] Move third-party related utility files into `integrations/` folder 🚨🚨🚨 (#25599)

* move deepspeed to `lib_integrations.deepspeed`

* more refactor

* oops

* fix slow tests

* Fix docs

* fix docs

* addess feedback

* address feedback

* final modifs for PEFT

* fixup

* ok now

* trigger CI

* trigger CI again

* Update docs/source/en/main_classes/deepspeed.md

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* import from `integrations`

* address feedback

* revert removal of `deepspeed` module

* revert removal of `deepspeed` module

* fix conflicts

* ooops

* oops

* add deprecation warning

* place it on the top

* put `FutureWarning`

* fix conflicts with not_doctested.txt

* add back `bitsandbytes` module with a depr warning

* fix

* fix

* fixup

* oops

* fix doctests

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-18T17:08:03Z,"[`PEFT`] Peft integration alternative design  (#25077)

* a draft version

* v2 integration

* fix

* make it more generic and works for IA3

* add set adapter and multiple adapters support

* fixup

* adapt a bit

* oops

* oops

* oops

* adapt more

* fix

* add more refactor

* now works with model class

* change it to instance method as it causes issues with `jit`.

* add CR

* change method name

* add `add_adapter` method

* clean up

* Update src/transformers/adapters/peft_mixin.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* add moe utils

* fixup

* Update src/transformers/adapters/peft_mixin.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* adapt

* oops

* fixup

* add is_peft_available

* remove `requires_backend`

* trainer compatibility

* fixup + docstring

* more details

* trigger CI

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/modeling_utils.py

* fixup + is_main_process

* added `save_peft_format` in save_pretrained

* up

* fix nits here and there

* nits here and there.

* docs

* revert `encoding=""utf-8""`

* comment

* added slow tests before the PEFT release.

* fixup and nits

* let's be on the safe zone

* added more comments

* v1 docs

* add remaining docs

* Apply suggestions from code review

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* move to `lib_integrations`

* fixup

* this time fixup

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* address final comments

* refactor to use `token`

* add PEFT to DockerFile for slow tests.

* added pipeline support.

---------

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>
Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-17T18:48:58Z,"add warning for 8bit optimizers (#25575)

* add warning for 8bit optimizers

* protect import"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-17T16:23:34Z,"add util for ram efficient loading of model when using fsdp (#25107)

* add util for ram efficient loading of model when using fsdp

* make fix-copies

* fixes 😅

* docs

* making it further easier to use

* rename the function

* refactor to handle fsdp ram efficiency in `from_pretrained`

* fixes

* fixes

* fixes

* update

* fixes

* revert `load_pretrained_model_only_on_rank0`

* resolve `load_from_checkpoint`"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-17T15:44:01Z,"Revert ""change version (#25387)"" (#25573)

This reverts commit 3a05e010e0c7e8abd3e5357dd4e89e28cc69003e."
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-17T06:10:33Z,Update trainer.py (#25553)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-16T16:19:51Z,More frozen args (#25540)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-10T20:06:29Z,"GPTQ integration (#25062)

* GTPQ integration

* Add tests for gptq

* support for more quantization model

* fix style

* typo

* fix method

* Update src/transformers/modeling_utils.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* add dataclass and fix quantization_method

* fix doc

* Update tests/quantization/gptq/test_gptq.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Apply suggestions from code review

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* modify dataclass

* add gtpqconfig import

* fix typo

* fix tests

* remove dataset as req arg

* remove tokenizer import

* add offload cpu quantization test

* fix check dataset

* modify dockerfile

* protect trainer

* style

* test for config

* add more log

* overwrite torch_dtype

* draft doc

* modify quantization_config docstring

* fix class name in docstring

* Apply suggestions from code review

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* more warning

* fix 8bit kwargs tests

* peft compatibility

* remove var

* fix is_gptq_quantized

* remove is_gptq_quantized

* fix wrap

* Update src/transformers/modeling_utils.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* add exllama

* skip test

* overwrite float16

* style

* fix skip test

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* fix docsting formatting

* add doc

* better test

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>
Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-10T15:07:32Z,"Fix issue with ratio evaluation steps and auto find batch size (#25436)

* Fully rebased solution

* 500"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-09T07:31:24Z,rm useless condition since the previous condition contains it. (#25403)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-08T17:05:41Z,change version (#25387)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-07T15:47:22Z,"Migrate Trainer from `Repository` to `upload_folder` (#25095)

* First draft

* Deal with progress bars

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Address review comments

* Forgot one

* Pin hf_hub

* Add argument for push all and fix tests

* Fix tests

* Address review comments

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-08-02T07:29:00Z,Fix set of model parallel in the Trainer when no GPUs are available (#25239)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-07-28T09:40:08Z,"Fix `.push_to_hub` and cleanup `get_full_repo_name` usage (#25120)

* Fix .push_to_hub and cleanup get_full_repo_name usage

* Do not rely on Python bool conversion magic

* request changes"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-07-27T12:34:02Z,fix delete all checkpoints when save_total_limit is set to 1 (#25136)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-07-27T01:41:43Z,fix deepspeed load best model at end when the model gets sharded (#25057)
github.com/huggingface/transformers,src/transformers/trainer.py,2023-07-24T14:53:10Z,"compute_loss in trainer failing to label shift for PEFT model when label smoothing enabled. (#25044)

* added PeftModelForCausalLM to MODEL_FOR_CAUSAL_LM_MAPPING_NAMES dict

* check for PEFT model in compute_loss section

---------

Co-authored-by: Nathan Brake <nbrake3@mmm.com>"
github.com/huggingface/transformers,src/transformers/trainer.py,2023-07-24T13:27:19Z,"Add dispatch_batches to training arguments (#25038)

* Dispatch batches

* Copy items"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2024-02-16T07:16:58Z,"Update all references to canonical models (#29001)

* Script & Manual edition

* Update"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2024-02-06T17:45:20Z,Explicit server error on gated model (#28894)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2024-01-26T16:25:08Z,"fix: suppress `GatedRepoError` to use cache file (fix #28558). (#28566)

* fix: suppress `GatedRepoError` to use cache file (fix #28558).

* move condition_to_return parameter back to outside."
github.com/huggingface/transformers,src/transformers/utils/hub.py,2024-01-15T13:48:07Z,"[`core`/ FEAT] Add the possibility to push custom tags using `PreTrainedModel` itself (#28405)

* v1 tags

* remove unneeded conversion

* v2

* rm unneeded warning

* add more utility methods

* Update src/transformers/utils/hub.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* more enhancements

* oops

* merge tags

* clean up

* revert unneeded change

* add extensive docs

* more docs

* more kwargs

* add test

* oops

* fix test

* Update src/transformers/modeling_utils.py

Co-authored-by: Omar Sanseviero <osanseviero@gmail.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Update src/transformers/modeling_utils.py

* Update src/transformers/trainer.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/modeling_utils.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* add more conditions

* more logic

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: Omar Sanseviero <osanseviero@gmail.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-12-18T15:18:01Z,"Remove warning if `DISABLE_TELEMETRY` is used (#28113)

remove warning if DISABLE_TELEMETRY is used"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-11-24T11:24:04Z,"Fix typo in warning message (#27055)

* Fix typo in warning message

The path of `default_cache_path` is hf_cache_home/hub. There is no
directory named transformers under hf_cache_home

* Fix a typo in comment

* Update the version number

v4.22.0 is the earlist version that contains those changes in PR #18492"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-11-21T17:36:26Z,"Harmonize HF environment variables + other cleaning (#27564)

* Harmonize HF environment variables + other cleaning

* backward compat

* switch from HUGGINGFACE_HUB_CACHE to HF_HUB_CACHE

* revert"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-11-15T13:10:39Z,"[ `PretrainedConfig`] Improve messaging  (#27438)

* import hf error

* nits

* fixup

* catch the error at the correct place

* style

* improve message a tiny bit

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* add a test

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-10-31T18:16:49Z,"Safetensors serialization by default (#27064)

* Safetensors serialization by default

* First pass on the tests

* Second pass on the tests

* Third pass on the tests

* Fix TF weight loading from TF-format safetensors

* Specific encoder-decoder fixes for weight crossloading

* Add VisionEncoderDecoder fixes for TF too

* Change filename test for pt-to-tf

* One missing fix for TFVisionEncoderDecoder

* Fix the other crossload test

* Support for flax + updated tests

* Apply suggestions from code review

Co-authored-by: Sanchit Gandhi <93869735+sanchit-gandhi@users.noreply.github.com>

* Sanchit's comments

* Sanchit's comments 2

* Nico's comments

* Fix tests

* cleanup

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: Matt <rocketknight1@gmail.com>
Co-authored-by: Sanchit Gandhi <93869735+sanchit-gandhi@users.noreply.github.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-10-27T12:32:54Z,Provide alternative when warning on use_auth_token (#27105)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-10-26T10:37:09Z,"Add-support for commit description (#26704)

* fix

* update

* revert

* add dosctring

* good to go

* update

* add a test"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-10-23T12:25:48Z,"Change default `max_shard_size` to smaller value (#26942)

* Update modeling_utils.py

* fixup

* let's change it to 5GB

* fix"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-08-22T05:55:35Z,"Support specifying revision in push_to_hub (#25578)

Support revision in push_to_hub"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-08-07T15:47:22Z,"Migrate Trainer from `Repository` to `upload_folder` (#25095)

* First draft

* Deal with progress bars

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Address review comments

* Forgot one

* Pin hf_hub

* Add argument for push all and fix tests

* Fix tests

* Address review comments

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-07-28T09:40:08Z,"Fix `.push_to_hub` and cleanup `get_full_repo_name` usage (#25120)

* Fix .push_to_hub and cleanup get_full_repo_name usage

* Do not rely on Python bool conversion magic

* request changes"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-07-26T13:09:59Z,"update `use_auth_token` -> `token` (#25083)

* update

---------

Co-authored-by: ydshieh <ydshieh@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-07-24T13:12:39Z,"Support GatedRepoError + use raise from (#25034)

* Support GatedRepoError + use raise from

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Use token instead of use_auth_token in error messages

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-06-12T12:51:09Z,"Fix push to hub (#24187)

Add fix"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-06-07T13:07:33Z,"[`Hub`] Add `safe_serialization` in push_to_hub (#24074)

add `safe_serialization` in push_to_hub"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-05-31T19:31:28Z,"[PushToHub] Make it possible to upload folders (#23920)

Add first draft"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-05-16T10:10:54Z,"Use `mkstemp` to replace deprecated `mktemp` (#23372)

* Use `mkstemp` to replace deprecated `mktemp`

The `tempfile.mktemp` function is [deprecated](https://docs.python.org/3/library/tempfile.html#tempfile.mktemp) due to [security issues](https://cwe.mitre.org/data/definitions/377.html).

* Update src/transformers/utils/hub.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-05-10T00:37:57Z,"Test composition (#23214)

* Remove nestedness in tool config

* Really do it

* Use remote tools descriptions

* Work

* Clean up eval

* Changes

* Tools

* Tools

* tool

* Fix everything

* Use last result/assign for evaluation

* Prompt

* Remove hardcoded selection

* Evaluation for chat agents

* correct some spelling

* Small fixes

* Change summarization model (#23172)

* Fix link displayed

* Update description of the tool

* Fixes in chat prompt

* Custom tools, custom prompt

* Tool clean up

* save_pretrained and push_to_hub for tool

* Fix init

* Tests

* Fix tests

* Tool save/from_hub/push_to_hub and tool->load_tool

* Clean push_to_hub and add app file

* Custom inference API for endpoints too

* Clean up

* old remote tool and new remote tool

* Make a requirements

* return_code adds tool creation

* Avoid redundancy between global variables

* Remote tools can be loaded

* Tests

* Text summarization tests

* Quality

* Properly mark tests

* Test the python interpreter

* And the CI shall be green.

* fix loading of additional tools

* Work on RemoteTool and fix tests

* General clean up

* Guard imports

* Fix tools

* docs: Fix broken link in 'How to add a model...'  (#23216)

fix link

* Get default endpoint from the Hub

* Add guide

* Simplify tool config

* Docs

* Some fixes

* Docs

* Docs

* Docs

* Fix code returned by agent

* Try this

* Match args with signature in remote tool

* Should fix python interpreter for Python 3.8

* Fix push_to_hub for tools

* Other fixes to push_to_hub

* Add API doc page

* Docs

* Docs

* Custom tools

* Pin tensorflow-probability (#23220)

* Pin tensorflow-probability

* [all-test]

* [all-test] Fix syntax for bash

* PoC for some chaining API

* Text to speech

* J'ai pris des libertés

* Rename

* Basic python interpreter

* Add agents

* Quality

* Add translation tool

* temp

* GenQA + LID + S2T

* Quality + word missing in translation

* Add open assistance, support f-strings in evaluate

* captioning + s2t fixes

* Style

* Refactor descriptions and remove chain

* Support errors and rename OpenAssistantAgent

* Add setup

* Deal with typos + example of inference API

* Some rename + README

* Fixes

* Update prompt

* Unwanted change

* Make sure everyone has a default

* One prompt to rule them all.

* SD

* Description

* Clean up remote tools

* More remote tools

* Add option to return code and update doc

* Image segmentation

* ControlNet

* Gradio demo

* Diffusers protection

* Lib protection

* ControlNet description

* Cleanup

* Style

* Remove accelerate and try to be reproducible

* No randomness

* Male Basic optional in token

* Clean description

* Better prompts

* Fix args eval in interpreter

* Add tool wrapper

* Tool on the Hub

* Style post-rebase

* Big refactor of descriptions, batch generation and evaluation for agents

* Make problems easier - interface to debug

* More problems, add python primitives

* Back to one prompt

* Remove dict for translation

* Be consistent

* Add prompts

* New version of the agent

* Evaluate new agents

* New endpoints agents

* Make all tools a dict variable

* Typo

* Add problems

* Add to big prompt

* Harmonize

* Add tools

* New evaluation

* Add more tools

* Build prompt with tools descriptions

* Tools on the Hub

* Let's chat!

* Cleanup

* Temporary bs4 safeguard

* Cache agents and clean up

* Blank init

* Fix evaluation for agents

* New format for tools on the Hub

* Add method to reset state

* Remove nestedness in tool config

* Really do it

* Use remote tools descriptions

* Work

* Clean up eval

* Changes

* Tools

* Tools

* tool

* Fix everything

* Use last result/assign for evaluation

* Prompt

* Remove hardcoded selection

* Evaluation for chat agents

* correct some spelling

* Small fixes

* Change summarization model (#23172)

* Fix link displayed

* Update description of the tool

* Fixes in chat prompt

* Custom tools, custom prompt

* Tool clean up

* save_pretrained and push_to_hub for tool

* Fix init

* Tests

* Fix tests

* Tool save/from_hub/push_to_hub and tool->load_tool

* Clean push_to_hub and add app file

* Custom inference API for endpoints too

* Clean up

* old remote tool and new remote tool

* Make a requirements

* return_code adds tool creation

* Avoid redundancy between global variables

* Remote tools can be loaded

* Tests

* Text summarization tests

* Quality

* Properly mark tests

* Test the python interpreter

* And the CI shall be green.

* Work on RemoteTool and fix tests

* fix loading of additional tools

* General clean up

* Guard imports

* Fix tools

* Get default endpoint from the Hub

* Simplify tool config

* Add guide

* Docs

* Some fixes

* Docs

* Docs

* Fix code returned by agent

* Try this

* Docs

* Match args with signature in remote tool

* Should fix python interpreter for Python 3.8

* Fix push_to_hub for tools

* Other fixes to push_to_hub

* Add API doc page

* Fixes

* Doc fixes

* Docs

* Fix audio

* Custom tools

* Audio fix

* Improve custom tools docstring

* Docstrings

* Trigger CI

* Mode docstrings

* More docstrings

* Improve custom tools

* Fix for remote tools

* Style

* Fix repo consistency

* Quality

* Tip

* Cleanup on doc

* Cleanup toc

* Add disclaimer for starcoder vs openai

* Remove disclaimer

* Small fixed in the prompts

* 4.29

* Update src/transformers/tools/agents.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* Complete documentation

* Small fixes

* Agent evaluation

* Note about gradio-tools & LC

* Clean up agents and prompt

* Apply suggestions from code review

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Apply suggestions from code review

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Note about gradio-tools & LC

* Add copyrights and address review comments

* Quality

* Add all language codes

* Add remote tool tests

* Move custom prompts to other docs

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* TTS tests

* Quality

---------

Co-authored-by: Lysandre <hi@lyand.re>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Philipp Schmid <32632186+philschmid@users.noreply.github.com>
Co-authored-by: Connor Henderson <connor.henderson@talkiatry.com>
Co-authored-by: Lysandre <lysandre.debut@reseau.eseo.fr>
Co-authored-by: Lysandre <lysandre@huggingface.co>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-03-29T13:46:30Z,Don't hard error when cache version can't be converted to int (#22427)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-03-09T21:58:03Z,"Add a progress bar for the total download of shards (#22062)

* Add a progress bar for the total download of shards

* Check for no cache at all

* Fix check"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-03-02T08:45:42Z,"[Refactor] Relative imports wherever we can (#21880)

* initial commit

* update

* second batch

* style

* fix imports

* fix relative import on pipeline"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-02-22T08:14:54Z,Apply ruff flake8-comprehensions (#21694)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-02-06T23:10:56Z,"Update quality tooling for formatting (#21480)

* Result of black 23.1

* Update target to Python 3.7

* Switch flake8 to ruff

* Configure isort

* Configure isort

* Apply isort with line limit

* Put the right black version

* adapt black in check copies

* Fix copies"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-01-27T17:09:49Z,"Little cleanup: let huggingface_hub manage token retrieval (#21333)

* Let huggingface_hub manage token retrieval

* flake8

* code quality

* adapt in every PushToHubMixin children

* add explicit return type"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2023-01-24T15:37:10Z,"Use `logger.info` instead of `print` to emit a logging message in `hub.py` (#21273)

use logger.info() instead of print() to emit a debug message"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-11-28T15:35:52Z,"Safetensors offload (#20321)

* INtegrate safetensos in weight offloading

* Use safetensors checkpoint for offload when available

* Make naming consistent

* Make load faster

* Quality

* Add default"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-11-04T21:25:02Z,Update hub.py (#20075)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-10-19T14:55:57Z,Fix cache version file creation (#19750)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-10-10T13:19:33Z,"Stop relying on huggingface_hub's private methods (#19392)

* Leverage hfh for move cache

* Style"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-30T19:13:39Z,"Fix cached lookup filepath on windows for hub (#19178)

* Update hub.py commit_hash extraction

Add safety mechanism for windows systems to unify logic (replace double backslashes with /)

* Fix string quotetype

* Aaaa circleci is messing with me.

* Switch to using as_posix() method from pathlib

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-29T12:58:39Z,"Use `hf_raise_for_status` instead of deprecated `_raise_for_status` (#19244)

* Use  instead of  from huggingface_hub

* bump huggingface_hub to 0.10.0 + make deps_table_update"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-26T22:01:00Z,"Fix cached_file in offline mode for cached non-existing files (#19206)

* Fix cached_file in offline mode for cached non-existing files

* Add tests

* Test with offline mode"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-19T19:27:18Z,Don't warn of move if cache is empty (#19109)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-16T19:01:57Z,replace logger.warn by logger.warning (#19068)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-15T13:39:59Z,Move cache: expand error message (#19051)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-13T17:11:24Z,Re-add support for single url files in objects download (#19014)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-12T16:09:37Z,"Align try_to_load_from_cache with huggingface_hub (#18966)

* Align try_to_load_from_cache with huggingface_hub

* Fix tests"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-06T16:34:37Z,"Further reduce the number of alls to head for cached objects (#18871)

* Further reduce the number of alls to head for cached models/tokenizers/pipelines

* Fix tests

* Address review comments"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-09-02T14:30:06Z,"Clean up utils.hub using the latest from hf_hub (#18857)

* Clean up utils.hub using the latest from hf_hub

* Adapt test

* Address review comment

* Fix test"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-10T19:46:03Z,Properly move cache when it is not in default path (#18563)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-10T15:55:18Z,"Use commit hash to look in cache instead of calling head (#18534)

* Use commit hash to look in cache instead of calling head

* Add tests

* Add attr for local configs too

* Stupid typos

* Fix tests

* Update src/transformers/utils/hub.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

* Address Julien's comments

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-09T19:15:01Z,Clean up comment
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-08T14:22:27Z,New cache fixes: add safeguard before looking in folders (#18522)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-08T12:48:10Z,"Clean up hub (#18497)

* Clean up utils.hub

* Remove imports

* More fixes

* Last fix"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-06T07:42:55Z,"`transformers-cli login` => `huggingface-cli login` (#18490)

* zero chance anyone's using that constant no?

* `transformers-cli login` => `huggingface-cli login`

* `transformers-cli repo create` => `huggingface-cli repo create`

* `make style`"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-05T17:29:38Z,Typo reported by Joel Grus on TWTR (#18493)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-05T17:24:53Z,Forgot one new_ for cache migration
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-05T17:14:00Z,"Move cache folder to huggingface/hub for consistency with hf_hub (#18492)

* Move cache folder to just huggingface

* Thank you VsCode for this needless import

* Move to hub

* Forgot one"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-05T14:12:40Z,"Use new huggingface_hub tools for download models (#18438)

* Draft new cached_file

* Initial draft for config and model

* Small fixes

* Fix first batch of tests

* Look in cache when internet is down

* Fix last tests

* Bad black, not fixing all quality errors

* Make diff less

* Implement change for TF and Flax models

* Add tokenizer and feature extractor

* For compatibility with main

* Add utils to move the cache and auto-do it at first use.

* Quality

* Deal with empty commit shas

* Deal with empty etag

* Address review comments"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-08-01T16:07:30Z,"Rewrite push_to_hub to use upload_files (#18366)

* Rewrite push_to_hub to use upload_files

* Adapt the doc a bit

* Address review comments and clean doc"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-07-19T09:53:53Z,"[From pretrained] Allow download from subfolder inside model repo (#18184)

* add first generation tutorial

* [from_pretrained] Allow loading models from subfolders

* remove gen file

* add doc strings

* allow download from subfolder

* add tests

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* apply comments

* correct doc string

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-07-13T16:43:08Z,"Make sharded checkpoints work in offline mode (#18125)

* Make sharded checkpoints work in offline mode

* Add test"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-07-13T14:53:25Z,"Revert ""Make sharded checkpoints work in offline mode""

This reverts commit 3564c6578630a3bef29d2c7c36c7d29b68acd874."
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-07-13T14:51:56Z,Make sharded checkpoints work in offline mode
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-07-11T16:45:06Z,Add filename to info diaplyed when downloading things in from_pretrained (#18099)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-06-22T05:04:35Z,Flax sharded (#17760)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-06-21T16:01:08Z,"TF Sharded (#17713)

* initial commit

* update modeeling tf utils

* quality

* clean and update args

* update

* remove potential bug

* code quality

* update

* update max shard

* update tests for sharding from pretrained

* fix remaining test

* make style

* h5py if tf available

* update and fix test

* fix test

* style

* modified push to hub to support shard for TF

* quick fix

* update code

* merge branch main and style

* Apply suggestions from code review

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* update based on reviews

* update doc

* update and style

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update based on reviews

* fix typo

* style

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-06-21T15:51:18Z,"Prepare transformers for v0.8.0 huggingface-hub release (#17716)

* Prepare CI for v0.8.0

* pin hfh (revert before merge)

* Revert ""pin hfh (revert before merge)""

This reverts commit a0103140e1c77b810ffcb735192968bc03be3e1f.

* Test rc3

* Test latest rc

* Unpin to the RC

Co-authored-by: Sylvain Gugger <Sylvain.gugger@gmail.com>"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-06-10T13:41:53Z,"🐛 Properly raise `RepoNotFoundError` when not authenticated (#17651)

* Raise RepoNotFoundError in case of 401

* Include changes from revert-17646-skip_repo_not_found

* Add a comment

* 💄 Code quality

* 💚 Update `get_from_cache` test

* 💚 Code quality & skip failing test"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-06-08T15:34:05Z,Fix telemetry URL (#17608)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-06-07T15:57:52Z,"Add examples telemetry (#17552)

* Add examples telemetry

* Alternative approach

* Add to all other examples

* Add to templates as well

* Put framework separately

* Same for TensorFlow"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-05-12T20:25:55Z,"Black preview (#17217)

* Black preview

* Fixup too!

* Fix check copies

* Use the same version as the CI

* Bump black"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-04-29T16:26:45Z,"Revert ""Updating variable names. (#16445)"" (#17011)

This reverts commit 4f3a14e3c235c8b6b8cd2f5bc448a0cffacddf61."
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-04-29T15:44:28Z,Updating variable names. (#16445)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-04-25T19:15:00Z, Fix issue probably-meant-fstring found at https://codereview.doctor (#16913)
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-03-23T19:56:49Z,"Make Transformers use cache files when hf.co is down (#16362)

* Make Transformers use cache files when hf.co is down

* Fix tests

* Was there a random circleCI failure?

* Isolate patches

* Style

* Comment out the failure since it doesn't fail anymore

* Better comment"
github.com/huggingface/transformers,src/transformers/utils/hub.py,2022-03-23T14:26:33Z,"Reorganize file utils (#16264)

* Split file_utils in several submodules

* Fixes

* Add back more objects

* More fixes

* Who exactly decided to import that from there?

* Second suggestion to code with code review

* Revert wront move

* Fix imports

* Adapt all imports

* Adapt all imports everywhere

* Revert this import, will fix in a separate commit"
github.com/gradio-app/gradio,gradio/flagging.py,2024-02-21T02:36:10Z,"Reverts the revert that dropped changes from 2 PRs (#7495)

* Revert ""Revert ""changes""""

This reverts commit 032435368d8d8db7439da5ffa966987f80c58db3.

* patch"
github.com/gradio-app/gradio,gradio/flagging.py,2024-02-20T22:21:27Z,"Revert ""changes""

This reverts commit 19dd2218dcacfb55cf55979d06f4c9880c15e856, reversing
changes made to 6a936330543c1b989ac1c957b2572dcd44e9ab7f."
github.com/gradio-app/gradio,gradio/flagging.py,2024-02-19T21:29:20Z,"Enable Ruff S101 (#7477)

* Update to Ruff 0.2.2

* Enable Ruff S101; don't use asserts in runtime code, or AssertionErrors for flow control"
github.com/gradio-app/gradio,gradio/flagging.py,2024-02-05T13:25:34Z,Determine documentation group automatically (#7062)
github.com/gradio-app/gradio,gradio/flagging.py,2024-02-01T19:32:40Z,"Update ruff to 0.1.13, enable more rules, fix issues (#7061)

* add changeset

* Update ruff to version 0.1.13

* Correct ruff target version

* Enable more Ruff rules and fix issues

* Enable ARG and fix issues

* Enable PL lints, fix issues

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2024-01-08T02:57:07Z,"fixed typo (#6963)

* fixed typo

stored vs storied

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-12-06T23:16:32Z,"switch from black to ruff formatter (#6543)

* migrate from black to ruff

* fix script and dependencies

* applying ruff

* add changeset

* add changeset

* address ruff feedback

* replace linter

* fixed typing

* fix typing

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-11-02T19:28:38Z,"fix: avoid unnecessary folders creation when flagging (#6245)

* fix: avoid unnecessary folders creation when flagging

* test: flagging_does_not_create_unnecessary_directories

---------

Co-authored-by: Egon Ferri <egon.ferri@immobiliare.it>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-10-31T04:46:02Z,"Version 4 development branch (#5498)

* squash commit

* BugFix: Make FileExplorer Component Templateable (#5933)

* Make FileExplorer templateable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix notebooks (#5935)

* V4: Update Component pyi file (#5937)

* Add code

* add changeset

* delete

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use beta release versions for '@gradio' packages (#5938)

* Fix versions

* add changeset

* fix

* add changeset

* fix

* add changeset

* Fix

* fix preview

* add changeset

* final fix

* add changeset

* fix

* add changeset

* fix

* add changeset

* revert change

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* maybe fix (#5946)

* Merge main again (#5948)

* maybe fix

* fix

* Merge main again (#5949)

* maybe fix

* fix

* weird weird weird

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Merge main again (#5950)

* maybe fix

* fix

* weird weird weird

* fix

* log

* log

* fix changesets

* rererefactor frontend files (#5960)

* do all the things

* add changeset

* remove codemod

* fix

* change casing

* condense upload button

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Strip vite import warning (#5962)

* Add code

* Remove comment

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5769)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* release wasm (#5963)

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Wasm release (#5964)

* release wasm

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5965)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add json schema unit tests (#5970)

* Add tests

* add changeset

* Fix tests

* api-info

* Add test

* Add test

* Add email tests

* 3.8 fix 🙄

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple textbox (#5990)

* Simple textbox

* add changeset

* Trim down events

* Trim

* Clean up change event

* Add comment

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* File upload optimization (#5961)

* Use custom multipart parser

* add changeset

* remove print

* Add comment

* Lint

* fix code

* remove print

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Removes deprecated arguments and parameters from v4 (#5968)

* Removes deprecated arguments and methods for v4

* remove update

* style

* add changeset

* added params

* typign

* fixed all of the typing

* tests

* fix layouts

* layout

* fix config

* fix

* fix form

* fix

* fix blocks tests

* fix some more tests

* lint

* fix test routes

* doc

* notebooks

* remove doc

* format

* format

* remove group

* label docstring

* remov test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple dropdown (#5996)

* Add code

* lint

* comment

* add changeset

* revert

* Fix update + docstring cleanup

* Add code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pass props to example components and to example outputs (#6014)

* pass props to example components and to example outputs

* add changeset

* make util less egenric/ more useful

* fix demo

* fix demo

* fix

* fix test

* Fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Format js in v4 branch (#6016)

* Format v4 branch js

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix component update bug  (#6027)

* Fix tests + bugs

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* lockfile update

* Fixing test

* fix test

* Add a cli command to list available templates (#6018)

* Add code

* dataset

* Add test

* add changeset

* add changeset

* add changeset

* add changeset

* Exclude FormComponent

* Paginate the output

* No colors but emojis:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix tests (#6046)

* fix storybook (#6065)

* fix storybook

* add changeset

* fix

* add changeset

* fix

* fix

* fix components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* remove dupe component (#6067)

* remove dupe component

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Simplify File Component (#6044)

* Add code

* Add code

* Add code

* Reuse code UploadButton

* Use two files for UploadButton

* Address feedback

* Lint

* add changeset

* Update js/uploadbutton/shared/UploadButton.svelte

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>

* Clean up backend of `File` and `UploadButton` and change the return type of `preprocess()` from TemporaryFIle to string filepath (#6060)

* changes

* add changeset

* upload button

* file

* add changeset

* valid types

* fix tests

* address review

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix Dropdown Example component and example processing logic (#6075)

* fix examples

* helpers

* dropdown

* fix cc build (#6079)

* fix cc build

* add changeset

* throw error if build fails

* fix entry points

* add changeset

* fix lockfile

* Add test

* update workflow

* try resolve

* lint 🙄

* Use xfail

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fixes markdown rendering in examples (#6071)

* Fixes markdown rendering in examples

* add changeset

* update delimiters

* format

* format

* docstrings

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Proposal: sample demo for custom components should be a `gr.Interface` (#6077)

* update sample demo to interface

* add changeset

* modify

* Update gradio/cli/commands/components/_create_utils.py

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* added layout and static

* fix

* refine

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* WIP: Fix docs (#6082)

* Website fix

* add changeset

* Fix code

* pin version

* Add code

* skip code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Pending events behavior (#5826)

* enter changesets pre-release mode

* release first version (#5500)

* release packages

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix changeset (#5502)

* add changeset

* release first version

* Custom components (#5507)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* Disable example caching for load right now

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* image fixes (#5589)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* fix image uploads

* add changeset

* remove changeset

* add changeset

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support Literal Typehints (#5591)

* Fix updateable

* Deploy for failing actions

* fix enum

* Add code

* remove gradio lite from publish ci

* fix

* fix

* chore: update versions (beta) (#5501)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix js deps in cli and add gradio-preview artifacts to build (#5610)

* Fix js dependencies in cli

* Add preview to build command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5612)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* backend linting (#5613)

* backend linting

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish js theme (#5615)

* Publish js theme

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5614)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add code (#5617)

* Add docstring to trigger release (#5618)

* Add docstring

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5619)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build and broken imports (#5620)

* fix broken import

* fix build scripts

* add changeset

* Update js/statustracker/static/index.svelte

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5621)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5624)

* fix build

* fix build

* add changeset

* fix build

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5626)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5629)

* fix build

* fix build

* add changeset

* fix build

* fix

* asd

* more fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* asd (#5630)

* chore: update versions (beta) (#5631)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Some minor v4 fixes (#5637)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish all components to npm (#5648)

* Publish image component

* publish components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5638)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix front-end imports + other misc fixes (#5649)

* Fix console error

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add overwrite flag to create command (#5651)

* Add overwrite flag to create command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5650)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Make layout components templateable (#5665)

* Split out layouts

* Refactor cli

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Patch fixes (#5678)

* Handle lowercase template name frontend

* Lint

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix build and file route (#5680)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5662)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fix typing (#5686)

* Add examples for series and parallel

* v4 fix typing

* add changeset

* Fix

* Fix

* Fix 3.8

* Fix typing 3.8

* Lint

* Add code

* Add key

* Fix typing

* Add code

* Fix deps

* Fix fastapi

* Fix version
'
:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use overrides (#5695)

* Use overrides

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* ensure client is copied along with components (#5709)

* ensure client is copied along with components

* add changeset

* add changeset

* chore: update versions (beta) (#5688)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build config (#5710)

* Fix python unit tests for v4 (#5715)

* Add code

* Fix tests

* Add ci

* Add code

* fix test_blocks

* More fixes

* Last changes

* add changeset

* Add code

* Continue for the sake of some green ci

* Proper api info

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Better test dir check (#5719)

* FIx test-dir check

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use path to npm executable in subprocess (#5736)

* Use path to npm in subprocess

* Fix dev mode too

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add Error + test (#5738)

* Add Error + test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix component regex (#5739)

* Add code

* Fix component regex

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix layout templates (#5740)

* Fix templates

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix template remaining components (#5743)

* add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* --overwrite deletes previous content (#5744)

* Add code

* Add code

* add changeset

* Add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support call method (#5751)

* Support call method

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows ci build (#5752)

* Try bash

* Use cross-env

* Trigger CI

* Fix comma

* add changeset

* Modify lock file

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows paths (#5745)

* Use posix path

* add changeset

* add changeset

* Try normalize

* to_posix v2

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5717)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Simplify how files are handled in components in 4.0 (#5768)

* Client and upload route hash files

* Refactor logic

* add changeset

* Add code

* View API fix

* Fix client tests

* Dumb windows fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix deployed demos on v4 branch (#5770)

* Template fixes

* add changeset

* add changeset

* Fix streaming audio

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Name Endpoints if api_name is None (#5782)

* Implementation and test

* add changeset

* fix lint

* Fix nits

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pending events

* add changeset

* Set api=False for cancel events (#5851)

* Set api=False for cancel events

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Set cache dir for some component tests (#5852)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use async version of shutil in upload route (#5853)

* Use async shutil copy

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* trigger_mode

* changes

* undo

* undo

* add changeset

* undo

* add changeset

* image undo

* add changeset

* fix merge errors

* remove prints

* change

* fix

* fix error

* change

* quick fix

* trigger_mode param

* type

* value error

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes: slider bar are too thin on FireFox (#5984)

* firefox slider fix

* add changeset

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix remaining xfail tests in backend (#6073)

* Add code'

* Add code

* Add code

* Fix dataset

* add changeset

* Add some comments

* Add recover_kwargs

* Remove from docstring

* Audio-to-audio

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix dev mode model3D (#5955)

* Fix dev mode

* Lint

* add changeset

* Fix dev mode

* Lint

* remove console.log

* add changeset

* interactive fix

* Fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Dawood <dawoodkhan82@gmail.com>

* V4: Single-file implementation of form components (#6026)

* Checkbox and number

* Number, Checkboxgroup, Radio, and Slider

* Format

* remove range

* Refactor checkbox

* Forgot to add

* Refactor

* Lint

* add changeset

* use rich emoji markup

* Fix ts

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update logos for v4 (#6089)

* update v4 logo

* add changeset

* size

* fix on website

* fix on demos

* add changeset

* favicon for demos

* margin on footer logo

* margin bottom to footer logo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add a stand-alone install command and tidy-up the fallback template (#6092)

* Add code

* add changeset

* Add test

* Make install default

* Better error message

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix constructor_args (#6093)

* Fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix: Move to cache in init postprocess + Fallback Fixes (#6107)

* Add code and test

* restore

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix build (#6112)

* fix build

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update cold-lemons-roll.md

* Revert ""Update cold-lemons-roll.md"" (#6113)

This reverts commit 20dbf908119b3a19b32f307a40158a9f3b4bf4eb.

* Try to trigger a major beta release (#6114)

* pyproject fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete bad changelog (#6115)

* Delete bad changelog

* Revert ""Delete bad changelog""

This reverts commit a8ca614eaf0e9f980a146a2fe76c3e23581db6f1.

* Delete bad

* formatting

* Revert ""formatting""

This reverts commit 94f43859e7d1927ab38e9ac77baaa016deede5fc.

* Improve Audio Component (#5966)

* replace <audio> with wavesurfer: add recording, playing and trimming, playback

* add changeset

* merge cleanup

* improving recording styling

* add recording timer

* add trim region duration

* allow trimming recordings

* clean up playing logic

* add pause_recording event

* remove crop min/max

* add waveform options param

* remove trimmingmode and use mode

* streaming + cleanup

* add changeset

* clean up types

* mobile adjustments

* add min/max length  + trim accessibility

* update pnpm lock

* amend source to a list and allow source switching

* fix no microphone found logic

* change undo logic to reset trims

* tweaks

* tweak reset logic

* ensure recording is sent to backend

* fix audio duration reactivity

* list tweak

* clean up

* change source -> sources + restore wasm changes

* formatting

* fix tests

* fix test

* add default sources value in fe + fix audio demos

* fix audio file name test

* add better sources typing

* ui test tweaks

* add default value in templates.py

* formatting

* remove unused prop

* add audio story

* add changeset

* revert sources changes

* remove story id

* fix be test

* fix be test

* fix notebooks

* formatting

* fix test

* fix test again

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* Fix changesets 2 (#6116)

* fix changesets

* release major

* Fix changesets 2 (#6117)

* fix changesets

* release major

* asd

* fix version

* chore: update versions (beta) (#5973)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* v4

* Open source FRP server and allow `gradio` to connect to custom share servers (#6091)

* add param

* add support for custom address

* add changeset

* share guide

* guide

* add params

* add changeset

* fix launch

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Gradio custom component publish (#6098)

* Add code

* add changeset

* F-string

* Add pwd

* Add source to space

* Add template

* Twine import

* add changeset

* ignore

* restore

* add changeset

* Address feedback

* Update gradio/cli/commands/components/publish.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix static issues with Lite on v4 (#6124)

* fix missing props

* fix path to types

* add changeset

* fix path to i18n

* fix audio tests

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Refactor `Blocks.load()` so that it is in the same style as the other listeners (#6126)

* restore decorator

* remove

* refactor load

* remove restriction

* add changeset

* add pyi

* add test

* add test

* fix tests

* metaclass

* future

* reduce'

* docstring

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Small change to make `api_open=False` by default (#6138)

* set api_open to False by default

* add changeset

* tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Image v4 (#6094)

* simplify image interface

* changes

* asd

* asd

* more

* add code (#6095)

* more

* fix tests

* add changeset

* fix client build

* fix linting

* fix test

* lint

* Fix tests + lint

* asd

* finish

* webcam selection

* fix backend

* address comments

* fix static checks

* fix everything

* add changeset

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix examples

* fix tests

* fix tests

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix fallback demo app template code (#6129)

* Add test

* add changeset

* Add JSON note

* Fix test

* Update gradio/cli/commands/components/_create_utils.py

* Update test/test_gradio_component_cli.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix video path

* Revert ""fix video path""

This reverts commit 5916b3dc8a91d4b0c92e33c71ee02b36df611c35.

* Fix selectable prop in the backend (#6135)

* Add to init

* Fix events

* add changeset

* Add code

* add changeset

* Fix typo

* Add code

* Fix highlighted text typo

* remove from docs

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix video (#6140)

* fix video

* add changeset

* fixes

* fixes

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix some tests on mac

* fix circular dependency with client + upload (#6143)

* fix circular dependency

* add changeset

* fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix image double change bug (#6146)

* fix test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* make lite private (#6147)

* make lite private

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix dropdown arrow size (#6148)

* fix dropdown arrow size

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* swap `mode` on the frontned to `interactive` to match the backend (#6149)

* JS READMEs and Storybook on Docs (#6142)

* changes

* changes

* working

* remove storybook path

* add changeset

* pin code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Don't serve files in working directory by default (#6128)

* don't serve files in working directory by default

* add changeset

* handle examples

* remove dotfiles

* guide

* guide

* fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix issues with website deploy (#6151)

* fixes

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Swap websockets for SSE (#6069)

* changes

* changes

* changes

* changes

* changes

* merge

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* changes

* changes

* add changeset

* Fix client tests sse branch (#6150)

* Switch spaces

* Fix tests

* Add code

* changes

* changes

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Remove duplicate `elem_ids` from components (#6152)

* remove elem_ids from components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Moves `gradio_cached_folder` inside the gradio temp direcotry (#6155)

* cache -> temp

* restore

* add changeset

* add exception for cached examples

* security policy

* join

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove `show_edit_button` param in Audio (#6153)

* remove `show_edit_button` param

* add changeset

* hide overflow

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove interpretation for good (#6154)

* interpretation

* notebooks

* add changeset

* removed from readme

* lint

* fix demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Make output components not editable if they are being updated (#6157)

* make outputs not editable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* JS Component Documentation (#6136)

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* add changeset

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* Merge in latest changes

* Fix typo

* Fix build

* Lockfile

* Fix

* Fix interactive

* correct the title

* add versions to readme

* only document public

* add changeset

* Remove simplevideo and audio

* add changeset

* changes to readmes

* add changeset

* remove tootils and theme

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Improve Video Component (#6118)

* change source to sources + add length logic

* add changeset

* add min/max logic

* tweak tests

* change sources

* formatting

* fix test_components.py test

* add trimming

* add changeset

* add keyboard events to trimming timeline

* UX improvements

* Add fix

* add loading status

* flip if webcam is only source

* generate notebooks

* remove scroll

* add file extension

* trim (#6156)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* add loading indicator to video

* ensure correct file ext is used

* tweak

* change where ffmpeg is loaded

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (beta) (#6122)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fixes (#6161)

* changes

* changes

* Pin 8.9 (#6162)

* Pending outputs fix (#6160)

* fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Clean root url (#6159)

* clean

* cleanup

* formatting

* add changeset

* fe

* add changeset

* selectable

* block

* fix

* fixes

* fix update

* gradio/events

* configs

* remove

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4 fixes (#6167)

* changes

* changes

* Fixes remaining backend tests (#6165)

* fix backend tests

* add changeset

* changes

* fix strings

* lint

* lint

* fixes

* delete test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-10-11T18:51:16Z,"Remove deprecated `.update()` usage from Interface internals (#5862)

* remove deprecated .update() usage from Interface

* add changeset

* add changeset

* builder app

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-08-09T18:14:12Z,"Fix dataset features and dataset preview for HuggingFaceDatasetSaver (#5135)

* Add tests

* Use hf token

* lint

* add changeset

* Add empty string for None

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-08-01T16:26:02Z,"Use `importlib` in favor of deprecated `pkg_resources` (#5048)

* fix(pkg_resources): use `importlib` in favor of `pkg_resources`

* lint

* import

* removed unnecessary version check

* fixes

* pass lint and format

* fix

* requirements

* fix all typing issues

* fix routes

* fix

* Delete forty-rooms-arrive.md

* add changeset

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-06-27T18:07:40Z,"More proper deprecation warnings (#4694)

* Add GradioDeprecationWarning subclass

* Add and use find_user_stack_level(); add warn_deprecation()

* Deduplicate `.style()` deprecation warning

* Deduplicate inputs deprecation warnings

* Deduplicate outputs deprecation warnings

* Use warn_deprecation for deprecation warnings

* Changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-05-10T19:49:49Z,"Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes"
github.com/gradio-app/gradio,gradio/flagging.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-05-02T18:20:35Z,Upgrade pyright to 1.1.305 (#4042)
github.com/gradio-app/gradio,gradio/flagging.py,2023-05-01T16:59:41Z,"Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-04-27T20:09:50Z,"Use f-strings where possible (#3984)

* Use f-strings where possible

Semi-automated using ikamensh/flynt

* Update gradio/utils.py

* Update gradio/interface.py

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-04-19T18:38:11Z,"Fix some documentation-related issues in Guides (#3903)

* client doc fixes

* simplify demo

* added guides

* chatbot guide

* notebooks

* format"
github.com/gradio-app/gradio,gradio/flagging.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-03-27T14:40:07Z,"Add docs for HF Json saver (#3604)

* Add docs for flagging

* Fix params

* CHANGELOG

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2023-03-06T23:06:23Z,"Remove everything related to encryption (#3396)

* remove requirements

* deprecate encrypt

* remove flagging

* deprecate

* formatting

* lint"
github.com/gradio-app/gradio,gradio/flagging.py,2023-02-28T18:29:34Z,"Some improvements to Flag (#3289)

* Fixes to button disable

* button

* formatting

* flagging fix

* fixes

* formatter

* changelog

* ormatting

* tests

* saving

* adding optionality for flagging

* updatest

* error catching

* updates

* changelog

* tests

* typing

* flag button

* formatting

* tests

* tests

* tests

* increased latency

* queue fix

* clear

* formatting

* fix

* fix tests"
github.com/gradio-app/gradio,gradio/flagging.py,2023-02-04T00:46:56Z,"Example caching now works with components without a label attribute (e.g. Column) (#3123)

* add non io component support for example caching

* chaneglog"
github.com/gradio-app/gradio,gradio/flagging.py,2023-01-21T04:15:45Z,"Fix to HuggingFaceDatasetSaver  (#3025)

* hf flag fix

* fixed huggingface hub params

* formatting

* fix flagging tests

* add a try / catch"
github.com/gradio-app/gradio,gradio/flagging.py,2023-01-03T17:20:02Z,"Updating typing in `utils.py` and `templates.py` (#2904)

* typing

* typing

* typing

* updated CHANGELOG.md

* typing

* typing

* typing

* typing

* Update max_args count to be -1 if positional param type

max_args would be set to the value of ""infinity"" when the param was of VAR_POSITIONAL type. That makes max_args hold both int and string values.
Updated the max_args to be set to -1 value.

* Updated to use same response and not previous response for validation

* Keep self._response uninitialized

* Updated to use empty BaseModel when not validation_model not present

* Reference `BlockContext` directly

* initializing end as 0 in format_net_list

* Updating docs for error_analytics

* Update file version check in utils

* Update gradio.strings import

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* Add utils.py and templates.py to type check script

* fixed changelog

* Update formatting of utils.py

* rerun ci

* flagging fix

* fix typing

* formatting

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2022-12-29T20:30:44Z,"Refactored `interface.py` (#2902)

* started pathlib

* blocks.py

* more changes

* fixes

* typing

* formatting

* typing

* renaming files

* changelog

* script

* changelog

* lint

* routes

* renamed

* state

* formatting

* state

* type check script

* remove strictness

* switched to pyright

* switched to pyright

* fixed flaky tests

* fixed test xray

* fixed load test

* fixed blocks tests

* formatting

* fixed components test

* uncomment tests

* fixed interpretation tests

* formatting

* last tests hopefully

* argh lint

* component

* fixed based on review

* refactor

* components.py t yping

* components.py

* formatting

* lint script

* merge

* merge

* lint

* pathlib

* lint

* events too

* lint script

* fixing tests

* lint

* examples

* serializing

* more files

* formatting

* flagging.py

* added to lint script

* fixed tab

* interface.py

* attempt fix

* refactoring interface

* interface refactor

* formatting

* fix for live interfaces

* lint

* serialize fix

* formatting

* all demos queue

* added type check

* formatting"
github.com/gradio-app/gradio,gradio/flagging.py,2022-12-29T20:18:19Z,"Added typing to even more files  (#2900)

* started pathlib

* blocks.py

* more changes

* fixes

* typing

* formatting

* typing

* renaming files

* changelog

* script

* changelog

* lint

* routes

* renamed

* state

* formatting

* state

* type check script

* remove strictness

* switched to pyright

* switched to pyright

* fixed flaky tests

* fixed test xray

* fixed load test

* fixed blocks tests

* formatting

* fixed components test

* uncomment tests

* fixed interpretation tests

* formatting

* last tests hopefully

* argh lint

* component

* fixed based on review

* refactor

* components.py t yping

* components.py

* formatting

* lint script

* merge

* merge

* lint

* pathlib

* lint

* events too

* lint script

* fixing tests

* lint

* examples

* serializing

* more files

* formatting

* flagging.py

* added to lint script

* fixed tab

* attempt fix

* serialize fix

* formatting

* all demos queue

* addressed review comments

* formatting"
github.com/gradio-app/gradio,gradio/flagging.py,2022-12-20T21:27:14Z,"Fixes flagging when `allow_flagging` is set to ""auto"" (#2695)

* flagging fix

* formatting

* changelog

* auto

* auto"
github.com/gradio-app/gradio,gradio/flagging.py,2022-09-21T16:53:06Z,"Supports `gr.update()` in example caching (#2309)

* support for update

* formatting

* testing

* fixes to tests

* fixes to tests

* fix tests

* fix review comments

* Update blocks.py"
github.com/gradio-app/gradio,gradio/flagging.py,2022-08-23T23:01:37Z,"Add a flagging callback to save json files to a hugging face dataset (#1821)

* work on saving flags in JSON format

* explained what I did more clearly

* final updates + added test case

* reviews to flagging.py for HuggingFaceDatasetJSONSaver

* formatted imports

* used uuid for random ids

* used uuid for random + function to get dataset infos

* reformmated flagging.py

* fix examples test

* formatting

* async examples

* working on mix

* comment out failing test

* fixed interface problem

* final updates to HuggingFaceDatasetJSONSaver flagging.py

* final updates to HuggingFaceDatasetJSONSaver flagging.py

* formatting

* some tweaks

* tweaks

* tweaks

* omar's fixes

* added back test.init

* restored test init

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/flagging.py,2022-08-23T15:31:04Z,"Cleaning up the way data is processed for components (#1967)

* remove preprocess_example

* removing methods

* added path support for images

* fixes

* video

* formatting

* fixing preprocess

* fixes

* removed from audio

* fixed file

* formatting

* serialization

* foramtting

* formatting

* removed save flag / restore flag

* formatting

* removed flagging

* removed

* load value

* fixing typing

* fixes, typing

* fixes

* file

* handling images

* formatting

* fixed serializing for flagging

* formatting

* json

* temp file

* removed processing

* changed processing

* fixed temp FINALLY

* flagging works

* fix examples test

* formatting

* async examples

* working on mix

* comment out failing test

* fixed interface problem

* fix kitchen sink deprecation warning

* gallery examples

* fixes

* fixes to serialization

* fixing label serializing

* fixed file serialization

* kitchen sink restored

* outbreak forecast updated

* formatting

* formatting and api mode

* fix 1 test :/

* fixing tests

* fixed components tests

* remvoed test files

* formatting

* fixed examples

* fixes

* formatting

* restored certain files

* added encryption

* fixed syntax mistake

* formatting

* fixed 1 test

* clean up interface

* formatting

* fixed route tests

* more fixes

* formatting

* formatting

* fixing pipeline

* format frontend

* format backend

* tweaks

* fix

* fix final test?

* merged

* Sanitize for CSV (#2017)

* sanitize for csv

* added sanitization logic

* fixed examples

* turn cache off

* fixed example caching with optional inputs

* fixed review problems

* fixed Interface.load

* updating the tests

* updating the tests

* fix

* fixed seriailizing

* testing

* rewrite run prediction

* formatting

* await

* fixes

* formatting

* finally fixed mix

* fixed tests

* formatting

* formatting

* deserialize fix

* formatting

* fixes

* fixes

* fix

* fix tests

* fixes

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,gradio/flagging.py,2022-08-05T00:55:09Z,"Referencing guides in docstrings and other fixes (#1905)

* tie guides to docs in docstrings

* reference guides in more sections

* fix missing guides in interface and blocks

* fix broken html div

* remove pinned metadata for ordering

* fix annoying comma space in guide tags

* retrigger codecov check

* fix guides bug in flagging

* add controlling layout guide to row, column, and tab"
github.com/gradio-app/gradio,gradio/flagging.py,2022-07-21T20:10:22Z,"Adding flagging callbacks to the docs (#1834)

* added flagging documentation

* formatting

* added example usage

* formatting

* addressed comments"
github.com/gradio-app/gradio,gradio/flagging.py,2022-07-21T19:57:58Z,"Fixes cached examples (#1850)

* examples fix

* fix bug

* formatting"
github.com/gradio-app/gradio,gradio/flagging.py,2022-07-11T22:39:44Z,"Fixes multiple people using `HuggingFaceDatasetSaver` simultaneously (#1744)

* pull before updating repo

* formatting

* fix concurrency issue

* formatting"
github.com/gradio-app/gradio,gradio/flagging.py,2022-07-06T18:23:35Z,"Exposing examples as a component for Blocks (#1639)

* examples as component

* renamed examples

* simplify internal logic

* fix tests

* cleanup

* fixed parallel and series

* cleaning up examples

* examples

* formatting

* fixes

* added unique ids

* added demo

* formatting

* fixed test_examples

* fixed test_interfaces

* fixed tests

* removed test from now

* raise ValueError for bad parameter values

* fixing series

* fixed series

* formatting

* speed up by preprocessing examples

* fixed parameter validation logic"
github.com/gradio-app/gradio,gradio/flagging.py,2022-04-19T01:36:43Z,merge in master
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-25T18:12:45Z,flagging tests pass
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-25T06:44:09Z,changes
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-25T06:20:22Z,import sort
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-25T06:03:47Z,fix format
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-25T04:15:05Z,changes
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-23T23:36:07Z,changes
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-17T19:28:37Z,"Merge pull request #826 from gradio-app/comp-label

Component label fixes"
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-17T17:30:51Z,removed quoting for hf dataset saver
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-17T17:16:31Z,backend formatting
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-17T17:15:56Z,quoting fix
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-17T00:26:39Z,changes
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-16T23:09:20Z,fixed label bugs
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-14T14:37:30Z,"formatting


Former-commit-id: b78188d885230fd4ad617ee7288e840aa6dea321"
github.com/gradio-app/gradio,gradio/flagging.py,2022-03-14T14:36:51Z,"sanitize flagging inputs before writing to csv


Former-commit-id: f2d9f808c79abec7f2c8ff4a94b17a9b1cdd5651"
github.com/gradio-app/gradio,gradio/flagging.py,2022-02-08T18:56:13Z,Upgrade black to version ~=22.0
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-24T04:54:48Z,flagging
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-21T16:28:41Z,updated PyPi version to 2.7.3
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-21T15:48:24Z,fixed flagging
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-21T13:44:12Z,"Format The Codebase
- black formatting
- isort formatting"
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-19T19:33:55Z,added for previewing image
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-19T18:53:42Z,added code for previewing audio
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-19T16:40:28Z,added code for previewing audio
github.com/gradio-app/gradio,gradio/flagging.py,2022-01-19T15:59:42Z,added typing
github.com/gradio-app/gradio,gradio/flagging.py,2021-12-30T08:20:28Z,cache examples functionality; other fixes
github.com/gradio-app/gradio,gradio/flagging.py,2021-12-23T16:05:08Z,flagging is working
github.com/gradio-app/gradio,gradio/flagging.py,2021-12-23T15:00:58Z,HF dataset creation works
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-21T01:04:02Z,wip flagging spaces
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-19T20:49:14Z,fixing flagging
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-16T18:43:40Z,fixed some flagging tests
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-16T18:24:01Z,reorganized flagging to make it easier to subclass
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-13T06:35:25Z,refactored flagging
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-13T06:33:59Z,refactored flagging
github.com/gradio-app/gradio,gradio/flagging.py,2021-11-01T16:40:51Z,rewrote DefaultFlaggingHandler not to need app
github.com/gradio-app/gradio,gradio/flagging.py,2021-10-28T21:20:08Z,added skeleton for hf
github.com/gradio-app/gradio,gradio/flagging.py,2021-10-28T21:19:43Z,added skeleton for hf
github.com/gradio-app/gradio,gradio/flagging.py,2021-10-28T05:50:33Z,implemented default flagging as handler
github.com/gradio-app/gradio,gradio/flagging.py,2021-10-27T18:43:24Z,started spaces architecture
github.com/gradio-app/gradio,gradio/external.py,2024-02-21T02:36:10Z,"Reverts the revert that dropped changes from 2 PRs (#7495)

* Revert ""Revert ""changes""""

This reverts commit 032435368d8d8db7439da5ffa966987f80c58db3.

* patch"
github.com/gradio-app/gradio,gradio/external.py,2024-02-20T22:21:27Z,"Revert ""changes""

This reverts commit 19dd2218dcacfb55cf55979d06f4c9880c15e856, reversing
changes made to 6a936330543c1b989ac1c957b2572dcd44e9ab7f."
github.com/gradio-app/gradio,gradio/external.py,2024-02-19T21:29:20Z,"Enable Ruff S101 (#7477)

* Update to Ruff 0.2.2

* Enable Ruff S101; don't use asserts in runtime code, or AssertionErrors for flow control"
github.com/gradio-app/gradio,gradio/external.py,2024-02-09T19:24:00Z,"Fix `gr.load` for file-based Spaces (#7350)

* changes

* add changeset

* fixes

* changes

* fix

* add test

* add changeset

* improve test

* Fixing `gr.load()` part II (#7358)

* audio

* changes

* add changeset

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete .changeset/fresh-gifts-worry.md

* add changeset

* format

* upload

* add changeset

* changes

* backend

* print

* add changeset

* changes

* client

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2024-02-06T22:34:02Z,"Hotfix for: `stt_or_tts` demo (#7332)

* fix

* add changeset

* add changeset

* notebooks

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2024-02-06T20:27:44Z,"Refactor Inference API and rename it to Serverless Inference Endpoints (#7295)

* changes

* changes

* add changeset

* add changeset

* changes

* all pipelines

* format

* clean

* add examples

* fix audio classification

* format

* format

* fix all pipelines

* fixes

* fixes

* fix tabular

* add changeset

* added future

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2024-02-05T13:25:34Z,Determine documentation group automatically (#7062)
github.com/gradio-app/gradio,gradio/external.py,2024-02-01T19:32:40Z,"Update ruff to 0.1.13, enable more rules, fix issues (#7061)

* add changeset

* Update ruff to version 0.1.13

* Correct ruff target version

* Enable more Ruff rules and fix issues

* Enable ARG and fix issues

* Enable PL lints, fix issues

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2024-01-28T02:08:14Z,"Add missing parameters and docstrings for `gr.TabbedInterface` (#7190)

* cleanup

* add changeset

* interface

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-12-22T19:59:02Z,"Add `show_api` parameter to events, and fix `gr.load()`. Also makes some minor improvements to the ""view API"" page when running on Spaces (#6846)

* show api

* chnages

* add changeset

* changes

* changes to interface

* set show_api=False

* changes

* development

* examples

* changes

* add changeset

* changes

* changes

* format

* add changeset

* add changeset

* changes

* revert

* fixes

* is vaild

* push

* fixes'

* fixing

* fixes

* format

* fixed

* demo

* test

* format

* add changeset

* fix tests

* fix

* format

* cleanup

* remove

* fixes

* add test

* format

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-12-15T20:35:46Z,"Fix `gr.load()` so that it works with the SSE v1 protocol (#6810)

* fix for gr.load()

* add changeset

* fix

* add test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-12-06T23:16:32Z,"switch from black to ruff formatter (#6543)

* migrate from black to ruff

* fix script and dependencies

* applying ruff

* add changeset

* add changeset

* address ruff feedback

* replace linter

* fixed typing

* fix typing

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-12-05T22:18:09Z,"Issue 5245: consolidate usage of requests and httpx (#6598)

* issue 5245 commit 1

* formatted

* add changeset

* fixes

* fixes

* make changes in client too

* remove requests from client

* add changeset

* add changeset

* Fixes to test_utils.py in client

* fixes in client utils.py and test_utils.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-11-15T19:31:26Z,"chore: rename api_key to hf_token (#6437)

* chore: rename api_key to hf_token

The param name changed in the past but these comments and error
messages are stale.

* add changeset

* demos

* notebooks

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-10-31T04:46:02Z,"Version 4 development branch (#5498)

* squash commit

* BugFix: Make FileExplorer Component Templateable (#5933)

* Make FileExplorer templateable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix notebooks (#5935)

* V4: Update Component pyi file (#5937)

* Add code

* add changeset

* delete

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use beta release versions for '@gradio' packages (#5938)

* Fix versions

* add changeset

* fix

* add changeset

* fix

* add changeset

* Fix

* fix preview

* add changeset

* final fix

* add changeset

* fix

* add changeset

* fix

* add changeset

* revert change

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* maybe fix (#5946)

* Merge main again (#5948)

* maybe fix

* fix

* Merge main again (#5949)

* maybe fix

* fix

* weird weird weird

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Merge main again (#5950)

* maybe fix

* fix

* weird weird weird

* fix

* log

* log

* fix changesets

* rererefactor frontend files (#5960)

* do all the things

* add changeset

* remove codemod

* fix

* change casing

* condense upload button

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Strip vite import warning (#5962)

* Add code

* Remove comment

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5769)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* release wasm (#5963)

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Wasm release (#5964)

* release wasm

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5965)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add json schema unit tests (#5970)

* Add tests

* add changeset

* Fix tests

* api-info

* Add test

* Add test

* Add email tests

* 3.8 fix 🙄

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple textbox (#5990)

* Simple textbox

* add changeset

* Trim down events

* Trim

* Clean up change event

* Add comment

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* File upload optimization (#5961)

* Use custom multipart parser

* add changeset

* remove print

* Add comment

* Lint

* fix code

* remove print

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Removes deprecated arguments and parameters from v4 (#5968)

* Removes deprecated arguments and methods for v4

* remove update

* style

* add changeset

* added params

* typign

* fixed all of the typing

* tests

* fix layouts

* layout

* fix config

* fix

* fix form

* fix

* fix blocks tests

* fix some more tests

* lint

* fix test routes

* doc

* notebooks

* remove doc

* format

* format

* remove group

* label docstring

* remov test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple dropdown (#5996)

* Add code

* lint

* comment

* add changeset

* revert

* Fix update + docstring cleanup

* Add code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pass props to example components and to example outputs (#6014)

* pass props to example components and to example outputs

* add changeset

* make util less egenric/ more useful

* fix demo

* fix demo

* fix

* fix test

* Fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Format js in v4 branch (#6016)

* Format v4 branch js

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix component update bug  (#6027)

* Fix tests + bugs

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* lockfile update

* Fixing test

* fix test

* Add a cli command to list available templates (#6018)

* Add code

* dataset

* Add test

* add changeset

* add changeset

* add changeset

* add changeset

* Exclude FormComponent

* Paginate the output

* No colors but emojis:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix tests (#6046)

* fix storybook (#6065)

* fix storybook

* add changeset

* fix

* add changeset

* fix

* fix

* fix components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* remove dupe component (#6067)

* remove dupe component

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Simplify File Component (#6044)

* Add code

* Add code

* Add code

* Reuse code UploadButton

* Use two files for UploadButton

* Address feedback

* Lint

* add changeset

* Update js/uploadbutton/shared/UploadButton.svelte

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>

* Clean up backend of `File` and `UploadButton` and change the return type of `preprocess()` from TemporaryFIle to string filepath (#6060)

* changes

* add changeset

* upload button

* file

* add changeset

* valid types

* fix tests

* address review

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix Dropdown Example component and example processing logic (#6075)

* fix examples

* helpers

* dropdown

* fix cc build (#6079)

* fix cc build

* add changeset

* throw error if build fails

* fix entry points

* add changeset

* fix lockfile

* Add test

* update workflow

* try resolve

* lint 🙄

* Use xfail

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fixes markdown rendering in examples (#6071)

* Fixes markdown rendering in examples

* add changeset

* update delimiters

* format

* format

* docstrings

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Proposal: sample demo for custom components should be a `gr.Interface` (#6077)

* update sample demo to interface

* add changeset

* modify

* Update gradio/cli/commands/components/_create_utils.py

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* added layout and static

* fix

* refine

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* WIP: Fix docs (#6082)

* Website fix

* add changeset

* Fix code

* pin version

* Add code

* skip code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Pending events behavior (#5826)

* enter changesets pre-release mode

* release first version (#5500)

* release packages

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix changeset (#5502)

* add changeset

* release first version

* Custom components (#5507)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* Disable example caching for load right now

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* image fixes (#5589)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* fix image uploads

* add changeset

* remove changeset

* add changeset

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support Literal Typehints (#5591)

* Fix updateable

* Deploy for failing actions

* fix enum

* Add code

* remove gradio lite from publish ci

* fix

* fix

* chore: update versions (beta) (#5501)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix js deps in cli and add gradio-preview artifacts to build (#5610)

* Fix js dependencies in cli

* Add preview to build command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5612)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* backend linting (#5613)

* backend linting

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish js theme (#5615)

* Publish js theme

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5614)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add code (#5617)

* Add docstring to trigger release (#5618)

* Add docstring

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5619)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build and broken imports (#5620)

* fix broken import

* fix build scripts

* add changeset

* Update js/statustracker/static/index.svelte

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5621)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5624)

* fix build

* fix build

* add changeset

* fix build

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5626)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5629)

* fix build

* fix build

* add changeset

* fix build

* fix

* asd

* more fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* asd (#5630)

* chore: update versions (beta) (#5631)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Some minor v4 fixes (#5637)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish all components to npm (#5648)

* Publish image component

* publish components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5638)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix front-end imports + other misc fixes (#5649)

* Fix console error

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add overwrite flag to create command (#5651)

* Add overwrite flag to create command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5650)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Make layout components templateable (#5665)

* Split out layouts

* Refactor cli

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Patch fixes (#5678)

* Handle lowercase template name frontend

* Lint

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix build and file route (#5680)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5662)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fix typing (#5686)

* Add examples for series and parallel

* v4 fix typing

* add changeset

* Fix

* Fix

* Fix 3.8

* Fix typing 3.8

* Lint

* Add code

* Add key

* Fix typing

* Add code

* Fix deps

* Fix fastapi

* Fix version
'
:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use overrides (#5695)

* Use overrides

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* ensure client is copied along with components (#5709)

* ensure client is copied along with components

* add changeset

* add changeset

* chore: update versions (beta) (#5688)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build config (#5710)

* Fix python unit tests for v4 (#5715)

* Add code

* Fix tests

* Add ci

* Add code

* fix test_blocks

* More fixes

* Last changes

* add changeset

* Add code

* Continue for the sake of some green ci

* Proper api info

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Better test dir check (#5719)

* FIx test-dir check

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use path to npm executable in subprocess (#5736)

* Use path to npm in subprocess

* Fix dev mode too

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add Error + test (#5738)

* Add Error + test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix component regex (#5739)

* Add code

* Fix component regex

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix layout templates (#5740)

* Fix templates

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix template remaining components (#5743)

* add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* --overwrite deletes previous content (#5744)

* Add code

* Add code

* add changeset

* Add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support call method (#5751)

* Support call method

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows ci build (#5752)

* Try bash

* Use cross-env

* Trigger CI

* Fix comma

* add changeset

* Modify lock file

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows paths (#5745)

* Use posix path

* add changeset

* add changeset

* Try normalize

* to_posix v2

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5717)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Simplify how files are handled in components in 4.0 (#5768)

* Client and upload route hash files

* Refactor logic

* add changeset

* Add code

* View API fix

* Fix client tests

* Dumb windows fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix deployed demos on v4 branch (#5770)

* Template fixes

* add changeset

* add changeset

* Fix streaming audio

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Name Endpoints if api_name is None (#5782)

* Implementation and test

* add changeset

* fix lint

* Fix nits

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pending events

* add changeset

* Set api=False for cancel events (#5851)

* Set api=False for cancel events

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Set cache dir for some component tests (#5852)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use async version of shutil in upload route (#5853)

* Use async shutil copy

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* trigger_mode

* changes

* undo

* undo

* add changeset

* undo

* add changeset

* image undo

* add changeset

* fix merge errors

* remove prints

* change

* fix

* fix error

* change

* quick fix

* trigger_mode param

* type

* value error

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes: slider bar are too thin on FireFox (#5984)

* firefox slider fix

* add changeset

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix remaining xfail tests in backend (#6073)

* Add code'

* Add code

* Add code

* Fix dataset

* add changeset

* Add some comments

* Add recover_kwargs

* Remove from docstring

* Audio-to-audio

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix dev mode model3D (#5955)

* Fix dev mode

* Lint

* add changeset

* Fix dev mode

* Lint

* remove console.log

* add changeset

* interactive fix

* Fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Dawood <dawoodkhan82@gmail.com>

* V4: Single-file implementation of form components (#6026)

* Checkbox and number

* Number, Checkboxgroup, Radio, and Slider

* Format

* remove range

* Refactor checkbox

* Forgot to add

* Refactor

* Lint

* add changeset

* use rich emoji markup

* Fix ts

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update logos for v4 (#6089)

* update v4 logo

* add changeset

* size

* fix on website

* fix on demos

* add changeset

* favicon for demos

* margin on footer logo

* margin bottom to footer logo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add a stand-alone install command and tidy-up the fallback template (#6092)

* Add code

* add changeset

* Add test

* Make install default

* Better error message

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix constructor_args (#6093)

* Fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix: Move to cache in init postprocess + Fallback Fixes (#6107)

* Add code and test

* restore

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix build (#6112)

* fix build

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update cold-lemons-roll.md

* Revert ""Update cold-lemons-roll.md"" (#6113)

This reverts commit 20dbf908119b3a19b32f307a40158a9f3b4bf4eb.

* Try to trigger a major beta release (#6114)

* pyproject fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete bad changelog (#6115)

* Delete bad changelog

* Revert ""Delete bad changelog""

This reverts commit a8ca614eaf0e9f980a146a2fe76c3e23581db6f1.

* Delete bad

* formatting

* Revert ""formatting""

This reverts commit 94f43859e7d1927ab38e9ac77baaa016deede5fc.

* Improve Audio Component (#5966)

* replace <audio> with wavesurfer: add recording, playing and trimming, playback

* add changeset

* merge cleanup

* improving recording styling

* add recording timer

* add trim region duration

* allow trimming recordings

* clean up playing logic

* add pause_recording event

* remove crop min/max

* add waveform options param

* remove trimmingmode and use mode

* streaming + cleanup

* add changeset

* clean up types

* mobile adjustments

* add min/max length  + trim accessibility

* update pnpm lock

* amend source to a list and allow source switching

* fix no microphone found logic

* change undo logic to reset trims

* tweaks

* tweak reset logic

* ensure recording is sent to backend

* fix audio duration reactivity

* list tweak

* clean up

* change source -> sources + restore wasm changes

* formatting

* fix tests

* fix test

* add default sources value in fe + fix audio demos

* fix audio file name test

* add better sources typing

* ui test tweaks

* add default value in templates.py

* formatting

* remove unused prop

* add audio story

* add changeset

* revert sources changes

* remove story id

* fix be test

* fix be test

* fix notebooks

* formatting

* fix test

* fix test again

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* Fix changesets 2 (#6116)

* fix changesets

* release major

* Fix changesets 2 (#6117)

* fix changesets

* release major

* asd

* fix version

* chore: update versions (beta) (#5973)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* v4

* Open source FRP server and allow `gradio` to connect to custom share servers (#6091)

* add param

* add support for custom address

* add changeset

* share guide

* guide

* add params

* add changeset

* fix launch

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Gradio custom component publish (#6098)

* Add code

* add changeset

* F-string

* Add pwd

* Add source to space

* Add template

* Twine import

* add changeset

* ignore

* restore

* add changeset

* Address feedback

* Update gradio/cli/commands/components/publish.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix static issues with Lite on v4 (#6124)

* fix missing props

* fix path to types

* add changeset

* fix path to i18n

* fix audio tests

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Refactor `Blocks.load()` so that it is in the same style as the other listeners (#6126)

* restore decorator

* remove

* refactor load

* remove restriction

* add changeset

* add pyi

* add test

* add test

* fix tests

* metaclass

* future

* reduce'

* docstring

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Small change to make `api_open=False` by default (#6138)

* set api_open to False by default

* add changeset

* tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Image v4 (#6094)

* simplify image interface

* changes

* asd

* asd

* more

* add code (#6095)

* more

* fix tests

* add changeset

* fix client build

* fix linting

* fix test

* lint

* Fix tests + lint

* asd

* finish

* webcam selection

* fix backend

* address comments

* fix static checks

* fix everything

* add changeset

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix examples

* fix tests

* fix tests

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix fallback demo app template code (#6129)

* Add test

* add changeset

* Add JSON note

* Fix test

* Update gradio/cli/commands/components/_create_utils.py

* Update test/test_gradio_component_cli.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix video path

* Revert ""fix video path""

This reverts commit 5916b3dc8a91d4b0c92e33c71ee02b36df611c35.

* Fix selectable prop in the backend (#6135)

* Add to init

* Fix events

* add changeset

* Add code

* add changeset

* Fix typo

* Add code

* Fix highlighted text typo

* remove from docs

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix video (#6140)

* fix video

* add changeset

* fixes

* fixes

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix some tests on mac

* fix circular dependency with client + upload (#6143)

* fix circular dependency

* add changeset

* fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix image double change bug (#6146)

* fix test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* make lite private (#6147)

* make lite private

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix dropdown arrow size (#6148)

* fix dropdown arrow size

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* swap `mode` on the frontned to `interactive` to match the backend (#6149)

* JS READMEs and Storybook on Docs (#6142)

* changes

* changes

* working

* remove storybook path

* add changeset

* pin code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Don't serve files in working directory by default (#6128)

* don't serve files in working directory by default

* add changeset

* handle examples

* remove dotfiles

* guide

* guide

* fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix issues with website deploy (#6151)

* fixes

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Swap websockets for SSE (#6069)

* changes

* changes

* changes

* changes

* changes

* merge

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* changes

* changes

* add changeset

* Fix client tests sse branch (#6150)

* Switch spaces

* Fix tests

* Add code

* changes

* changes

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Remove duplicate `elem_ids` from components (#6152)

* remove elem_ids from components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Moves `gradio_cached_folder` inside the gradio temp direcotry (#6155)

* cache -> temp

* restore

* add changeset

* add exception for cached examples

* security policy

* join

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove `show_edit_button` param in Audio (#6153)

* remove `show_edit_button` param

* add changeset

* hide overflow

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove interpretation for good (#6154)

* interpretation

* notebooks

* add changeset

* removed from readme

* lint

* fix demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Make output components not editable if they are being updated (#6157)

* make outputs not editable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* JS Component Documentation (#6136)

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* add changeset

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* Merge in latest changes

* Fix typo

* Fix build

* Lockfile

* Fix

* Fix interactive

* correct the title

* add versions to readme

* only document public

* add changeset

* Remove simplevideo and audio

* add changeset

* changes to readmes

* add changeset

* remove tootils and theme

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Improve Video Component (#6118)

* change source to sources + add length logic

* add changeset

* add min/max logic

* tweak tests

* change sources

* formatting

* fix test_components.py test

* add trimming

* add changeset

* add keyboard events to trimming timeline

* UX improvements

* Add fix

* add loading status

* flip if webcam is only source

* generate notebooks

* remove scroll

* add file extension

* trim (#6156)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* add loading indicator to video

* ensure correct file ext is used

* tweak

* change where ffmpeg is loaded

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (beta) (#6122)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fixes (#6161)

* changes

* changes

* Pin 8.9 (#6162)

* Pending outputs fix (#6160)

* fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Clean root url (#6159)

* clean

* cleanup

* formatting

* add changeset

* fe

* add changeset

* selectable

* block

* fix

* fixes

* fix update

* gradio/events

* configs

* remove

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4 fixes (#6167)

* changes

* changes

* Fixes remaining backend tests (#6165)

* fix backend tests

* add changeset

* changes

* fix strings

* lint

* lint

* fixes

* delete test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-10-07T01:14:14Z,"Assert refactor in external.py (#5811)

* Refactored assert statements to if statements

* format-addons

* format

* add changeset

* Update gradio/external.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* refactored video.py

* refactored all the assert statements with response

* add changeset

* add changeset

* Apply suggestions from code review

* Refactored documentation.py and few more files

* avoid circular

* Replaced all assert statements

* lint

* notebooks

* fix

* minor changes

* final changes according to tests

* Lint

* last fix

* fix

* fix utils test

* fix serialization error

* fix serialization error

---------

Co-authored-by: harry-urek <hariombhardwaj038@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-08-16T05:28:19Z,"Allow `gr.Interface.from_pipeline()` and `gr.load()` to work within `gr.Blocks()` (#5231)

* add test

* external

* fixed in external

* add changeset

* close demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-06-27T18:07:40Z,"More proper deprecation warnings (#4694)

* Add GradioDeprecationWarning subclass

* Add and use find_user_stack_level(); add warn_deprecation()

* Deduplicate `.style()` deprecation warning

* Deduplicate inputs deprecation warnings

* Deduplicate outputs deprecation warnings

* Use warn_deprecation for deprecation warnings

* Changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-06-07T18:55:05Z,"Fix loading private Spaces (#4430)

* replace api key with hf_token

* removed extra slash

* changelog

* update notebooks

* lint

* changelog

* changelog

* revert demo"
github.com/gradio-app/gradio,gradio/external.py,2023-05-31T18:49:10Z,"Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings"
github.com/gradio-app/gradio,gradio/external.py,2023-05-18T15:04:59Z,"Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency"
github.com/gradio-app/gradio,gradio/external.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-05-01T17:18:58Z,"Support new tasks with Hugging Face integration (#3887)

* Update pipelines.py

* Add pipelines that run models locally

* Fix typo

* Add new pipelines with API

* Add changelog

* changelog

* changes

* fix tests

* linting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-04-27T20:09:50Z,"Use f-strings where possible (#3984)

* Use f-strings where possible

Semi-automated using ikamensh/flynt

* Update gradio/utils.py

* Update gradio/interface.py

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-04-03T22:48:18Z,"Switch linting to Ruff (#3710)

* Sort requirements.in

* Switch flake8 + isort to ruff

* Apply ruff import order fixes

* Fix ruff complaints in demo/

* Fix ruff complaints in test/

* Use `x is not y`, not `not x is y`

* Remove unused listdir from website generator

* Clean up duplicate dict keys

* Add changelog entry

* Clean up unused imports (except in gradio/__init__.py)

* add space

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2023-03-29T22:00:20Z,"Documentation-related fixes to the python client (#3663)

* docstring

* add documentation

* added more serialization classes

* format

* info

* is valid

* formatting

* changes

* fixups

* fix tests

* machine readable

* formatting

* client

* format

* tweaks on printing

* version

* linting

* fix tests

* update pypi requirements

* updates

* type ignore'

* fixes

* formatting"
github.com/gradio-app/gradio,gradio/external.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2023-02-14T22:21:09Z,"Miscellaneous warnings and errors  (#3194)

* changes

* added workflow

* fix action

* fix action

* fix action

* warning for filetypes

* miscellaneous warnings and errors

* Delete benchmark-queue.yml

* Delete benchmark_queue.py

* changelog

* warning

* formatting

* changelog

* formatting"
github.com/gradio-app/gradio,gradio/external.py,2023-02-07T15:55:51Z,"Fixes components when loading private spaces  (#3068)

* file routes

* adding access token

* add reverse proxy

* adding access token

* context

* rewrite

* frontend

* formatting

* changelog

* formatting

* fix tests

* fixed image issue

* fix frontend

* os removal

* Update test_external.py

* fixes to normalise

* version

* fixes so that functions work

* lint

* formatting"
github.com/gradio-app/gradio,gradio/external.py,2023-01-18T19:49:03Z,"Add conversational and text-to-image pipelines to Interface.load (#3011)

* Add conversational and text-to-image

* remove redundant state

* CHANGELOG

* Add media to changelog

* Lint

* Format code

* Fix typos in CHANGELOG"
github.com/gradio-app/gradio,gradio/external.py,2022-12-29T20:18:19Z,"Added typing to even more files  (#2900)

* started pathlib

* blocks.py

* more changes

* fixes

* typing

* formatting

* typing

* renaming files

* changelog

* script

* changelog

* lint

* routes

* renamed

* state

* formatting

* state

* type check script

* remove strictness

* switched to pyright

* switched to pyright

* fixed flaky tests

* fixed test xray

* fixed load test

* fixed blocks tests

* formatting

* fixed components test

* uncomment tests

* fixed interpretation tests

* formatting

* last tests hopefully

* argh lint

* component

* fixed based on review

* refactor

* components.py t yping

* components.py

* formatting

* lint script

* merge

* merge

* lint

* pathlib

* lint

* events too

* lint script

* fixing tests

* lint

* examples

* serializing

* more files

* formatting

* flagging.py

* added to lint script

* fixed tab

* attempt fix

* serialize fix

* formatting

* all demos queue

* addressed review comments

* formatting"
github.com/gradio-app/gradio,gradio/external.py,2022-12-27T21:54:47Z,"Enforcing typing in `blocks.py` and `context.py ` (#2887)

* started pathlib

* blocks.py

* more changes

* fixes

* typing

* formatting

* typing

* renaming files

* changelog

* script

* changelog

* lint

* routes

* renamed

* state

* formatting

* state

* type check script

* remove strictness

* switched to pyright

* switched to pyright

* fixed flaky tests

* fixed test xray

* fixed load test

* fixed blocks tests

* formatting

* fixed components test

* uncomment tests

* fixed interpretation tests

* formatting

* last tests hopefully

* argh lint

* component

* fixed based on review

* refactor"
github.com/gradio-app/gradio,gradio/external.py,2022-12-09T14:12:19Z,"Fix preprocessing for audio input pipelines in external.py (#2779)

* Fix bug in loading audio

* Changelog

* Add test

* Fail if error doesn't come from rate limit

* lint

* update model examples

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/external.py,2022-11-23T04:44:47Z,"Adds better warnings / error messages for `gr.Interface.load()` (#2694)

* added better docs

* formatting

* changelog"
github.com/gradio-app/gradio,gradio/external.py,2022-11-03T19:35:56Z,"Load example from external Spaces (#2594)

* started

* loading examples

* saves

* fixes

* formatting

* iocomponent

* added support to other components

* fixed tests

* added video support

* added 1 test

* more changes

* reverted components.py

* remaining components

* formatting

* fixes

* fixes

* tests

* fixed ability to load multiple spaces"
github.com/gradio-app/gradio,gradio/external.py,2022-11-01T16:14:15Z,"Refactoring `external.py` (#2579)

* pass token & add typing

* updated docstring

* reorg

* improve docs

* test for private space

* changelog

* changed asserts

* pipelines

* streamline

* formatting

* int

* dataclass

* formatting

* annotations

* formatting

* external test fixes

* formatting

* typing

* addressing review

* fix tests

* dataframedata

* refactoring

* removed unused imports

* added better error message for invalid spaces

* removed unnecessary import"
github.com/gradio-app/gradio,gradio/external.py,2022-11-01T03:29:13Z,"Add support for loading Private Spaces using HF Token (#2568)

* pass token & add typing

* updated docstring

* reorg

* improve docs

* test for private space

* changelog

* addressing review

* fix tests

* fix websocket headers"
github.com/gradio-app/gradio,gradio/external.py,2022-10-14T22:43:24Z,"Cancel events from other events (#2433)

* WIP

* Use async iteration

* Format + comment

* Very hacky WIP

* Fix synchronization

* Add comments + tidy up implementation

* Remove print

* Fix rebase

* Lint

* Disconnect queue when cancelled

* Add stop button for interface automaticallY

* Unit tests + interface fixes

* Skip some tests on 3.7

* Skip in 3.7

* Fix skip message

* Fix for python 3.7

* Add stop variant to button variant type union

* CHANGELOG

* Add demos/gifs to the changelog"
github.com/gradio-app/gradio,gradio/external.py,2022-10-07T05:08:30Z,Resolve Gallery base64 representation issues (#2265)
github.com/gradio-app/gradio,gradio/external.py,2022-09-21T17:18:40Z,"Respect Upstream Queue when loading interfaces/blocks from Spaces (#2294)

* Fix fn used in load when queue is enabled

* Respect upstream queue

* Fix test

* Skip in 3.7

* Update logic to respect if fn does not have queue

* Fix impl + test"
github.com/gradio-app/gradio,gradio/external.py,2022-09-06T13:15:57Z,"Skops integration: Load tabular classification and regression models from the hub (#2126)

* MVP of skops integration

* Add unit tests

* One more case

* Fix NaNs in widget data

* Remove breakpoint

* Fix typo"
github.com/gradio-app/gradio,gradio/external.py,2022-08-23T15:31:04Z,"Cleaning up the way data is processed for components (#1967)

* remove preprocess_example

* removing methods

* added path support for images

* fixes

* video

* formatting

* fixing preprocess

* fixes

* removed from audio

* fixed file

* formatting

* serialization

* foramtting

* formatting

* removed save flag / restore flag

* formatting

* removed flagging

* removed

* load value

* fixing typing

* fixes, typing

* fixes

* file

* handling images

* formatting

* fixed serializing for flagging

* formatting

* json

* temp file

* removed processing

* changed processing

* fixed temp FINALLY

* flagging works

* fix examples test

* formatting

* async examples

* working on mix

* comment out failing test

* fixed interface problem

* fix kitchen sink deprecation warning

* gallery examples

* fixes

* fixes to serialization

* fixing label serializing

* fixed file serialization

* kitchen sink restored

* outbreak forecast updated

* formatting

* formatting and api mode

* fix 1 test :/

* fixing tests

* fixed components tests

* remvoed test files

* formatting

* fixed examples

* fixes

* formatting

* restored certain files

* added encryption

* fixed syntax mistake

* formatting

* fixed 1 test

* clean up interface

* formatting

* fixed route tests

* more fixes

* formatting

* formatting

* fixing pipeline

* format frontend

* format backend

* tweaks

* fix

* fix final test?

* merged

* Sanitize for CSV (#2017)

* sanitize for csv

* added sanitization logic

* fixed examples

* turn cache off

* fixed example caching with optional inputs

* fixed review problems

* fixed Interface.load

* updating the tests

* updating the tests

* fix

* fixed seriailizing

* testing

* rewrite run prediction

* formatting

* await

* fixes

* formatting

* finally fixed mix

* fixed tests

* formatting

* formatting

* deserialize fix

* formatting

* fixes

* fixes

* fix

* fix tests

* fixes

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2022-08-05T00:20:44Z,"Fix bug where you cannot cache examples with Interface.load (#1949)

* Possible fix

* Remove breakpoint

* Implementation

* Add unit test

* Fix test

* Lint

* Add _api_mode to interface signature"
github.com/gradio-app/gradio,gradio/external.py,2022-06-14T00:57:45Z,"Skip tests that return 429 from HF Hub API (#1559)

* skip tests

* formatting

* formatting and fixes"
github.com/gradio-app/gradio,gradio/external.py,2022-06-02T22:37:25Z,"Callable blocks (#1437)

* format backend

* blocks callable

* call blocks

* format

* fixed upload

* fix mix

* formatting

* formatting

* formatting

* added serialization/deserialization for video

* formatting

* blocks

* formatting

* fix tests

* formatting"
github.com/gradio-app/gradio,gradio/external.py,2022-05-26T21:21:51Z,"Getting Interface.load() working for 2.x and 3.x models and Spaces (#1361)

* version

* refactor for model and 2.x spaces

* fixing tests

* fixed tests

* getting there...

* formatting

* formatting

* fixes

* formatting

* external dependencies working

* formatting

* loading from 3.x

* changes

* wow finally it's working

* fixed formatting

* better error for spaces

* better error for spaces

* fixed 3.x bug

* formatting"
github.com/gradio-app/gradio,gradio/external.py,2022-05-11T00:11:43Z,"Update component config (#1089)

* first commit

* changes

* restore defualt_value name

* changes

* rm value=

* rm value=

* rm value=

* changes

* changes

* changes

* rename default_val to value

* changes

* changes

* changes

* changes

* format

* changes

* changes

* format

* test fix

Co-authored-by: Ali Abid <aliabid94@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2022-04-28T10:06:16Z,"Interface types: handle input-only, output-only, and unified interfaces (#1108)

* optional labels

* added prop

* Added IOComponent class

* get component fix

* fixed component function

* fixed test components

* formatting

* fixed output tests

* working on blocks tests

* fixed test blocks

* cleanup

* merged

* unrender

* add article

* formatting

* fixed render()

* added demo

* formatting

* merge main

* add interface types

* added output only

* added input only

* formatting

* added demos

* formatting

* removed unnecessary import

* updated demos

* fixed duplication

* fix for state"
github.com/gradio-app/gradio,gradio/external.py,2022-04-19T01:36:43Z,merge in master
github.com/gradio-app/gradio,gradio/external.py,2022-03-25T19:13:57Z,fixed spaces path
github.com/gradio-app/gradio,gradio/external.py,2022-03-22T22:40:36Z,"Blocks dev (#853)

* Blocks-Components-v2
- default -> default_value refactoring

* Blocks-Components-v2
- refactor output types into output_type and make them auto

* Blocks-Backend-Events
- all events are implemented

* Blocks-Backend-Events
- refactor fn: str -> Callable

* Blocks-Backend-Events
- add change event to TabItem

* Blocks Backend Components
- Remove KeyValues from components

* Blocks-Backend-Components-v2
- Resolve Components imports in inputs and outputs

* Blocks-Backend-Components-v2
- fix default parameter usage in demos

* Blocks-Backend-Components-v2
- fix default parameter usage in demos

* Blocks-Backend-Components-v2
- fix default parameter usage in demos

* Blocks-Backend-Components-v2
- docstring updates

* revert demos

* Blocks-Backend-Components-v2
- tweaks

* Blocks-Backend-Components-v2
- add change event to Tabs

* Interfaces from Blocks (#849)

Build interfaces from blocks

Co-authored-by: Ali Abid <aliabid94@gmail.com>

Co-authored-by: Ömer Faruk Özdemir <farukozderim@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aliabid94@gmail.com>"
github.com/gradio-app/gradio,gradio/external.py,2022-03-21T18:02:17Z,reformat
github.com/gradio-app/gradio,gradio/external.py,2022-03-21T17:42:53Z,added full highlighting and tests
github.com/gradio-app/gradio,gradio/external.py,2022-03-21T16:58:22Z,formatting
github.com/gradio-app/gradio,gradio/external.py,2022-03-21T10:13:02Z,add pipeline support for token classification
github.com/gradio-app/gradio,gradio/external.py,2022-03-18T22:49:38Z,changed external.py to use components
github.com/gradio-app/gradio,gradio/external.py,2022-03-02T00:00:41Z,raw string to fix flake8
github.com/gradio-app/gradio,gradio/external.py,2022-03-01T22:52:37Z,fixed loading from spaces
github.com/gradio-app/gradio,gradio/external.py,2022-02-10T08:12:26Z,"Format-The-Codebase
- add a format script
- solve a conflict between flake8 and black"
github.com/gradio-app/gradio,gradio/external.py,2022-02-09T19:52:26Z,"Format-The-Codebase
- solve the flake8 warnings"
github.com/gradio-app/gradio,gradio/external.py,2022-02-09T07:40:05Z,"Format-The-Codebase
- format the codebase
- add format checkers to circleci"
github.com/gradio-app/gradio,gradio/external.py,2022-02-08T18:56:13Z,Upgrade black to version ~=22.0
github.com/gradio-app/gradio,gradio/external.py,2022-02-03T13:33:20Z,Fixed audio to audio & better error messaging if Space is not loading
github.com/gradio-app/gradio,gradio/external.py,2022-02-02T23:17:50Z,add audio-to-audio
github.com/gradio-app/gradio,gradio/external.py,2022-01-21T13:44:12Z,"Format The Codebase
- black formatting
- isort formatting"
github.com/gradio-app/gradio,gradio/external.py,2022-01-17T17:43:38Z,fixed loading models that output image and audio
github.com/gradio-app/gradio,gradio/external.py,2022-01-12T20:12:18Z,fixed loading from Spaces
github.com/gradio-app/gradio,gradio/external.py,2021-12-20T23:59:07Z,added remaining pipelines
github.com/gradio-app/gradio,gradio/external.py,2021-12-20T22:04:37Z,continued working on pipelines
github.com/gradio-app/gradio,gradio/external.py,2021-12-20T17:14:42Z,some fixes including #363
github.com/gradio-app/gradio,gradio/external.py,2021-12-20T14:11:34Z,updated share link message and started working on pipeline integration
github.com/gradio-app/gradio,gradio/external.py,2021-12-16T14:24:24Z,cleaned up interface.py file
github.com/gradio-app/gradio,gradio/external.py,2021-11-02T21:22:52Z,utils and external unit tests
github.com/gradio-app/gradio,gradio/external.py,2021-10-22T11:50:26Z,making fixes based on Ali's comments
github.com/gradio-app/gradio,gradio/external.py,2021-10-22T10:55:42Z,making fixes based on Ali's comments
github.com/gradio-app/gradio,gradio/external.py,2021-10-19T08:04:17Z,implemented deserialization
github.com/gradio-app/gradio,gradio/external.py,2021-10-19T06:07:23Z,implementing output deserialization
github.com/gradio-app/gradio,gradio/external.py,2021-10-19T05:59:28Z,implemented input serialization
github.com/gradio-app/gradio,gradio/external.py,2021-10-17T07:25:04Z,added tests for external
github.com/gradio-app/gradio,gradio/external.py,2021-10-12T05:48:21Z,fixed merge conflict relic
github.com/gradio-app/gradio,gradio/external.py,2021-10-12T05:37:10Z,fixed conflicts
github.com/gradio-app/gradio,gradio/external.py,2021-10-12T05:30:54Z,completed spaces integration
github.com/gradio-app/gradio,gradio/external.py,2021-10-12T05:08:50Z,added shortcuts to all input interfaces; started spaces integration
github.com/gradio-app/gradio,gradio/external.py,2021-09-02T21:01:28Z,"Add some pipeline types from huggingface (#267)

* more complete kitchen_sink

* use response.json() ?

* Add `feature-extraction` and `sentence-similarity`

* Add `text-to-speech` and `text-to-image`"
github.com/gradio-app/gradio,gradio/external.py,2021-09-02T21:01:28Z,"Add some pipeline types from huggingface (#267)

* more complete kitchen_sink

* use response.json() ?

* Add `feature-extraction` and `sentence-similarity`

* Add `text-to-speech` and `text-to-image`"
github.com/gradio-app/gradio,gradio/external.py,2021-05-24T19:07:00Z,gradio 2.0 prelaunch
github.com/gradio-app/gradio,gradio/external.py,2021-05-24T19:07:00Z,gradio 2.0 prelaunch
github.com/gradio-app/gradio,gradio/external.py,2021-05-20T18:43:26Z,hugging face interfaces + unittests
github.com/gradio-app/gradio,gradio/external.py,2021-05-20T18:43:26Z,hugging face interfaces + unittests
github.com/gradio-app/gradio,gradio/external.py,2021-05-17T18:57:31Z,Merge branch 'abidlabs/external' of https://github.com/gradio-app/gradio into abidlabs/external
github.com/gradio-app/gradio,gradio/external.py,2021-05-17T18:57:31Z,Merge branch 'abidlabs/external' of https://github.com/gradio-app/gradio into abidlabs/external
github.com/gradio-app/gradio,gradio/external.py,2021-05-17T18:57:22Z,more hugging face interface support
github.com/gradio-app/gradio,gradio/external.py,2021-05-17T18:57:22Z,more hugging face interface support
github.com/gradio-app/gradio,gradio/external.py,2021-05-12T22:24:39Z,getting gradio working
github.com/gradio-app/gradio,gradio/external.py,2021-05-12T22:24:39Z,getting gradio working
github.com/gradio-app/gradio,gradio/external.py,2021-05-12T21:57:24Z,import fix
github.com/gradio-app/gradio,gradio/external.py,2021-05-12T21:57:24Z,import fix
github.com/gradio-app/gradio,gradio/external.py,2021-05-12T21:56:41Z,hf audio support
github.com/gradio-app/gradio,gradio/themes/base.py,2024-02-05T13:25:34Z,Determine documentation group automatically (#7062)
github.com/gradio-app/gradio,gradio/themes/base.py,2024-01-30T21:30:27Z,"Fix test requirements to be compatible with python 3.11 (#7225)

* stash pop

* lint fix

* add changeset

* changes

* add changeset

* exclude

* fix

* tokenizers, transformers fix

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2024-01-30T19:40:21Z,"add background color based on the OS mode (#7117)

* add background color based on the OS mode

* add changeset

* use static css instead

* format

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aliabid@Alis-MacBook-Pro.local>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-12-06T23:16:32Z,"switch from black to ruff formatter (#6543)

* migrate from black to ruff

* fix script and dependencies

* applying ruff

* add changeset

* add changeset

* address ruff feedback

* replace linter

* fixed typing

* fix typing

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-12-05T22:18:09Z,"Issue 5245: consolidate usage of requests and httpx (#6598)

* issue 5245 commit 1

* formatted

* add changeset

* fixes

* fixes

* make changes in client too

* remove requests from client

* add changeset

* add changeset

* Fixes to test_utils.py in client

* fixes in client utils.py and test_utils.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-10-31T11:30:18Z,"Cleanup theme vars (#6183)

* changes

* chaeneas

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-09-18T23:07:22Z,"Makes sliders consistent across all browsers (#5535)

* slider changes

* custom slider

* add changeset

* remove line

* format

* Custom slider changes

Co-authored-by: Keldos-Li hi@keldos.me

* style fixes

* format

* add changeset

* slider

Co-authored-by: Keldos <hi@keldos.me>

* stories update

* fix stories

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Keldos <hi@keldos.me>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-07-20T21:57:35Z,"Release 3.38 (#4991)

* release

* changelog

* changelog

* changelog

* chatbot

* remove test

* Add code

* add min width to submit button

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-07-20T20:47:01Z,"Add css variable for controlling chatbot user message border accent (#4989)

* Add css variable

* Fix var name

* Add CHANGELOG"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-07-03T21:28:39Z,"Create Warning, Info modals (#4518)

* changes

* changes

* changes

* changes

* changes

* Styling for error, warning and info toasts (#4603)

* create abstract toast component for info/warning/error

* add icons

* add light mode theming

* add theme mode check and dark mode styles

* update theme_mode on update

* clean up render of toast content

* replace dynamic css vars with toast type css selectors

* tweak colours

* change error pill border colour to align with toasts

* formatting

* fix failed test

* rename icon files and clean up css

* changes

* changes

* changes

* changes

* changes

* changes

* chanegs

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-06-15T17:51:09Z,"Amend error toast and pill styling (#4454)

* remove error gradient and add border to toast

* changelog

* tweak styling for light and dark error status and toast

* run prettier

* restore removed onclick

* remove formatting

* fix dracula test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-06-11T01:12:11Z,"gr.Number() max/min limit (#3991)

* Add min max handling for Number (#3871)

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4027)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times (#4030)

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math (#4029)

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 (#4042)

* Fastapi Python Client Guide (#3892)

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming (#4043)

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change (#4059)

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4064)

* New Version Docs (#4069)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix (#4070)

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix (#4072)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors (#4068)

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM (#4073)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes (#4080)

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes (#4086)

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing ""State"" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios (#4071)

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit (#4090)

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile (#4098)

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures (#4115)

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page (#4112)

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators (#3821)

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release (#4116)

* Bumpt client version (#4125)

* New Version Docs (#4131)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action (#4130)

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs (#4132)

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4136)

* Fix website build issue (#4142)

* upgrade pnpm

* changelgo

* Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx (#4133)

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv (#4160)

* Fix the prettier.ignorePath field in the VSCode workspace settings (#4164)

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog (#4163)

* Fix the wildcard in .editorconfig to match files in nested directories (#4165)

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test (#4168)

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping (#4167)

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 (#4166)

* release

* requirements

* [Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4172)

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason (#4128)

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test (#4173)

* hotfix for test

* removed comment

* 3712 js client (#3899)

* update ci (#4184)

* bump client version (#4185)

* bump client version

* ignore spaces-test

* Fix (#4186)

* bump client version

* ignore spaces-test

* fix

* update token for npm action (#4187)

* change (#4189)

* ci typo (#4190)

* Fix npm publish again again (#4191)

* ci typo

* fix

* Fix npm publish again again (#4192)

* ci typo

* fix

* again

* Fix npm publish again again (#4193)

* ci typo

* fix

* again

* again

* Add format argument to Audio (#4178)

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4188)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again (#4195)

* ci typo

* fix

* again

* again

* again

* client docs tweaks (#4196)

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix ""TypeError: issubclass() arg 1 must be a class"" When Optional args  (#4200)

* fix ""issubclass() arg 1 must be a class"" when args is Optional

* Update CHANGELOG.md

add fix ""TypeError: issubclass() arg 1 must be a class"" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import (#4201)

* fix token (#4208)

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component (#4204)

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters (#4203)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app (#4119)

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md (#4220)

* Input listener (#4157)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled (#4194)

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout (#4235)

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower (#4228)

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled (#4236)

* Only allow messaging update if analytics are allowed

Follows up on #4194

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths (#4202)

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels (#4225)

* fix cancels

* changelog

* refactor to make it work

* chore: update versions (#4207)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish (#4240)

* fix npm publish

* fix npm publish

* release (#4219)

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo (#4238)

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError (#4241)

* Fix JSONDecodeError bug (#4237)

* Remove unused import

* Clean up code

* Fix JSONDecodeError (#4241)

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private (#4247)

* Refactoring (#4223)

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts (#4222)

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change (#4250)

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click (#4258)

* fix run on click

* changelog

* Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing (#4150)

* fix info request in js client (#4271)

* fix info request in js client

* changelog

* Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue (#4273)

* Allow passing FastAPI app options (#4282)

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot (#4285)

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 (#4293)

* release 3.32.0

* changelog

* New Version Docs (#4296)

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove @ts-i… (#4315)

* Add overridden type annotations on `normalise_file()` to remove @ts-ignore, and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid (#4337)

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener (#4304)

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md (#4310)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4283)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls (#4334)

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks (#4357)

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well (#4311)

* Remove unnecessary @ts-ignore (#4314)

* Remove unnecessary Promise wrapping another promise (#4313)

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` (#4312)

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code (#4275)

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` (#4356)

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route (#4303)

* Don't allow dotfiles or files in ""dot directories"" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming (#4363)

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows (#4369)

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml (#4383)

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot (#4360)

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot (#4350)

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 (#4392)

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support (#4398)

* changes

* changes

* changes

* New Version Docs (#4397)

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group (#4391)

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  (#4362)

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked (#4380)

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url (#4388)

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... (#4379)

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself (#4371)

* Fix the Node and pnpm setup actions (#4394)

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file (#4393)

* fix indent (#4404)

* Throttle scroll event  (#4158)

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` (#4436)

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every (#4434)

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback (#4433)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog (#4441)

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-05-04T08:28:39Z,"Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-04-28T18:31:41Z,"UI fixes for themes (#3590)

* changes

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-04-27T20:09:50Z,"Use f-strings where possible (#3984)

* Use f-strings where possible

Semi-automated using ikamensh/flynt

* Update gradio/utils.py

* Update gradio/interface.py

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-04-25T01:08:55Z,"gradio.themes: get rid of useless re-exports + noqas (#3958)

* gradio.themes.utils: remove star re-exports

* gradio.themes: specify re-exports in __all__

* gradio.themes.app: import create_theme_dropdown from full module path

* Add changelog

* Yeet theme_dropdown CommitOperationAdd

* fixing broken theme path

* version

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-30T18:20:34Z,"Theme builder (#3664)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* Update CHANGELOG.md

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/builder.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-23T21:27:16Z,"Set theme name from load (#3595)

* Add name + test

* Add theme names

* CHANGELOG

* Delete theme in interface"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-20T23:16:18Z,"Add missing demos for Code and Barplot (#3550)

* Add missing demos

* Add code

* Linting

* Format notebook

* Remove extra print

* Update demo/barplot_component/run.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix code component formatting

* Fix barplot

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-19T03:15:02Z,"Sharing themes (#3428)

* Rebase

* Remove build hooks

* Working implementation

* Add semver + unit tests

* CHANGELOG

* Add to docs

* Rename push_to_hub and fix typos

* Fix gallery

* Fix typo

* Address comments + tests

* Update gradio/themes/app.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Import Base as Theme. Use DefaultTheme() as fallback

* Fix types

* Make version and token truly optional

* Add version dropdown + tests

* trigger

* Support private themes and org_names

* Fix org_name typo

* Update wheel

* Fix font loading and dumping

* fixing tests

* fix tests

* formatting

* version

* remove requirements

* remove requirements

* formatting

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-19T00:30:52Z,"Theme label bar fix (#3507)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* undo merge break

* changes

* changes

* changes

* fix

* theme_to_soft

* changes

* restore_label_stat_bats

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-18T20:24:11Z,"Release v3.22.0 (#3489)

* release 3.22.0

* Add type hint

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-18T20:07:23Z,"Use soft theme instead of glass theme in demo (#3503)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* undo merge break

* changes

* changes

* changes

* fix

* theme_to_soft

* changes

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-18T00:20:55Z,"More theme updates (#3497)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* undo merge break

* changes

* changes

* changes

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-17T14:41:53Z,"Theme+release (#3494)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* save file

* update changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,gradio/themes/base.py,2023-03-06T20:52:31Z,"Python backend to theming (#2931)

* add theme + theme atoms

* audio

* buttons

* chatbot

* forms

* start file

* complete file

* fixup workbench

* gallery

* highlighted text

* label

* json

* upload

* 3d model

* atoms

* chart

* md + html

* image

* plot + build

* table

* tabs

* tooltip

* upload

* tweaks

* tweaks + more tooling

* tweaks to padding/ lineheight

* app components _ start api docs

* format, more api docs

* finish api docs

* interpretation

* todos

* tweaks + cleanup

* tweaks + cleanup

* revert range tweaks

* fix notebooks

* fix test

* remove tw

* cleanup + login

* fix gitignore

* fix types

* run css script

* fix progress + tweaks

* update demos

* add css build to static check workflow

* tweak ci

* fix tests

* tweak markdown

* tweak chatbot + file

* fix tabs

* tweak tabs

* cleanup

* fix api docs

* fix example gallery

* add gradient to toast

* fix min height for interfaces

* revert tab changes

* update notebooks

* changes

* changes

* change

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* fix

* changes

* changes

* changes

* changes

* changes

* changes

* undo radius

* undo radius

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* undo

* Add absolute imports

* mock theme in tests

* clean

* changes

* changes

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2024-03-01T02:17:30Z,Add more helpful pickle error when saving custom pyfuncs (#11290)
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2024-02-21T11:52:54Z,"Remove `pylint: disable` comments (#11196)

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2024-02-08T17:16:14Z,"Google docstring conversion batch 8 (#11042)

Signed-off-by: Michael Berk <michael.berk@databricks.com>
Co-authored-by: Michael Berk <michael.berk@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2024-02-02T08:46:18Z,"Implement ChatModel (pyfunc subclass) (#10820)

Signed-off-by: Daniel Lok <daniel.lok@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2024-01-22T22:29:12Z,"Improve error message when code_path includes Databricks notebook (#10859)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-12-07T03:39:39Z,"Revert Changes to PythonModel that introduced loading issues (#10626)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-11-28T04:37:43Z,"fix: abstract classes use metaclass=ABCMeta (#10509)

Signed-off-by: Hankyeol Kyung <kghnkl0103@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-11-21T06:24:34Z,"Throw a warning if users try to assign models in pyfunc constructors (#10435)

Signed-off-by: Daniel Lok <daniel.lok@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-10-27T21:01:26Z,"Add model_size_bytes attribute when saving the model (#10110)

Signed-off-by: wenfeiy-db <wenfei.yan@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-10-14T14:37:02Z,"enable RUF013 (#9949) (#9950)

Signed-off-by: Serhii Fedash <lightnessofbein@gmail.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-10-06T00:46:39Z,"Model configuration for PyFunc flavor (#9251)

Signed-off-by: santiagxf <santiagof@outlook.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-08-24T05:38:44Z,"Support huggingface snapshot locations in pyfunc log_model artifacts parameter (#9362)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-08-23T17:44:07Z,"windows fix (#9347)

Signed-off-by: Grace Brigham <natalie.brigham@gmail.com>
Signed-off-by: Grace Brigham <30578281+GraceBrigham@users.noreply.github.com>
Signed-off-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-08-23T10:14:53Z,"Sort imports in mlflow (#9424)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-07-28T08:32:41Z,"Inference params support (#9068)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-07-13T15:24:17Z,"Revert inf params (#9059)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-07-11T08:15:21Z,"[Support inference params-3]Add inference params for all flavors (#8974)

* add inference params for all flavors

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix and update tests

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update sklearn test

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update sklearn test

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* add unused for pylint

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update pylint

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

---------

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-07-07T17:49:07Z,"[Support inference params-2]Add `params` for PyFunc predict (#8973)

* add predict params for pyfunc and python model

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* add more tests and fix a small bug

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* add warnings for params missing case

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* reformat

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

---------

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2023-04-15T03:53:55Z,"Implement pyfunc improvements (#8191)

* Improve pyfunc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Remove debugging code

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Log error

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Test for unsupported type hints

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

---------

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2022-10-27T15:00:54Z,"2.0 merge (#7171)

* Rebase `branch-2.0` on master (#6467)

* Fix java model server compatibility with models containing databricks_runtime conf (#6337)

* Javafix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Resource fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Add run / model links to MLP train step card (#6294)

* One commit

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Submodule revert

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix client tests

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* fix ci

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove unused / invalid import

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Put run summary back to end, fix tests

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Use mocks instead

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix inefficient relative time computation for metric plot (#6341)

* compute minTimestamp only once

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix method name

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* return empty array

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add `MLFLOW_SQLALCHEMYSTORE_POOL_RECYCLE` flag (#6344)

* Add pool_recycle option to SQLAlchemy create_engine

Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>

* Add new option to unit test

Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>

* Add note in documentation

Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>

* Add box plot in compare-runs page (#6308)

* Added BoxPlot

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed key error

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Added default state

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed props passing

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed react hooks state

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Added unit test

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Added boxplot to CompareModelVersion

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Changed keys numbering to reflect tab name

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Made the ordering of tabs consistent accross CompareRunView and CompareModelVersion

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Linted

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed FormattedMessage

Signed-off-by: changyonglik <theeahlag@gmail.com>

* refactoring

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint errors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* i18n

Signed-off-by: harupy <hkawamura0130@gmail.com>

* minor comment fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

Co-authored-by: harupy <hkawamura0130@gmail.com>

* Add script and workflow to update requirements.yaml specifications (#6287)

* add script to update requirements.yaml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update both skinny and core requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove base

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add MLFLOW_CONDA_HOME

Signed-off-by: harupy <hkawamura0130@gmail.com>

* create create-pr job

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix syntax

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove redundant if

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* dynamically determine python version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove python version mock

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use setup-ssh.sh in master.yml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* simplify

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update both core and skinny requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use env

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove action version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix pandas dtypes issue

Signed-off-by: harupy <hkawamura0130@gmail.com>

* check if PR already exists

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add semicolons

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test PR creation

Signed-off-by: harupy <hkawamura0130@gmail.com>

* set base

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use run_number

Signed-off-by: harupy <hkawamura0130@gmail.com>

* set result-encoding

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert changes for test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix more tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix run URL

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add dot

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove minimum_version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove create-pr job

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename workflow

Signed-off-by: harupy <hkawamura0130@gmail.com>

* mutate dict approach

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use ruamel

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove PYTHON_VERSION patch

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add ruamel.yaml to requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* skip update-requirements on PR

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* print new version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* preserve quotes

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix badge

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix README

Signed-off-by: harupy <hkawamura0130@gmail.com>

* run ci

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove validate-requirements.yml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix test_dataframe_from_json

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Make `model_uri` optional for `mlflow models build-docker` (#6302)

* Make model_uri optional for mlflow models build-docker

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add generic

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add pythou_function flavor

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* quotes

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use longer options

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add index (#6347)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix badge link (#6349)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Enable consider-using-dict-items rule for pylint (#6351)

* Enable consider-using-dict-items

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint errors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Enable consider-merging-isinstance (#6350)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Enable consider-using-from-import rule for pylint (#6352)

* Enable consider-using-from-import

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix datasets import

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Run model registry sqlalchemy tests in database job (#6353)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update to run profiles on the first 100 dataframe columns (#6297)

* update to run profiles on the first 100 dataframe columns

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Adding replace=True so we can sample rows twice

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Removing replace=true and fixing how the max_rows are calculated

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Fix sklearn autologging input example & signature mutation for models containing transformers (#6230)

* Fix with test case

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Test fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix and simplification

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* more fixes & better test coveragE

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* test

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* LGBM test

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Format

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Address comments

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fixes

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Use py37-compatible call args syntax

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* use list (#6363)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Log runtime pipeline config to MLflow (#6359)

* Log runtime pipeline config to MLflow

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed lint

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Add status badge for stale action (#6372)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add stack trace section to bug report template (#6374)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Skipping the transform step by using Functional transformer (#6362)

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Series schema (#6361)

* Added in name for ColSpec of pandas datatype

infer panda series name for ColSpec

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* Added test for Series name inference

added one more pytest condition in test_schema:test_schema_inference_on_pandas_series

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* Update test_schema.py

Added in one more assertion to test schema inference.

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* ran black

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* added in requested changes in issue #6361

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* fix typo. changed hasattr to getattr

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* integrate mlflowdbfs (#6282)

Signed-off-by: Brian Barnes <brian.barnes@databricks.com>

* Fix step card display breakage in Jupyter notebooks (#6378)

* remove

Signed-off-by: apurva-koti <apurva.koti@databricks.com>

* fix

Signed-off-by: apurva-koti <apurva.koti@databricks.com>

* Avoid using flask 2.2.0 (#6380)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Migrate GCS environment variables to `mlflow.environment_variables` module (#6375)

* Migrate GCS environment variables to mlflow.environment_variables

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add default

Signed-off-by: harupy <hkawamura0130@gmail.com>

* improve comments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Avoid logging model signatures in pyspark ML autologging if model input/output dataframe contains unsupported data types (#6365)

* Avoid logging signatures

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix indent

Signed-off-by: harupy <hkawamura0130@gmail.com>

* check model output

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix warning message

Signed-off-by: harupy <hkawamura0130@gmail.com>

* todo

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update test and doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix docstring

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* improve _assert_autolog_infers_model_signature_correctly

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Refactor `set_matrix.py` (#6373)

* refacor set_matrix.py

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* tset for --no-dev

Signed-off-by: harupy <hkawamura0130@gmail.com>

* install pytest and pytest-cov

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test for --changed-files

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add pyyaml to requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix is_matrix_empty

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use raw string and re.match

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix is_matrix_empty (#6385)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Allow mlflow-skinny's autolog() to succeed when no scipy is installed (#5897)

* allow mlflow-skinny's autolog() to succeed when no scipy is installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* optional pyfunc scipy dependency

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* fix linter-discovered issues

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* add test case, autolog() should pass w/o scipy installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* minor cleanup

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* test creating _Example with / without scipy present

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* docs: do not warn about sparse matrix classes

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* linting

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* address review comment

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* run black

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* allow mlflow-skinny's autolog() to succeed when no scipy is installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* optional pyfunc scipy dependency

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* fix linter-discovered issues

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* add test case, autolog() should pass w/o scipy installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* minor cleanup

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* test creating _Example with / without scipy present

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* docs: do not warn about sparse matrix classes

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* linting

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* address review comment

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* run black

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* remove redundant None check after import

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* delete comment

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* Revert ""remove redundant None check after import""

This reverts commit f2e198c944f41d9a96c20ae471d71bff39431b48.

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* review comments

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* remove redundant test

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* Apply suggestions from code review

Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* Autoformat: https://github.com/mlflow/mlflow/actions/runs/2779791161

Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Co-authored-by: dbczumar <corey.zumar@databricks.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

* Fix extraneous warning about pyspark evaluation truncation (#6389)

* Revert #6380 (#6386)

* revert

Signed-off-by: harupy <hkawamura0130@gmail.com>

* workaround for test_prometheus_exporter

Signed-off-by: harupy <hkawamura0130@gmail.com>

* nit

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Validate metric value in `FileStore.log_metric` (#6381)

* add failing test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use _validate_metric

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix invalid metric timestamp

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix docstring

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix java test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Make search experiment by tag key comparison case sensitive in MYSQL (#6333)

* init

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add test

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix BINARY conditions in MySQL

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix attr error

Signed-off-by: harupy <hkawamura0130@gmail.com>

Co-authored-by: harupy <hkawamura0130@gmail.com>

* Run Model Registry SQLAlchemy tests in PostgreSQL, MySQL, and MSSQL (#6390)

* Run Model Registry SQLAlchemy tests in postgres, mysql, and mssql

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove uuid

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* do not drop tables

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix filestore data loss on failed write & mitigate read / write race condition (#6388)

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Format

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Added a custom filter from_json to render_and_merge_yaml (#6368)

* Added a custom filter from_json to render_and_merge_yaml

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed test

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Update tests/utils/test_file_utils.py

Co-authored-by: Siddharth Murching <sid.murching@databricks.com>

* Update tests/utils/test_file_utils.py

Co-authored-by: Siddharth Murching <sid.murching@databricks.com>

* Fixed test

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed windows test attempt

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed windows test

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

Co-authored-by: Siddharth Murching <sid.murching@databricks.com>

* Fix `!=` operator for MySQL (#6397)

* fix ne operator and improve tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add () to other operators

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Simplify the documentation section in the PR template (#6398)

* Simplify the documentation section in the PR template

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Timebased gc (#6354)

* Added delete_time field to runs table

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Updated latest_schema.sql to pass tests/store/tracking/test_sqlalchemy_store_schema.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Added delete_time column into mlflow/store/tracking/dbmodels/initial_models.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Moved the docstring to the end of the declaration instead of the start

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Regenerated protobuf for RunInfo new schema, and passed pytest

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Added --older-than flag in mlflow gc command, and added tests for that cli command

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Removed delete_time from RunInfo proto

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Set default older-than flag to None

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Remove delete_time from RunInfo, add optional parameter older_than to store.get_deleted_runs(), and write delete_time into yaml file for file storage instead of adding it to RunInfo

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Remove commented delete_time in RunInfo constructor in models.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* added INVALID_PARAMETER_VALUE error code in mlflow gc

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Resolve case of delete time not in meta.yaml file, edited overwrite_run_info and gc

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Rename delete_time to deleted_time

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Rename delete_time to deleted_time, match error message in cli tests, filter SqlRuns by deleted_time, indicate float values accepted for gc --older-than flag

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Rename delete_time to deleted_time, fixed assert statement in test_mlflow_gc, and fixed deleted_time queries in test_file_store.py and test_sqlalchemy_store.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Only check if  is in meta after restoring run in test_delte_restore_run

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Fixed lint errors

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Install mlflow from repository root

Signed-off-by: harupy <hkawamura0130@gmail.com>

Co-authored-by: harupy <hkawamura0130@gmail.com>

* Separate protos job (#6399)

* Separate protos job

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add paths

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Revert ""test""

This reverts commit 5d04b02f55ec92e1e3ac18eb651ea989ca0d469a.

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix flaky `TestFileStore.test_get_deleted_runs` (#6402)

* use gt operator

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix sqlalchemy store

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Migrate environment variables for SQLAlchemy store (#6396)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Deduplicate MlflowClient in MLflow docs, move to mlflow.client module (#6405)

* Dedupe MlflowClient

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Improvements

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Add client

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove unused functions in `mlflow.data` module (#6408)

* remove unused functions in data

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Remove unused functions and variables

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Tag based registered model search and model version search (#6320)

* init

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update tests

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* clean

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add test

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* de-dup tag based search result

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add () to fix case_sensitive_mysql_ne

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* lint

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix

* fix test in TODO

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* support dup tag key filter

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add mv order by

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* cmp res list in test

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add doc

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix lint

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update doc

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* Increase maximum param value length to 500 (#6358)

* increase validation of maximum param value length from 250 to 500 (squashed)

Signed-off-by: Jan Sindlar <jan.sindlar@eureka.ai>

* 1. added test for exceeding max length. 2. lint. 3. validation logic addresses null

Signed-off-by: Jan Sindlar <jan.sindlar@eureka.ai>

* file store should test already stringified params

Signed-off-by: Jan Sindlar <jan.sindlar@eureka.ai>

* update alembic chain

Signed-off-by: Jan Sindlar <jan.sindlar@eureka.ai>

* Autoformat: https://github.com/mlflow/mlflow/actions/runs/2800398158

Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

* Update tests/store/tracking/test_file_store.py

Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Signed-off-by: Jan Sindlar <jan.sindlar@eureka.ai>

Co-authored-by: Jan Sindlar <jan.sindlar@eureka.ai>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>

* Add workflow dispatch for requirements validation, remove duplicate file (#6418)

* Workflow dispatch

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove unused

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Prevent `pytest.raises` context manager from containing multiple statements (#6409)

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Do not allow calling assert in pytest.raises

Signed-off-by: harupy <hkawamura0130@gmail.com>

* more strict rule

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Improve error message

Signed-off-by: harupy <hkawamura0130@gmail.com>

* relax condition

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint errors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename _is_complex_pytest_raises

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint errors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix regression in pandas type inference behavior for scoring server (#6417)

* Fix impl

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove unused pandas import

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Adjust client to use SearchExperiments POST method (#6415)

* POST

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Generate protos

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix test

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* update (#6420)

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* Check if artifacts are proxied in model_version_artifact_handler (#6355)

* Check if artifacts are proxied in model_version_artifact_handler

Signed-off-by: Mohammad Abbas <mohammad.abbas@digital.trade.gov.uk>

* Use file prefix for artifact dest on windows

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix application of prefix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fixes

Signed-off-by: dbczumar <corey.zumar@databricks.com>

Co-authored-by: dbczumar <corey.zumar@databricks.com>

* Allow sql filter IN operator right-hand side values including whitespaces (#6413)

* support in rhs whitespace

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* Fix IN operator related issues in sql filter parser (#6411)

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* clean

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comment

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* Remove unused method `SearchUtils._get_comparison_for_model_registry` (#6412)

* init

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* Update MLflow UI (#6422)

* Project import generated by Copybara.

GitOrigin-RevId: 086b1200f4573559e37fcea6cb5472d52f166e42
Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Reconcile changes from universe with OSS

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix test fails

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Apply model search fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove errant test line

Signed-off-by: dbczumar <corey.zumar@databricks.com>

Co-authored-by: Richard Zang <Zangr@users.noreply.github.com>

* remove near from deprecation msg (#6430)

Signed-off-by: ninabacc-db <Nina.Baccam@databricks.com>

* Raise clear error message when pipeline path contains a space (#6426)

* Add unsupported

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Exc

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Test

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Format

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Test fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* [ALL TESTS] Changelog for MLflow 1.28.0 (#6433)

* Generating changelog for MLflow 1.27.1.dev0

Signed-off-by: Jenkins <jenkins@databricks.com>

* Changelog

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Add missing PR

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Some fixes

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* More small fixes

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

Signed-off-by: Jenkins <jenkins@databricks.com>
Signed-off-by: dbczumar <corey.zumar@databricks.com>
Co-authored-by: Jenkins <jenkins@databricks.com>
Co-authored-by: dbczumar <corey.zumar@databricks.com>

* Patch (#6440)

Signed-off-by: dbczumar <corey.zumar@databricks.com>

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* [ALL TESTS] Update  (#6443)

* python dev/update_ml_package_versions.py

Signed-off-by: Jenkins <jenkins@databricks.com>

* pyspark max ver 3.4

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

Signed-off-by: Jenkins <jenkins@databricks.com>
Signed-off-by: Weichen Xu <weichen.xu@databricks.com>
Co-authored-by: Jenkins <jenkins@databricks.com>
Co-authored-by: Weichen Xu <weichen.xu@databricks.com>

* Update MLflow version to 1.28.1 (#6449)

Signed-off-by: Jenkins <jenkins@databricks.com>

Signed-off-by: Jenkins <jenkins@databricks.com>
Co-authored-by: Jenkins <jenkins@databricks.com>

* Add data capture config to sagemaker (#6423)

Signed-off-by: jonwiggins <me@jonwiggins.org>

Signed-off-by: jonwiggins <me@jonwiggins.org>

* Fix small search_runs docs issues (#6452)

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Doc fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* python dev/update_pypi_package_index.py (#6442)

Signed-off-by: Jenkins <jenkins@databricks.com>

Signed-off-by: Jenkins <jenkins@databricks.com>
Co-authored-by: Jenkins <jenkins@databricks.com>

* use xgboost on pypi (#6461)

Signed-off-by: harupy <hkawamura0130@gmail.com>

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add environment variable for `echo` option in `create_engine` (#6460)

* Add environment variable for echo

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use _BooleanEnvironmentVariable

Signed-off-by: harupy <hkawamura0130@gmail.com>

* address comments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* address comments and add tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix comment

Signed-off-by: harupy <hkawamura0130@gmail.com>

Signed-off-by: harupy <hkawamura0130@gmail.com>

Signed-off-by: dbczumar <corey.zumar@databricks.com>
Signed-off-by: harupy <hkawamura0130@gmail.com>
Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>
Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>
Signed-off-by: Jin Zhang <jin.zhang@databricks.com>
Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>
Signed-off-by: Brian Barnes <brian.barnes@databricks.com>
Signed-off-by: apurva-koti <apurva.koti@databricks.com>
Signed-off-by: Weichen Xu <weichen.xu@databricks.com>
Signed-off-by: ninabacc-db <Nina.Baccam@databricks.com>
Signed-off-by: Jenkins <jenkins@databricks.com>
Signed-off-by: jonwiggins <me@jonwiggins.org>
Co-authored-by: Corey Zumar <39497902+dbczumar@users.noreply.github.com>
Co-authored-by: Michał Karzyński <michal.karzynski@intel.com>
Co-authored-by: Chang Yong Lik <51813538+ahlag@users.noreply.github.com>
Co-authored-by: Sunish Sheth <sunishsheth2009@gmail.com>
Co-authored-by: jinzhang21 <78067366+jinzhang21@users.noreply.github.com>
Co-authored-by: Ryan Fogle <40377123+RynoXLI@users.noreply.github.com>
Co-authored-by: bbarnes52 <brian.barnes@databricks.com>
Co-authored-by: apurva-koti <51172624+apurva-koti@users.noreply.github.com>
Co-authored-by: Hannes Schulz <hannes.schulz@microsoft.com>
Co-authored-by: dbczumar <corey.zumar@databricks.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: WeichenXu <weichen.xu@databricks.com>
Co-authored-by: Siddharth Murching <sid.murching@databricks.com>
Co-authored-by: Cheng Kuan Yong Jason <jasoncky96@gmail.com>
Co-authored-by: johnyNJ <77425417+johnyNJ@users.noreply.github.com>
Co-authored-by: Jan Sindlar <jan.sindlar@eureka.ai>
Co-authored-by: Mohammad Abbas <mohammad.abbas86@gmail.com>
Co-authored-by: Richard Zang <Zangr@users.noreply.github.com>
Co-authored-by: Nina Baccam <106279294+ninabacc-db@users.noreply.github.com>
Co-authored-by: mlflow-automation <61449322+mlflow-automation@users.noreply.github.com>
Co-authored-by: Jenkins <jenkins@databricks.com>
Co-authored-by: Jon Wiggins <35540058+jonwiggins@users.noreply.github.com>

* Use `virtualenv` by default when running an ML project (#6489)

* Use virtualenv by default when running an ML project

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use _PYTHON_ENV_FILE_NAME

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix env type

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix env_type

Signed-off-by: harupy <hkawamura0130@gmail.com>

* swap conda and virtualenv

Signed-off-by: harupy <hkawamura0130@gmail.com>

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Use `virtualenv` by default when restoring a model environment (#6459)

* Use virtualenv by default when restoring a model environment

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* set up pyenv and virtualenv

Signed-off-by: harupy <hkawamura0130@gmail.com>

* get conda_env file path from MLmodel file

Signed-off-by: harupy <hkawamura0130@gmail.com>

* pyenv

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use current python version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update default value of spark_udf

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert spark_udf change

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert

Signed-off-by: harupy <hkawamura0130@gmail.com>

* change default value to virtualenv

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use local

Signed-off-by: harupy <hkawamura0130@gmail.com>

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Remove `--no-conda` (#6501)

* remove --no-conda

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update R docs

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove tests for --no-conda

Signed-off-by: harupy <hkawamura0130@gmail.com>

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Sync `branch-2.0` with master (#6510)

* Fix java model server compatibility with models containing databricks_runtime conf (#6337)

* Javafix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Resource fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Add run / model links to MLP train step card (#6294)

* One commit

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Submodule revert

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix client tests

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* fix ci

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove unused / invalid import

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Put run summary back to end, fix tests

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Use mocks instead

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix inefficient relative time computation for metric plot (#6341)

* compute minTimestamp only once

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix method name

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* return empty array

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add `MLFLOW_SQLALCHEMYSTORE_POOL_RECYCLE` flag (#6344)

* Add pool_recycle option to SQLAlchemy create_engine

Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>

* Add new option to unit test

Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>

* Add note in documentation

Signed-off-by: Michal Karzynski <michal.karzynski@intel.com>

* Add box plot in compare-runs page (#6308)

* Added BoxPlot

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed key error

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Added default state

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed props passing

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed react hooks state

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Added unit test

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Added boxplot to CompareModelVersion

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Changed keys numbering to reflect tab name

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Made the ordering of tabs consistent accross CompareRunView and CompareModelVersion

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Linted

Signed-off-by: changyonglik <theeahlag@gmail.com>

* Fixed FormattedMessage

Signed-off-by: changyonglik <theeahlag@gmail.com>

* refactoring

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint errors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* i18n

Signed-off-by: harupy <hkawamura0130@gmail.com>

* minor comment fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

Co-authored-by: harupy <hkawamura0130@gmail.com>

* Add script and workflow to update requirements.yaml specifications (#6287)

* add script to update requirements.yaml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update both skinny and core requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove base

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add MLFLOW_CONDA_HOME

Signed-off-by: harupy <hkawamura0130@gmail.com>

* create create-pr job

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix syntax

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove redundant if

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* dynamically determine python version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove python version mock

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use setup-ssh.sh in master.yml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* simplify

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update both core and skinny requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use env

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove action version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix pandas dtypes issue

Signed-off-by: harupy <hkawamura0130@gmail.com>

* check if PR already exists

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add semicolons

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test PR creation

Signed-off-by: harupy <hkawamura0130@gmail.com>

* set base

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use run_number

Signed-off-by: harupy <hkawamura0130@gmail.com>

* set result-encoding

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert changes for test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix more tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix run URL

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add dot

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove minimum_version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove create-pr job

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename workflow

Signed-off-by: harupy <hkawamura0130@gmail.com>

* mutate dict approach

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use ruamel

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove PYTHON_VERSION patch

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add ruamel.yaml to requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* skip update-requirements on PR

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* print new version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* preserve quotes

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix badge

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix README

Signed-off-by: harupy <hkawamura0130@gmail.com>

* run ci

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove validate-requirements.yml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix test_dataframe_from_json

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Make `model_uri` optional for `mlflow models build-docker` (#6302)

* Make model_uri optional for mlflow models build-docker

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add generic

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add pythou_function flavor

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* quotes

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use longer options

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add index (#6347)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix badge link (#6349)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Enable consider-using-dict-items rule for pylint (#6351)

* Enable consider-using-dict-items

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint errors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Enable consider-merging-isinstance (#6350)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Enable consider-using-from-import rule for pylint (#6352)

* Enable consider-using-from-import

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix datasets import

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Run model registry sqlalchemy tests in database job (#6353)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update to run profiles on the first 100 dataframe columns (#6297)

* update to run profiles on the first 100 dataframe columns

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Adding replace=True so we can sample rows twice

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Removing replace=true and fixing how the max_rows are calculated

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Fix sklearn autologging input example & signature mutation for models containing transformers (#6230)

* Fix with test case

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Test fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix and simplification

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* more fixes & better test coveragE

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* test

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* LGBM test

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Format

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Address comments

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fixes

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Use py37-compatible call args syntax

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* use list (#6363)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Log runtime pipeline config to MLflow (#6359)

* Log runtime pipeline config to MLflow

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed lint

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Add status badge for stale action (#6372)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add stack trace section to bug report template (#6374)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Skipping the transform step by using Functional transformer (#6362)

Signed-off-by: Sunish Sheth <sunishsheth2009@gmail.com>

* Series schema (#6361)

* Added in name for ColSpec of pandas datatype

infer panda series name for ColSpec

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* Added test for Series name inference

added one more pytest condition in test_schema:test_schema_inference_on_pandas_series

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* Update test_schema.py

Added in one more assertion to test schema inference.

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* ran black

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* added in requested changes in issue #6361

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* fix typo. changed hasattr to getattr

Signed-off-by: Ryan Fogle <ryanfogle98@gmail.com>

* integrate mlflowdbfs (#6282)

Signed-off-by: Brian Barnes <brian.barnes@databricks.com>

* Fix step card display breakage in Jupyter notebooks (#6378)

* remove

Signed-off-by: apurva-koti <apurva.koti@databricks.com>

* fix

Signed-off-by: apurva-koti <apurva.koti@databricks.com>

* Avoid using flask 2.2.0 (#6380)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Migrate GCS environment variables to `mlflow.environment_variables` module (#6375)

* Migrate GCS environment variables to mlflow.environment_variables

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add default

Signed-off-by: harupy <hkawamura0130@gmail.com>

* improve comments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Avoid logging model signatures in pyspark ML autologging if model input/output dataframe contains unsupported data types (#6365)

* Avoid logging signatures

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix indent

Signed-off-by: harupy <hkawamura0130@gmail.com>

* check model output

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix warning message

Signed-off-by: harupy <hkawamura0130@gmail.com>

* todo

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update test and doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix docstring

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* improve _assert_autolog_infers_model_signature_correctly

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Refactor `set_matrix.py` (#6373)

* refacor set_matrix.py

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* tset for --no-dev

Signed-off-by: harupy <hkawamura0130@gmail.com>

* install pytest and pytest-cov

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test for --changed-files

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add pyyaml to requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix is_matrix_empty

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use raw string and re.match

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix is_matrix_empty (#6385)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Allow mlflow-skinny's autolog() to succeed when no scipy is installed (#5897)

* allow mlflow-skinny's autolog() to succeed when no scipy is installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* optional pyfunc scipy dependency

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* fix linter-discovered issues

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* add test case, autolog() should pass w/o scipy installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* minor cleanup

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* test creating _Example with / without scipy present

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* docs: do not warn about sparse matrix classes

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* linting

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* address review comment

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* run black

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* allow mlflow-skinny's autolog() to succeed when no scipy is installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* optional pyfunc scipy dependency

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* fix linter-discovered issues

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* add test case, autolog() should pass w/o scipy installed

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* minor cleanup

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* test creating _Example with / without scipy present

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* docs: do not warn about sparse matrix classes

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* linting

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* address review comment

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* run black

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* remove redundant None check after import

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* delete comment

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* Revert ""remove redundant None check after import""

This reverts commit f2e198c944f41d9a96c20ae471d71bff39431b48.

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* review comments

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* remove redundant test

Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* Apply suggestions from code review

Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Signed-off-by: Hannes Schulz <hannes.schulz@microsoft.com>

* Autoformat: https://github.com/mlflow/mlflow/actions/runs/2779791161

Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Co-authored-by: dbczumar <corey.zumar@databricks.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

* Fix extraneous warning about pyspark evaluation truncation (#6389)

* Revert #6380 (#6386)

* revert

Signed-off-by: harupy <hkawamura0130@gmail.com>

* workaround for test_prometheus_exporter

Signed-off-by: harupy <hkawamura0130@gmail.com>

* nit

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Validate metric value in `FileStore.log_metric` (#6381)

* add failing test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use _validate_metric

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix invalid metric timestamp

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix docstring

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix java test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Make search experiment by tag key comparison case sensitive in MYSQL (#6333)

* init

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add test

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix BINARY conditions in MySQL

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix attr error

Signed-off-by: harupy <hkawamura0130@gmail.com>

Co-authored-by: harupy <hkawamura0130@gmail.com>

* Run Model Registry SQLAlchemy tests in PostgreSQL, MySQL, and MSSQL (#6390)

* Run Model Registry SQLAlchemy tests in postgres, mysql, and mssql

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix failed tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove uuid

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* do not drop tables

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix filestore data loss on failed write & mitigate read / write race condition (#6388)

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Fix

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Format

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Added a custom filter from_json to render_and_merge_yaml (#6368)

* Added a custom filter from_json to render_and_merge_yaml

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed test

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Update tests/utils/test_file_utils.py

Co-authored-by: Siddharth Murching <sid.murching@databricks.com>

* Update tests/utils/test_file_utils.py

Co-authored-by: Siddharth Murching <sid.murching@databricks.com>

* Fixed test

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed windows test attempt

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

* Fixed windows test

Signed-off-by: Jin Zhang <jin.zhang@databricks.com>

Co-authored-by: Siddharth Murching <sid.murching@databricks.com>

* Fix `!=` operator for MySQL (#6397)

* fix ne operator and improve tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add () to other operators

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Simplify the documentation section in the PR template (#6398)

* Simplify the documentation section in the PR template

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Timebased gc (#6354)

* Added delete_time field to runs table

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Updated latest_schema.sql to pass tests/store/tracking/test_sqlalchemy_store_schema.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Added delete_time column into mlflow/store/tracking/dbmodels/initial_models.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Moved the docstring to the end of the declaration instead of the start

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Regenerated protobuf for RunInfo new schema, and passed pytest

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Added --older-than flag in mlflow gc command, and added tests for that cli command

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Removed delete_time from RunInfo proto

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Set default older-than flag to None

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Remove delete_time from RunInfo, add optional parameter older_than to store.get_deleted_runs(), and write delete_time into yaml file for file storage instead of adding it to RunInfo

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Remove commented delete_time in RunInfo constructor in models.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* added INVALID_PARAMETER_VALUE error code in mlflow gc

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Resolve case of delete time not in meta.yaml file, edited overwrite_run_info and gc

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Rename delete_time to deleted_time

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Rename delete_time to deleted_time, match error message in cli tests, filter SqlRuns by deleted_time, indicate float values accepted for gc --older-than flag

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Rename delete_time to deleted_time, fixed assert statement in test_mlflow_gc, and fixed deleted_time queries in test_file_store.py and test_sqlalchemy_store.py

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Only check if  is in meta after restoring run in test_delte_restore_run

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Fixed lint errors

Signed-off-by: Jason Cheng <jasoncky96@gmail.com>

* Install mlflow from repository root

Signed-off-by: harupy <hkawamura0130@gmail.com>

Co-authored-by: harupy <hkawamura0130@gmail.com>

* Separate protos job (#6399)

* Separate protos job

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add paths

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Revert ""test""

This reverts commit 5d04b02f55ec92e1e3ac18eb651ea989ca0d469a.

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix flaky `TestFileStore.test_get_deleted_runs` (#6402)

* use gt operator

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix sqlalchemy store

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Migrate environment variables for SQLAlchemy store (#6396)

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Deduplicate MlflowClient in MLflow docs, move to mlflow.client module (#6405)

* Dedupe MlflowClient

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Improvements

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Add client

Signed-off-by: dbczumar <corey.zumar@databricks.com>

* Remove unused functions in `mlflow.data` module (#6408)

* remove unused functions in data

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Remove unused functions and variables

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Tag based registered model search and model version search (#6320)

* init

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update tests

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* clean

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add test

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* de-dup tag based search result

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add () to fix case_sensitive_mysql_ne

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* lint

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix

* fix test in TODO

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* support dup tag key filter

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add mv order by

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* cmp res list in test

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* add doc

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* fix lint

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* address comments

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* update doc

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>

* Increase maximum param value length to 500 (#6358)

* increase validation of maximum param value length from 250 to 500 (squashed)

Signed-off-by: Jan Sindlar <jan.sindlar@eureka.ai>

* 1. added test for exceedin…"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2022-05-19T00:04:48Z,"Revert #5657 (#5891)

PR #5657 was original made to fix #5582. However, based on the
community feedback / discussion #5657 has caused more problems
then it solved, so a different solution seems preferable.

Signed-off-by: Kyle Jarvis <kyle.jarvis1905@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2022-04-13T22:33:59Z,"Add pyenv + virtualenv support for MLflow Models (#5380)

* implement required features

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* revert unrelated change

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* set default

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* update other CLI commands

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix comments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use non-existent

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add more warnings

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add tests for cli arguments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* set ignore_errors

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use nor

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* implement _validate_pyenv_is_available and _validate_virtualenv_is_available

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix typos

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add tests for PythonEnv

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* collect build dependencies

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add test for conda packages

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use temp file

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use shell=True

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* refactor command runners

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use _run_command

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix CLI tests

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* set PYENV_ROOT

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix tests

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use python -m

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix lint

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* make get_current_python private

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use MlflowException in validation functions

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* address comments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* improve

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* update

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix warning message

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add _get_mlflow_env_name

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix test for PythonEnv

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use _exec_cmd

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use _exec_cmd

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use shutil.which

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove _hash

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* move _join_commands in process.py

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix _validate_pyenv_is_available and _validate_virtualenv_is_available

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix error message in _get_python_env

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* move _get_conda_dependencies in conda.py

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use may

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix --env-manager helpt text

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* move _get_pip_install_mlflow in environment.py

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* rename _get_mlflow_env_root

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* clean up env dir on failure

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix error message and add error_code

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* improve logging message

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* refactor conda package detection

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* improve conda dependency translation

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* raise exception for invalid version comperator

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix and add test

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* install latest python if micros version is missing

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* read requirements files

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use dict

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* rename to current

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* rename to _find_latest_installable_python_version

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use keyword arguments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* pip install in temporary direcctory

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* warning

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove python_env

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* make PythonEnv private

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* set shell

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* map str

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix comments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* install pyenv in flavors job

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix failed tests

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* rename python_env yaml

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix logging message

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* address comments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add param docstring

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* all python_env to all flavors

Signed-off-by: harupy <hkawamura0130@gmail.com>

* rename tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix docstring

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2022-04-12T00:10:51Z,"Fixes #5582 (#5657)

* Fixes #5582

Signed-off-by: Kyle Jarvis <kyle.jarvis1905@gmail.com>

* Fixes #5582: Incorporate suggestions

Signed-off-by: Kyle Jarvis <kyle.jarvis1905@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2022-03-31T09:30:58Z,"Replace `mlflow.pyfunc.load_pyfunc` with `mlflow.pyfunc.load_model` (#5290)

* Remove deprecated mlflow.pyfunc.load_pyfunc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* import load_model

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* replace load_pyfunc in test_transformer_model_export

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2022-01-10T08:28:07Z,"Remove inheritance from object (#5240)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-11-19T06:21:45Z,"Upgrade `black` to use `--force-exclude` option for simplifying pre-commit hook (#5051)

* update black version to use --force-exclude option

Signed-off-by: harupy <hkawamura0130@gmail.com>

* run black

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* clean up

Signed-off-by: harupy <hkawamura0130@gmail.com>

* specify target-version

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use --diff

Signed-off-by: harupy <hkawamura0130@gmail.com>

* validate version when python scripts changes

Signed-off-by: harupy <hkawamura0130@gmail.com>

* lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove --diff

Signed-off-by: harupy <hkawamura0130@gmail.com>

* resolve conflicts

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-08-19T01:30:13Z,"Avoid calling get_default_pip_requirements if pip_requirements is specified (#4708)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-08-16T23:31:50Z,"[PART 2] Implement auto pip dependency inference for mlflow.*.log_model (#4662)

* Fix default deps tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Use infer_pip_requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove flavor tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix gluon flavor

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix gluon flavor again

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix for pyfunc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix spacy

Signed-off-by: harupy <hkawamura0130@gmail.com>

* lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix

Signed-off-by: harupy <hkawamura0130@gmail.com>

* comment

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Allow fallback in test_model_log_without_pyfunc_flavor

Signed-off-by: harupy <hkawamura0130@gmail.com>

* paddle and comments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add disable_prevent_infer_pip_requirements_fallback_if

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix test_log_model

Signed-off-by: harupy <hkawamura0130@gmail.com>

* convert path to uri

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove statsmodels and paddle

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix _download_artifact_from_uri

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix comments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Allow fallback in test_mlflow_is_not_installed_unless_specified

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix tests/pyfunc/test_model_export_with_class_and_artifacts.py

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix incorrect loader_module

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix tests/pyfunc/test_model_export_with_class_and_artifacts.py

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix comment

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add comment on model without pyfunc flavor

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Address comments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix test

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Lazily import _CaptureImportedModules

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Use valid flavor name

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add comment on _capture_imported_modules

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-08-03T10:00:39Z,"Add `_get_pinned_requirement` to accurately obtain package versions (#4632)

* add _strip_local_version_identifier

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove importlib_metadata

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix comment

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix param doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Add _get_pinned_requirement

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix param doc

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use _get_pinned_requirement

Signed-off-by: harupy <hkawamura0130@gmail.com>

* lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* comma

Signed-off-by: harupy <hkawamura0130@gmail.com>

* error handling

Signed-off-by: harupy <hkawamura0130@gmail.com>

* test

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-07-29T11:25:12Z,"De-hardcode conda env file name (#4619)

* De-hardcode conda env file name

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix keras.py

Signed-off-by: harupy <hkawamura0130@gmail.com>

* try max-parallel

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove max-parallel

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-07-27T13:46:01Z,"[PART1] Add `pip_requirements` and `extra_pip_requirements` to all flavors except xgboost flavor (#4577)

* add pip_requirements and extra_pip_requirements

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert changes on spacy and gluon

Signed-off-by: harupy <hkawamura0130@gmail.com>

* lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* remove unused import

Signed-off-by: harupy <hkawamura0130@gmail.com>

* update mleap

Signed-off-by: harupy <hkawamura0130@gmail.com>

* add get_default_conda_env

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix mleap tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix mleap

Signed-off-by: harupy <hkawamura0130@gmail.com>

* use exist_ok

Signed-off-by: harupy <hkawamura0130@gmail.com>

* fix lint

Signed-off-by: harupy <hkawamura0130@gmail.com>

* revert changes on mleap

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-07-21T11:37:14Z,"Add `_get_default_pip_requirements` to all flavors (#4575)

* Add _get_default_pip_requirements to all flavors

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* Fix lightgbm

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* Fix statsmodels and pytorch flavors

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* revert change on cloudpickle

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* Address comments

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove docstrings of get_default_conda_env

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add missing docs

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* Fix shap doc

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove underscore

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* rm mlflow/spark.py.a35ff0bf51ede0b51ed1e135b0eb55e2.tmp

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-06-11T10:36:11Z,"Make sure `import mlflow` doesn't import ML packages (#4444)

* Avoid importing pyspark when importing pyspark

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* Add comment

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* try sphinx.ext.autodoc.typehints

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* set set_type_checking_flag to True

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* suppress warning

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* change default value

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* Add test

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* import pyspark

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* move file under tests

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix command

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix test

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* check all ML packages

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* add pyspark

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix path

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* use pytest.mark

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* lint

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-06-02T23:02:27Z,"Logging additional pip dependencies in requirements.txt  (#4409)

* Fix forced default experiment creation (#4352)

* fix forced default experiment creation

mlflow would always try to create the default experiment, even if it was already deleted by a user, this causes mlflow to fail to start, see Issue #4351

Signed-off-by: Asaf Levy <asaf400@gmail.com>

* Add test

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

Co-authored-by: harupy <17039389+harupy@users.noreply.github.com>
Signed-off-by: Steven Chen <s.chen@databricks.com>

* Fix pytorch-lightning dev testing (#4398)

* only define on_train_epoch_end when pl.__version__ > 1.4.0dev

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* comment

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* fix comment

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove blank line

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>
Signed-off-by: Steven Chen <s.chen@databricks.com>

* Migrate all model dependencies from conda to ""pip"" section (#4393)

Migrate all model dependencies from conda to ""pip"" section.

Signed-off-by: Steven Chen <s.chen@databricks.com>

* [MINOR FIX] Enable `--verbose` for pytest by default (#3759)

* use verbose by default

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove --verbose

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>

* remove --verbose

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>
Signed-off-by: Steven Chen <s.chen@databricks.com>

* log additional pip dependencies from conda env

Signed-off-by: Steven Chen <s.chen@databricks.com>

* added keras pip req tests

Signed-off-by: Steven Chen <s.chen@databricks.com>

* added tests for logging additional pip requirements

Signed-off-by: Steven Chen <s.chen@databricks.com>

* lint

Signed-off-by: Steven Chen <s.chen@databricks.com>

* added tests for logging additional pip requirements

Signed-off-by: Steven Chen <s.chen@databricks.com>

* lint

Signed-off-by: Steven Chen <s.chen@databricks.com>

* factored out requirements and fixed pytorch tests

Signed-off-by: Steven Chen <s.chen@databricks.com>

* requirements logging for spark

Signed-off-by: Steven Chen <s.chen@databricks.com>

* added helper method for requirements tests

Signed-off-by: Steven Chen <s.chen@databricks.com>

* added default requirements path for logging

Signed-off-by: Steven Chen <s.chen@databricks.com>

* removed comments in tests

Signed-off-by: Steven Chen <s.chen@databricks.com>

Co-authored-by: Asaf Levy <asaf400@gmail.com>
Co-authored-by: harupy <17039389+harupy@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Co-authored-by: WeichenXu <weichen.xu@databricks.com>"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2021-05-27T09:30:53Z,"Migrate all model dependencies from conda to ""pip"" section (#4393)

Migrate all model dependencies from conda to ""pip"" section."
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2020-08-10T05:46:10Z,Introduce a code formatter for python scripts [black] (#3191)
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2020-07-10T21:59:23Z,"De-hardcode MLmodel file names (#3049)

* De-hardcode MLmodel files names"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2020-05-10T20:33:20Z,"Add schema and example logging to save_model methods of all supported flavors. (#2775)

* Initial commit

* nit

* lint + comments

* lint

* lint

* fixed test

* Addressed review comments.

* lint

* lint"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2020-05-05T21:09:45Z,use posix path for artifact subpaths. (#2784)
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-11-22T17:35:17Z,Fix typos in docstrings (#2121)
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-08-12T15:49:18Z,"Miscellaneous docs fixes (#1719)

* Fixes

* Docs fixes

* Reversion

* Link fix

* Linkfix

* Tweak

* Remove trailing parens

* Progress

* Lots of link fixes

* Link fixes

* Revert rdoc build

* Fixes

* Revert rd

* Regen

* fix typo

* Remove inheritance for ActiveRun because it's incorrect

* Nits

* Lint"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-06-03T22:48:27Z,"[ML-7027] Document artifact store locations and update docstrings. (#1253)

Update documentation for new runs:/ scheme."
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-06-03T21:41:39Z,"Remove copying logic when loading custom pyfunc artifacts (#1383)

* Don't copy model artifacts into temporary directory when loading custom pyfunc

* Remove unused import"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-05-14T21:29:19Z,"Update model flavors to lazily import dependencies (#1238)

* torch and tflow

* Spark, Keras

* h2o, pyfunc, and docs changes

* Lint

* Docs

* Lint

* Sklearn

* Imports fix"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-04-24T18:24:57Z,"Remove store argument from get_artifact_repository() (#1138)

Remove the store parameter from ArtifactRepositoryRegistry.get_artifact_repository() by having DBFSArtifactRepository internally resolve the host credentials via tracking.utils._get_store().

This leads to a circular import: tracking.utils (for artifact/model methods) imports get_artifact_repository imports DBFSArtifactRepository imports tracking.utils._get_store. Python 2 did not like this (Python 3.5+ supports circular imports better), so moved out the artifact-related methods from tracking.utils to tracking.artifact_utils. A lot of the changes in the PR are simple refactors due to this move.

This change will allow Artifact Repositories to be used for downloading artifacts outside the Tracking context, e.g. in <model-type>.load_model."
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-03-05T22:10:06Z,"Default conda environments: Install CloudPickle from pip (#933)

* Install cloudpickle from pip

* Lint

* Test fix"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-01-22T23:49:07Z,"Add cloudpickle version to custom pyfunc conf + version mismatch warning (#830)

* Validate cloudpickle version when loading model

* Message phrasing changes

* Missing cloudpickle version exception to warning

* Add test for missing cloudpickle version in config"
github.com/mlflow/mlflow,mlflow/pyfunc/model.py,2019-01-15T19:34:09Z,"Pyfunc: Simplify process for adding custom inference logic and data/object dependencies (#793)

* Pyfunc progress

* Model changes

* Artifact resolution

* Validation

* Artifact validation, handle class name imports

* Add a few tests, many to come

* Add backticks to warning / exception text for readability

* Artifact test

* Fix relative path resolution in azure blob artifact repo

* Add test

* Naming change

* Reorder tests

* Test updates

* Validate that blob names begin with artifact path

* Add negative test case

* Lint

* DBFS test progress

* Implement artifact uri convenience methods with preliminary azure test

* Artifact repos define path module

* Use path module for _download_artifact_from_uri

* Address comments

* More comments

* FTP test fix

* Test fixes

* Tests, get_artifact_uri changes

* Lint

* Import fix

* Lint

* Test output directory download

* Lint

* Tests

* Docs

* Add kwargs parameter to pyfunc 'add_to_model'

* Import logging

* Add pyfunc utils module

* Fix cli import

* Lint

* Docs

* Import fix

* Revert doc change

* Docs changes

* Revert dbfs test changes

* Revert init changes

* Docs improvements

* More docs

* Test fixes and improvements

* Address comments - remove utils module

* Use isdir

* Path

* Remove utils module

* Improve test naming

* Conda env test fixture

* Conda tests

* Make artifacts and params optional, test this use case

* Small docs tweaks

* Revert changes to tracking init file

* Revert azure blob tests

* Add docker test

* Change temporary directory behavior

* Docs fixes

* Remove comma

* Lint

* Import reversion

* Docs comments

* Fix comment syntax

* Capitalization

* Fix path naming duplication issue

* Fix version doc

* Fix lint errors and remove redundant test

* Fix spark UDF tests

* Import fixes

* Document imported functions from mlflow.pyfunc.model, rather than wrapping a _save_model method

* Add conda to test requirements

* readable MatchSpec import error case with helpful explanation

* Improve error message

* Add explanatory comments for model class serialization/deserialization behavior

* Fix indentation

* Lint

* Remove conda from test requirements

* Add usage: conda [-h] [-V] command ...

conda is a tool for managing and deploying applications, environments and packages.

Options:

positional arguments:
  command
    clean        Remove unused packages and caches.
    config       Modify configuration values in .condarc. This is modeled
                 after the git config command. Writes to the user .condarc
                 file (/Users/czumar/.condarc) by default.
    create       Create a new conda environment from a list of specified
                 packages.
    help         Displays a list of available conda commands and their help
                 strings.
    info         Display information about current conda install.
    install      Installs a list of packages into a specified conda
                 environment.
    list         List linked packages in a conda environment.
    package      Low-level conda package utility. (EXPERIMENTAL)
    remove       Remove a list of packages from a specified conda environment.
    uninstall    Alias for conda remove. See conda remove --help.
    search       Search for packages and display associated information. The
                 input is a MatchSpec, a query language for conda packages.
                 See examples below.
    update       Updates conda packages to the latest compatible version. This
                 command accepts a list of package names and updates them to
                 the latest versions that are compatible with all other
                 packages in the environment. Conda attempts to install the
                 newest versions of the requested packages. To accomplish
                 this, it may update some packages that are already installed,
                 or install additional packages. To prevent existing packages
                 from updating, use the --no-update-deps option. This may
                 force conda to install older versions of the requested
                 packages, and it does not prevent additional dependency
                 packages from being installed. If you wish to skip dependency
                 checking altogether, use the '--force' option. This may
                 result in an environment with incompatible packages, so this
                 option must be used with great caution.
    upgrade      Alias for conda update. See conda update --help.

optional arguments:
  -h, --help     Show this help message and exit.
  -V, --version  Show the conda version number and exit.

conda commands available from other packages:
  build
  convert
  develop
  env
  index
  inspect
  metapackage
  render
  server
  skeleton
  verify package to test environment in Travis

* Backwards compatibility part 1

* More backwards compat

* More backwards compat and testing

* Lots of documentation improvements

* Param renaming

* Docs spacing, lint

* Revert line addition

* Docs tweaks for 'models' section

* Test cleanup

* Test fixes

* Test fixes

* Diff fix

* Diff reversions

* Spark test load_pyfunc signature change

* Move some docs from code to 'models'

* Test for argument incompatibilities

* Loader module test fix

* Move _copy_file_or_tree tests from pyfunc utils to file utils

* Test fixes

* Docs inference API adjustment

* Validate parameters in each internal _save method

* Test fixes

* Lint

* Fix test patching

* Address docs comments

* Remove 'conda' dependency from travis tests

* Remove validation, to be submitted in a separate PR

* Remove , require a class instance rather than type obj

* Docs

* Docs tweaks

* Docs

* More docs tweaks

* Import fixes

* Test fixes

* Address review comments

* Add custom pyfunc example

* Revert ""Add custom pyfunc example""

This reverts commit 791359087a77b6e2a105f700aed7b684e98d83d9.

* Rename user-defined predict() to _predict() and define predict() at load time as a lambda

* Revert ""Rename user-defined predict() to _predict() and define predict() at load time as a lambda""

This reverts commit 8708d1b63be7899d5226197fa1b6d3af2ef52aab.

* Fix PythonModel evaluation by introducing a PyfuncWrapper class and update docs

* Lint

* Revert linter changes

* Add class doc"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-03-01T11:18:49Z,"Fix torch_dtype issue when specified via kwargs (#11297)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-29T00:24:11Z,"Merge PEFT feature branch (#11240)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-21T11:52:54Z,"Remove `pylint: disable` comments (#11196)

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-19T09:17:29Z,"Fix fixable `line-too-long` (#11175)

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-19T01:45:46Z,"Clean tmp path instantly in Transformers CI test (#11148)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-16T07:35:47Z,"Remove global transformers import to fix autologging issue in MLR (#11165)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-13T21:27:36Z,"Remove extra validation for model types when constructing Transformers pipeline (#11099)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-13T07:47:10Z,"Support input and signature for text-generation models for Chat and Completions (#11027)

Signed-off-by: Ying Chen <ying.chen@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-08T10:58:01Z,"Add timeout for signature/requirement inference during Transformer model logging. (#11037)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-06T02:51:52Z,"Fix missing dtype issue for transformer pipeline (#10979)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-06T01:50:14Z,"Fix non-idempotent prediction due to in-place update to model-config (#11014)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>
Signed-off-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-02-01T17:10:53Z,"Support chat, completions task output for text-generation pipeline (#10872)

Signed-off-by: Ying Chen <ying.chen@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-01-31T22:59:27Z,"Fix prompt templating bug with Text2TextGeneration pipeline (#10960)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-01-24T20:48:14Z,"Add support for retrieving license files for transformers models (#10871)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-01-18T05:20:29Z,"Support saving prompt templates for transformers (#10791)

Signed-off-by: Daniel Lok <daniel.lok@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-01-17T03:55:56Z,"Google docstring conversion batch 2 (#10826)

Signed-off-by: Michael Berk <michael.berk@databricks.com>
Co-authored-by: Michael Berk <michael.berk@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-01-09T01:25:50Z,"Remove the Redundant duplication check in transformers dependency validation (#10792)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2024-01-04T02:49:00Z,"Support saving input_example with no conversion (#10741)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-12-21T19:00:16Z,"initpy and test_transformers_model_export (#10538)

Signed-off-by: swathi <konakanchi.swathi@gmail.com>
Signed-off-by: Hankyeol Kyung <kghnkl0103@gmail.com>
Signed-off-by: Prithvi Kannan <prithvi.kannan@databricks.com>
Signed-off-by: Jerry Liang <jerry.liang@databricks.com>
Signed-off-by: Jerry Liang <66143562+jerrylian-db@users.noreply.github.com>
Signed-off-by: serena-ruan <serena.ruan@ip-10-110-25-32.us-west-2.compute.internal>
Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Gabriel Fu <hfu.gabriel@gmail.com>
Signed-off-by: Madhu <madhukesav02@gmail.com>
Signed-off-by: Konakanchi Swathi <98085410+KonakanchiSwathi@users.noreply.github.com>
Co-authored-by: Marcus Kyung <kghnkl0103@gmail.com>
Co-authored-by: Prithvi Kannan <46332835+prithvikannan@users.noreply.github.com>
Co-authored-by: Jerry Liang <66143562+jerrylian-db@users.noreply.github.com>
Co-authored-by: WeichenXu <weichen.xu@databricks.com>
Co-authored-by: Siddharth Murching <sid.murching@databricks.com>
Co-authored-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: serena-ruan <serena.ruan@ip-10-110-25-32.us-west-2.compute.internal>
Co-authored-by: Gabriel Fu <hfu.gabriel@gmail.com>
Co-authored-by: madhumaddi <madhumaddi@microsoft.com>
Co-authored-by: Madhu <madhukesav02@gmail.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-12-19T07:32:01Z,"Objects and Array support in model signature (#9936)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: harupy <hkawamura0130@gmail.com>
Signed-off-by: Daniel Lok <daniel.lok@databricks.com>
Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Signed-off-by: Weichen Xu <weichen.xu@databricks.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Co-authored-by: Daniel Lok <daniel.lok@databricks.com>
Co-authored-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: WeichenXu <weichen.xu@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-12-08T08:56:10Z,"Patch `setfit.Trainer` if `setfit >= 1.0` (#10652)

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-12-05T01:40:20Z,"Support saving torch_dtype for transformers with components logging (#10586)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-31T02:18:06Z,"Add MLflow typo checker (#10224)

Signed-off-by: harupy <hkawamura0130@gmail.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-27T21:01:26Z,"Add model_size_bytes attribute when saving the model (#10110)

Signed-off-by: wenfeiy-db <wenfei.yan@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-26T02:24:02Z,"Disallow heterogeneous memory configuration when saving transformers model (#10087)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-20T15:43:36Z,"fix fill-mask with multiple masks (#10032)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-14T14:37:02Z,"enable RUF013 (#9949) (#9950)

Signed-off-by: Serhii Fedash <lightnessofbein@gmail.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-13T07:15:43Z,"Add SIM114 rule (#9922)

Signed-off-by: TomeHirata <tomu.hirata@gmail.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-10T23:10:54Z,"Add SIM108 ruff rule (#9888)

Signed-off-by: Tomu Hirata <tomu.hirata@gmail.com>
Signed-off-by: TomuHirata <33407409+TomeHirata@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-06T00:46:39Z,"Model configuration for PyFunc flavor (#9251)

Signed-off-by: santiagxf <santiagof@outlook.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-10-02T03:39:54Z,"Fix error message conversion for whisper (#9788)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-09-27T09:10:23Z,"Support saving params in input example (#9655)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>"
github.com/mlflow/mlflow,mlflow/transformers/__init__.py,2023-09-25T23:43:48Z,"move transformers module to its directory (#9692)

Signed-off-by: chenmoneygithub <chen.qian@databricks.com>"
github.com/LAION-AI/Open-Assistant,inference/worker/download_model_hf.py,2023-04-03T15:30:31Z,"changed basic hf server to support quantization and streaming (#2293)

I now also put the multi-worker-image PR in here because it builds
heavily upon it

---------

Co-authored-by: Andreas Köpf <andreas.koepf@provisio.com>
Co-authored-by: Dimitri <dimitrivr@icloud.com>
Co-authored-by: IRFN <irfantogluk@gmail.com>
Co-authored-by: AbdBarho <ka70911@gmail.com>
Co-authored-by: Oliver Stanley <olivergestanley@gmail.com>
Co-authored-by: Michael Gartsbein <mikegarts@users.noreply.github.com>
Co-authored-by: mishka <gartsocial@gmail.com>
Co-authored-by: Theodor Peifer <teddypeifer@gmail.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2024-03-01T16:52:17Z,"Update ruff (#6706)

* apply new ruff

* bump ruff version"
github.com/huggingface/datasets,src/datasets/inspect.py,2023-12-21T14:42:40Z,"Implement get dataset default config name (#6511)

* Test get_dataset_default_config_name

* Implement get_dataset_default_config_name

* Update src/datasets/inspect.py

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

---------

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2023-11-30T10:34:12Z,"Don't require trust_remote_code in inspect_dataset (#6456)

fix inspect_dataset"
github.com/huggingface/datasets,src/datasets/inspect.py,2023-11-14T22:19:44Z,Remove token value from warnings (#6418)
github.com/huggingface/datasets,src/datasets/inspect.py,2023-09-21T14:07:59Z,"Check builder cls default config name in inspect (#6253)

* check builder_cls default config name in inspect

* style"
github.com/huggingface/datasets,src/datasets/inspect.py,2023-07-13T13:27:55Z,"Support for multiple configs in packaged modules via metadata yaml info (#5331)

* load configs parameters from metadata

* add dynamical builder creation

* merge configs kwargs and dataset info in hub without script module

* fix loading from configs for packaged module

* update push to hub to include configs and update info in metadata yaml correctly

* add class to read and write configs from metadata

* add configs to Dataset.push_to_hub

* refactor get_module of local ds

* add test for push_to_hub with multiple configs

* get readme from data_files in local packaged ds (probably not needed)

* change cache dirs names to include dataset name

* set configs on instance instead of dynamically creating new builder class

* add test for loading with different configs from data_dir

* modify config names tests, mlodify tests for one config local factory

* fix pickling and update metadata methods to convert to/from builders configs

* update get config names to load configs from meta, refactor import of builder cls

* more tests for local and hub factories

* change builder name of parametrized builders, fix inspec_metric

* fix default configs names in inspect.py tests, change parametrized builder.name in init instead of setting additional attribute

* fix docstrings in push_to_hub

* get back parametrized builder name as an attr because it's used to set info.builder_name in parent's init

* add test for loading parametrized dataset with num_proc>1

* fix writing 'data' dir for default config in push-to_hub

* fix custom splits in push_to_hub (change data dir structure for custom configs)

* pass only existing params to builder configs

* fix test for push to hub with configs, test default config too

* fix dataset_json reading in get_module, add tests for local and packeged factories

* update dataset_infos.json for Dataset.push_to_hub()

* add dataset_name attr to builder class to differentiate between packaged builder names

* use builder.dataset_name everywhere in filenames and dirs, add it to tests

* use datasets.asdict when parsing configs from BuilderCOnfig objects instead of custom func

* resolve data_files for all metadata configs in order to not passing config_kwargs to builder in local modules (ugly); fix some outdated var names

* get data files for metadata configs

* pass 'default' config_name for packaged modules without config since it cannot be None

* move converting metadata to configs out of configuring function to fix pickling issues

* update hash of packaged builders with custom config

* simplify update_hash

* add test for custom split names in custom configs dataset with .push_to_hub

* rename METADATA_CONFIGS_FIELD from configs_kwargs to builder_config

* simplify metadata loading, some rename

* update tests to reflect change of metadata configs field name

* refactor data files recolving for metadata configs

make them methods of MetadataConfigs class

* add tests for resolvinf data files in metadata configs

* update hash for packaged modules with configs in load instead of buidler

* revert moving finding patterns and resolving data files in a separate func

* don't raise error in packaged factory

* extend sanitize_patterns for data_files from yaml

* disallow pushing metadata with a dict data_files

* update Dataset.push_to_hub

* update DatasetDict.push_to_hub

* remove redundant code

* minor comment

* error for bad data_files, and warn for bad params

* add MetadataConfigs.get_default_config_name

* error in sanitize_patterns on bad data_files

* check default config name in get_dataset_builder_class

* test push_to_hub when no metadata configs

* fix ignored_params check

* remove configs support from PackagedDatasetModuleFactory

* remove it from tests

* fix missed parameter for reduce

* add integration tests for loading

* fix regex for parquet filenames

* fix metadata configs creation: put all splits in yaml, not only the last one

* fix tests for push_to_hub

* roll back push_to_hub_without_meta pattern string

* escape/replace some special characters in pattern in string_to_dict

* fix: escape '*' in string_to_dict again

* fix: pattern in tests for backward compatibility in push to hub

* join quentin's and mine tests (lot's of copypaste but more checks)

* remove '-' from sharded parquet pattern

* separate DataFilesDict and MetadataConfigs

* set default config when has only one dataset_info

* fix: pass config name to resolve_data_files_locally

* fix: tests for local module without script

* fix: default config=None when creating a builder

* cache backward compat

* fix legacy cache path creation for local datasets

* fix of fix of legacy cache path for local datasets

* fix dataset_name creation (make it not None only for packaged modules)

* remove custom reduce and add check if dynamical builder class is pickable

* test if builder is pickable with 'pickle', not 'dill'

* get back custom reduce to enable pickle serialization

* fix test for pickle: pickle instance, not class

* remove get_builder_config method from metadata class

* fix: pass config_kwargs as arguments to builder class

* get dataset_name in get_module()

* wrap yaml error message in metadata

* move glob->regex to a func, add ref to fsspec

* implement DataFilesList additions

* get back all data_files resolving logic to load.py

* move inferring modules for all splits to a func

* refactor data files resolving and creation of builder configs from metadata

* rename metadata configs field: builder_config -> configs

* make error message in sanitize_patterns yaml-agnostic

* improve error message in yaml validation

* fix yaml data files validation (raise error)

* move test datasets to datasets-maintainters repo

* fix yaml validation

* change yaml format to only allow lists and have a required config_name field

* rename yaml field: builder_configs -> configs

since https://github.com/huggingface/moon-landing/pull/6490 is deployed

* update datasets ids in tests

* rename to dataset_card_data

* remove glob_pattern_to_regex from string_to_dict, use it only where we pass glob pattern

* group dataset module fields (related to configs construction)

* don't instantiate BASE_FEATURE

* update docs

* raise if data files resolving raised in during metadata config resolving

because otherwise the error says that there is no data files in repository which is misleading

---------

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>
Co-authored-by: Mario Šaško <mariosasko777@gmail.com>
Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>
Co-authored-by: Albert Villanova del Moral <8515462+albertvillanova@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2023-07-03T16:03:33Z,Deprecate `use_auth_token` in favor of `token` (#5996)
github.com/huggingface/datasets,src/datasets/inspect.py,2023-06-19T17:22:41Z,"Always return list in `list_datasets` (#5964)

Always return list in `list_datasets`"
github.com/huggingface/datasets,src/datasets/inspect.py,2023-02-13T16:43:46Z,"Skip dataset verifications by default (#5303)

* Skip dataset verifications by default

* Replace ignore_verifications with VerificationMode

* Update io builders

* Update commands

* Update tests

* Update docs

* Misc

* Fix bad copying in generator io builder

* Update src/datasets/builder.py

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

* Apply suggestions from code review

Co-authored-by: Polina Kazakova <polina@huggingface.co>

* Rename values

* Apply suggestions from code review

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

* Style

---------

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>
Co-authored-by: Polina Kazakova <polina@huggingface.co>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-12-12T17:24:01Z,"Clean up Loading methods docstrings (#5350)

clean docstrings"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-12-09T14:17:20Z,"Improve `use_auth_token` docstring and deprecate `use_auth_token` in `download_and_prepare` (#5302)

* Improve use_auth_token docstring and deprecate use_auth_token download_and_preparee

* Update src/datasets/builder.py

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

* Update src/datasets/builder.py

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-12-06T08:22:48Z,"fix: 🐛 pass the token to get the list of config names (#5333)

Otherwise, get_dataset_infos doesn't work on gated or private datasets,
even with the correct token."
github.com/huggingface/datasets,src/datasets/inspect.py,2022-10-20T08:10:00Z,"Update docs once dataset scripts transferred to the Hub (#5136)

* Update docs about Datasets on GitHub (legacy)

* Delete ADD_NEW_DATASET.md

* Update the issue template chooser

* Update docs

* Update docstrings

* Update ADD_NEW_DATASET.md"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-08-30T10:40:03Z,"Raise ManualDownloadError from get_dataset_config_info (#4901)

* Refactor DatasetBuilder._check_manual_download

* Check manual download within get_dataset_config_info

* Revert ""Refactor DatasetBuilder._check_manual_download""

This reverts commit ebd701007f46db2ddeceab95ae12e84d6a6ed3dc.

* Refactor check manual download from get_dataset_config_info"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-07-28T11:32:16Z,"Deprecate metrics (#4739)

* Deprecate public metric functions

* Test metric deprecation warnings

* Deprecate metrics in docs

* Remove mentions to metrics in docs and README

* Deprecate internal metric functions/classes

* Warn metric deprecation only once

* Deprecate Metric class

* Support deprecating __init__ method for subclassed classes

* Move deprecated decorator to __init__ class method

* Update deprecation message in docs

* Remove mentions to metrics in docstring/README

* Remove new_metric_script template

* Skip metric tests

* Remove metrics from code quality check

* Remove metric test requirements

* Add rouge_score test requirement needed by bigbench

* Remove metrics additional tests requirements

* Remove test requirements only used by metrics

* Address requested changes

* Update deprecation version after latest release

* Remove repeated comment

* Give hint to switch to evaluate

* Fix minor details

* Revert removal of metrics CI tests

* Revert removal of metrics CI tests

* Fix style

* Mock emitted_deprecation_warnings to test warnings"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-07-06T15:25:07Z,"Rename master to main (#4643)

* rename master to main

* more renaming

* add warning to readme"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-07-06T13:25:04Z,"Revert ""rename master to main""

This reverts commit effe74e58f3e6aa3a41bd673ba6a4910433be5c7."
github.com/huggingface/datasets,src/datasets/inspect.py,2022-07-06T13:24:28Z,rename master to main
github.com/huggingface/datasets,src/datasets/inspect.py,2022-06-10T20:47:26Z,"Support DataLoader with num_workers > 0 in streaming mode (#4375)

* make TorchIterableDataset work in parallel
- make it picklable
- paralellize over the shards when num_workers is passed

* start writing some tests

* fix streaming extension and fsspec issues in subprocesses

* fix some tests

* fix more tests

* fix import

* fix and add tests

* fix patch (handle successive patches and builtins)

* revert unnecessary change to enriched_web_blg

* style

* use open locally to fix win permission errors

* keep file opened in read_csv

* fix compression for read_csv

* consistency of read_csv: don't infer compression for file-like objects

* stringify Path objects

* comments + raise error if sharding is ambiguous

* minor

* Update src/datasets/iterable_dataset.py

Co-authored-by: Mario Šaško <mariosasko777@gmail.com>

Co-authored-by: Mario Šaško <mariosasko777@gmail.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-06-09T10:26:06Z,"Fix script fetching and local path handling in `inspect_dataset` and `inspect_metric` (#4433)

* Remove mentions of force_local_path

* Fix local path handling in inspect.py)

* Add test

* Fix for existing dirs

* Minor test change

* Avoid patch_submodule

* Iterate on copy when deleting list items

* Add comment

* Avoid [:] on dirnames list

* Fix bug"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-06-03T16:01:28Z,Add missing kwargs to docstrings (#4446)
github.com/huggingface/datasets,src/datasets/inspect.py,2022-06-03T10:52:46Z,Fix kwargs in docstrings (#4444)
github.com/huggingface/datasets,src/datasets/inspect.py,2022-06-02T16:32:26Z,"Fix docstring of inspect_dataset (#4438)

* Fix docstring of inspect_dataset

* Fix **download_kwargs

* Fix links and rephrase"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-05-31T14:58:51Z,"Rename DatasetBuilder config_name (#4414)

* Rename config_name

* Align config_name

* Fix tests

* Fix style

* Fix test

* Refactor tests

* Refactor tests

* Add deprecation warning

* Rename config_name local variables"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-05-25T10:43:43Z,"Refactor download (#4384)

* Refactor download

* Fix textvqa dataset

* Move download module one level up

* Fix test mock fsspec

* Fix docs

* Fix import of DownloadConfig

* Refactor mock_download_manager

* Refactor DownloadConfig

* Fix docs

* Add sections to docs of builder classes

* Use relative imports

* Fix path

* Fix import"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-05-25T09:20:12Z,"Add API code examples for loading methods (#4300)

* 📝 add examples for loading methods

* 🖍 apply quentin review"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-03-03T20:04:20Z,"Update docs to new frontend/UI (#3690)

* WIP: update docs to new UI

* make style

* Rm unused

* inject_arrow_table_documentation __annotations__

* hasattr(arrow_table_method, ""__annotations__"")

* Update task_template.rst

* Codeblock PT-TF-SPLIT

* Convert loading scripts

* Convert docs to mdx

* Fix mdx

* Add <Tip>

* Convert mdx tables

* Fix codeblock

* Rm unneded hashlinks

* Update index.mdx

* Redo dev change

* Rm circle ci `build_doc` & `deploy_doc`

* Rm unneeded files

* Update docs reamde

* Standardize to `Example::`

* mdx logging levels doc

* Table properties inject_arrow_table_documentation

* ``` to ```py mdx

* Add Tips mdx

* important,None -> <Tip warning={true}>

* More misc

* Center imgs

* Update instllation page

* `setup.py` docs section

* Rm imgs since they are in hf.co

* Update docs/source/access.mdx

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* Update index mdx

* Update docs/source/access.mdx

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* just `Dataset` obj

* Addedversion just italics

* Update ReadInstruction doc example syntax

* Change docstring for `prepare_for_task`

* Chore

* Remove `code` syntax from headings

* Rm `code` syntax from headings

* Hashlink backward compatability

* S3FileSystem doc

* S3FileSystem doc updates

* index.mdx updates

* Add darkmode gifs

* Index logo img css classes

* Index mdx dataset logo img size

* Docs for DownloadMode class

* Doc DownloadMode table

* format docstrings

* style

* Add doc builder scripts (#3790)

* add doc builder scripts

* fix docker image

* Docs new UI actions no self hosted (#3793)

* No self hosted

* replace doc injection by actual docstrings

* Docstring formatted

Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>
Co-authored-by: Mishig Davaadorj <dmishig@gmail.com>

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>
Co-authored-by: Mishig Davaadorj <dmishig@gmail.com>

* Rm notebooks from docs actions since they dont exi

* Update tsting branch

* More docstring

* Chore

* bump up node version

* bump up node

* ``` -> ```py for audio_process.mdx

* Update .github/workflows/build_documentation.yml

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

* Uodate dev doc build

* remove run on PR

* fix action

* Fix gh doc workflow

* forgot this change when merging master

* Update build doc

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>
Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>
Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>
Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-02-24T15:04:35Z,"Start removing canonical datasets logic (#3777)

* - remove mentions of canonical in the code
- also prepare to remove all the logic related to github

* - update the docs to mention only hub datasets
- redirect to the github documentation if people really want to open PRs

* Apply suggestions from code review

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* explain why some identifiers are not under a namespace + improve the Datasets on GitHub section

* add security section

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-02-22T12:22:52Z,"Rename GenerateMode to DownloadMode (#3759)

* Rename GenerateMode to DownloadMode

* Implement DeprecatedEnum

* Deprecate GenerateMode

* Move DeprecatedEnum to deprecation_utils

* Fix merge"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-02-22T08:35:02Z,"Expose method and fix param (#3767)

* fix: 🐛 named parameter was config_name, not name

* feat: 🎸 expose get_dataset_config_info and add tests"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-02-21T15:57:10Z,"feat: 🎸 generate info if dataset_infos.json does not exist (#3670)

* feat: 🎸 generate info if dataset_infos.json does not exist

in get_dataset_infos(). Also: add the `use_auth_token` parameter, and
create get_dataset_config_info()

✅ Closes: 3013

* remove unused parameters

* remove unused import

* test: 💍 add a test to ensure the info and splits are created

* style: 💄 fix style (not related to the issue, but fixes the CI)

* Revert ""style: 💄 fix style (not related to the issue, but fixes the CI)""

This reverts commit 5636911880ea4306c27c7f5825fa3f9427ccc2b6.

Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-02-02T11:22:01Z,Extend dataset builder for streaming in `get_dataset_split_names` (#3657)
github.com/huggingface/datasets,src/datasets/inspect.py,2022-01-31T09:37:34Z,"Run pyupgrade for Python 3.6+ (#3560)

* Run pyupgrade for Python 3.6+

* Fix lint issues

* Revert changes for the datasets code

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2022-01-10T10:51:46Z,"fix: 🐛 pass token when retrieving the split names (#3545)

* fix: 🐛 pass token when retrieving the split names

* Update src/datasets/inspect.py

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

* feat: 🎸 use download_config's token if use_auth_token is None

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-11-05T09:48:35Z,"Use huggingface_hub.HfApi to list datasets/metrics (#3121)

* Prepare stubs

* Delete Datasets HfApi

* Remove mentions of AWS bucket

* Use methods directly

* Small doc change

* fix merge conflict

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>
Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-11-05T09:27:36Z,"Deprecate prepare_module (#3166)

* Refactor prepare_module

* Add deprecation warning in prepare_module

* Remove prepare_module in inspect

* Remove prepare_module in patching

* Remove prepare_module in dummy_data

* Remove prepare_module in run_beam

* Remove prepare_module in test_dataset_common

* Fix hash in run_beam

* Remove prepare_module from test_load

* Remove prepare_module from test_metric_common

* Remove prepare_module from test_hf_gcp

* Use deprecated function instead

* Add deprecation to docstring"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-10-28T05:44:49Z,"Make inspect.get_dataset_config_names always return a non-empty list (#3159)

* Refactor get_dataset_config_names to use dataset_module_factory

* Rename variable in builder_configs

* Allow import_main_class to return module_main_cls with builder kwargs

* Get builder_cls with builder kwargs

* Implement DatasetBuilder.default_builder_config

* Use default_builder_config in builder_configs

* Fix default_builder_config

* Fix _create_builder_config

* Revert ""Fix _create_builder_config""

This reverts commit 90e6ca27310e6fbcfb7cb82a61bad26ee16f0949.

* Remove data_files from default_builder_config

* Fix style

* Fix style

* Revert changes using default_builder_config

* Make get_dataset_config_names return a non-empty list

* Test get_dataset_config_names

* Refactor code as suggested

* Re-run CI test suite"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-10-04T09:55:37Z,"feat: 🎸 add a function to get a dataset config's split names (#2906)

* feat: 🎸 add a function to get a dataset config's split names

* feat: 🎸 export get_dataset_split_names function

* docs: ✏️ add a reference doc section for get_dataset_split_names

* chore: 🤖 increase version number

* feat: 🎸 add explicit arguments

* feat: 🎸 pass additional arguments to get private configs + info

`use_auth_token` can now be passed to the functions to get the configs
or infos of private datasets on the hub

* feat: 🎸 show an explicit list of arguments

It's better for documentation, and removes dependency to prepare_module

* fix: 🐛 replace deprecated ""script_version"" with ""revision""

* refactor: 💡 add a new Error type

* docs: ✏️ nit

* docs: ✏️ nit

* docs: ✏️ add doc for get_dataset_split_names

* fix: 🐛 remove soon deprecated arguments"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-09-13T17:20:52Z,"New documentation structure (#2718)

* add tutorial section

* remove old files

* add instructions for venv and dataset builder to tutorial

* add most of the completed how-to guides

* add distributed usage guides

* add datasets + arrow concept guide

* add concept guide for dataset features

* add concept guides for cache, load, map_batch

* add concept guides for loading/building a dataset

* add myst-parser to setup.py

* fix commas

* Update about_dataset_load.rst

* add how-to for parquet, fix sphinx-panels and minor feedback changes

* Add improve performance section, update doc link to splits

* Add section for streaming/iterable datasets

* Add edits from review

* Add some more edits from review

* Add more details for loading dataset from Hub

* minor improvements

* explain more differences between community and canonical

* about arrow

* about cache

* fix docs

* map batch n. rows mistmatch example

* integrity - how and why to ignore verifications

* more details about arrow in about_arrow

* add inspect.py functions to documentation

* separate dataset share/script/card pages

* add minor changes to match style

* Apply suggestions from code review

Co-authored-by: lewtun <lewis.c.tunstall@gmail.com>

* Apply suggestions from code review

* Apply suggestions from code review

Co-authored-by: Albert Villanova del Moral <8515462+albertvillanova@users.noreply.github.com>

* Fix typo in added sentence

* Remove trailing whitespace

* Apply suggestions from code review

* Apply suggestions from code review

Co-authored-by: Albert Villanova del Moral <8515462+albertvillanova@users.noreply.github.com>

* Apply suggestions from code review

Co-authored-by: Albert Villanova del Moral <8515462+albertvillanova@users.noreply.github.com>

* latest comments from albert

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>
Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>
Co-authored-by: lewtun <lewis.c.tunstall@gmail.com>
Co-authored-by: Albert Villanova del Moral <8515462+albertvillanova@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-03-18T12:41:21Z,"Fix docstring issues (#2072)

* Fix docstring module name of filesystems

* Fix docstring missing blank after comma

* Fix docstring missing trailing dot

* Fix docstring cross-referencing in Returns

* Fix docstring cross-referencing in description

* Fix docstring non-rendered args descriptions

* Fix docstring cross-reference content prefix

* Fix docstring line length

* Fix docstring of SplitGenerator

* Fix docstring of Split

* Fix docstring document cross-reference in Split

* Fix docstring of DatasetDict.shuffle

* Fix docstring of DatasetBuilder

* Add docstring attributes of DatasetInfo

* Change docstring default rendering of Attributes in conf.py

* Fix docstring of list_datasets

* Fix docstring of load_dataset"
github.com/huggingface/datasets,src/datasets/inspect.py,2021-03-03T16:37:50Z,"Fix unused arguments (#1962)

* Fix unused arguments

* Re-add the deep arg to PandasArrayExtensionArray.copy

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2020-11-30T17:27:26Z,"Optional per-dataset default config name (#889)

* add optional default config name

* add default to polyglot ner

* style

* add functions to get dataset meta info

* use builder_configs

* add config names test

* style

* add docs

* polyglot ner combined const -> private

* default config warning

* doc typo

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>

Co-authored-by: Quentin Lhoest <42851186+lhoestq@users.noreply.github.com>"
github.com/huggingface/datasets,src/datasets/inspect.py,2020-09-11T10:20:11Z,"add multi-proc to dataset dict (#612)

* add multi-proc to dataset dict

* update list_datasets and list_metrics"
github.com/huggingface/datasets,src/datasets/inspect.py,2020-09-10T16:18:30Z,"Quick fix :) (#606)

* Changing the name

* style + quality

* update doc and logo

* clean up

* circle-CI on the branche for now

* fix daily dialog dataset

* fix urls

Co-authored-by: Quentin Lhoest <lhoest.q@gmail.com>"
github.com/huggingface/diffusers,scripts/convert_k_upscaler_to_diffusers.py,2023-02-07T22:46:23Z,"Replace flake8 with ruff and update black (#2279)

* before running make style

* remove left overs from flake8

* finish

* make fix-copies

* final fix

* more fixes"
github.com/huggingface/diffusers,scripts/convert_k_upscaler_to_diffusers.py,2023-02-07T08:11:57Z,"Stable Diffusion Latent Upscaler (#2059)

* Modify UNet2DConditionModel

- allow skipping mid_block

- adding a norm_group_size argument so that we can set the `num_groups` for group norm using `num_channels//norm_group_size`

- allow user to set dimension for the timestep embedding (`time_embed_dim`)

- the kernel_size for `conv_in` and `conv_out` is now configurable

- add random fourier feature layer (`GaussianFourierProjection`) for `time_proj`

- allow user to add the time and class embeddings before passing through the projection layer together - `time_embedding(t_emb + class_label))`

- added 2 arguments `attn1_types` and `attn2_types`

  * currently we have argument `only_cross_attention`: when it's set to `True`, we will have a to the
`BasicTransformerBlock` block with 2 cross-attention , otherwise we
get a self-attention followed by a cross-attention; in k-upscaler, we need to have blocks that include just one cross-attention, or self-attention -> cross-attention;
so I added `attn1_types` and `attn2_types` to the unet's argument list to allow user specify the attention types for the 2 positions in each block;  note that I stil kept
the `only_cross_attention` argument for unet for easy configuration, but it will be converted to `attn1_type` and `attn2_type` when passing down to the down blocks

- the position of downsample layer and upsample layer is now configurable

- in k-upscaler unet, there is only one skip connection per each up/down block (instead of each layer in stable diffusion unet), added `skip_freq = ""block""` to support
this use case

- if user passes attention_mask to unet, it will prepare the mask and pass a flag to cross attention processer to skip the `prepare_attention_mask` step
inside cross attention block

add up/down blocks for k-upscaler

modify CrossAttention class

- make the `dropout` layer in `to_out` optional

- `use_conv_proj` - use conv instead of linear for all projection layers (i.e. `to_q`, `to_k`, `to_v`, `to_out`) whenever possible. note that when it's used to do cross
attention, to_k, to_v has to be linear because the `encoder_hidden_states` is not 2d

- `cross_attention_norm` - add an optional layernorm on encoder_hidden_states

- `attention_dropout`: add an optional dropout on attention score

adapt BasicTransformerBlock

- add an ada groupnorm layer  to conditioning attention input with timestep embedding

- allow skipping the FeedForward layer in between the attentions

- replaced the only_cross_attention argument with attn1_type and attn2_type for more flexible configuration

update timestep embedding: add new act_fn  gelu and an optional act_2

modified ResnetBlock2D

- refactored with AdaGroupNorm class (the timestep scale shift normalization)

- add `mid_channel` argument - allow the first conv to have a different output dimension from the second conv

- add option to use input AdaGroupNorm on the input instead of groupnorm

- add options to add a dropout layer after each conv

- allow user to set the bias in conv_shortcut (needed for k-upscaler)

- add gelu

adding conversion script for k-upscaler unet

add pipeline

* fix attention mask

* fix a typo

* fix a bug

* make sure model can be used with GPU

* make pipeline work with fp16

* fix an error in BasicTransfomerBlock

* make style

* fix typo

* some more fixes

* uP

* up

* correct more

* some clean-up

* clean time proj

* up

* uP

* more changes

* remove the upcast_attention=True from unet config

* remove attn1_types, attn2_types etc

* fix

* revert incorrect changes up/down samplers

* make style

* remove outdated files

* Apply suggestions from code review

* attention refactor

* refactor cross attention

* Apply suggestions from code review

* update

* up

* update

* Apply suggestions from code review

* finish

* Update src/diffusers/models/cross_attention.py

* more fixes

* up

* up

* up

* finish

* more corrections of conversion state

* act_2 -> act_2_fn

* remove dropout_after_conv from ResnetBlock2D

* make style

* simplify KAttentionBlock

* add fast test for latent upscaler pipeline

* add slow test

* slow test fp16

* make style

* add doc string for pipeline_stable_diffusion_latent_upscale

* add api doc page for latent upscaler pipeline

* deprecate attention mask

* clean up embeddings

* simplify resnet

* up

* clean up resnet

* up

* correct more

* up

* up

* improve a bit more

* correct more

* more clean-ups

* Update docs/source/en/api/pipelines/stable_diffusion/latent_upscale.mdx

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Update docs/source/en/api/pipelines/stable_diffusion/latent_upscale.mdx

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* add docstrings for new unet config

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* # Copied from

* encode the image if not latent

* remove force casting vae to fp32

* fix

* add comments about preconditioning parameters from k-diffusion paper

* attn1_type, attn2_type -> add_self_attention

* clean up get_down_block and get_up_block

* fix

* fixed a typo(?) in ada group norm

* update slice attention processer for cross attention

* update slice

* fix fast test

* update the checkpoint

* finish tests

* fix-copies

* fix-copy for modeling_text_unet.py

* make style

* make style

* fix f-string

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* fix import

* correct changes

* fix resnet

* make fix-copies

* correct euler scheduler

* add missing #copied from for preprocess

* revert

* fix

* fix copies

* Update docs/source/en/api/pipelines/stable_diffusion/latent_upscale.mdx

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update docs/source/en/api/pipelines/stable_diffusion/latent_upscale.mdx

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update docs/source/en/api/pipelines/stable_diffusion/latent_upscale.mdx

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update docs/source/en/api/pipelines/stable_diffusion/latent_upscale.mdx

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update src/diffusers/models/cross_attention.py

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* clean up conversion script

* KDownsample2d,KUpsample2d -> KDownsample2D,KUpsample2D

* more

* Update src/diffusers/models/unet_2d_condition.py

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* remove prepare_extra_step_kwargs

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Update src/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_latent_upscale.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* fix a typo in timestep embedding

* remove num_image_per_prompt

* fix fasttest

* make style + fix-copies

* fix

* fix xformer test

* fix style

* doc string

* make style

* fix-copies

* docstring for time_embedding_norm

* make style

* final finishes

* make fix-copies

* fix tests

---------

Co-authored-by: yiyixuxu <yixu@yis-macbook-pro.lan>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Pedro Cuenca <pedro@huggingface.co>"
github.com/huggingface/diffusers,src/diffusers/commands/fp16_safetensors.py,2024-02-08T18:19:31Z,"change to 2024 in the license (#6902)

change to 2024"
github.com/huggingface/diffusers,src/diffusers/commands/fp16_safetensors.py,2023-12-06T21:22:31Z,"Harmonize HF environment variables + deprecate use_auth_token (#6066)

* Harmonize HF environment variables + deprecate use_auth_token

* fix import

* fix"
github.com/huggingface/diffusers,src/diffusers/commands/fp16_safetensors.py,2023-08-11T05:35:22Z,"Remove code snippets containing `is_safetensors_available()` (#4521)

* [WIP] Remove code snippets containing `is_safetensors_available()`

* Modifying `import_utils.py`

* update pipeline tests for safetensor default

* fix test related to cached requests

* address import nits

---------

Co-authored-by: Dhruv Nair <dhruv.nair@gmail.com>"
github.com/huggingface/diffusers,src/diffusers/commands/fp16_safetensors.py,2023-07-11T03:00:09Z,"[diffusers-cli] Add a CLI command to run FP16 and safetensors conversions and opening PRs (#3982)

* feat: add a cli util for fp16 and safetensors format.

* fix: commit_description.

* add: usage example."
github.com/coqui-ai/TTS,TTS/tts/layers/bark/hubert/hubert_manager.py,2023-06-28T09:55:27Z,"Inference API for 🐶Bark (#2685)

* Add bark requirements

* Draft Bark implementation

* Download HF models

* Update synthesizer

* Add bark model

* Make style

* Update pylintrc

* Update model URLs

* Update Bark Config

* Fix here and ther

* Make style

* Make lint

* Update requirements

* Update requirements"
github.com/FMInference/FlexGen,benchmark/third_party/transformers/src/transformers/utils/hub.py,2023-02-21T02:38:10Z,"Release and merge commits

Co-authored-by: Ying Sheng <sqy1415@gmail.com>
Co-authored-by: Lianmin Zheng <lianminzheng@gmail.com>
Co-authored-by: Zhuohan Li <zhuohan123@gmail.com>
Co-authored-by: Beidi Chen <beidic@fb.com>"
github.com/speechbrain/speechbrain,speechbrain/utils/fetching.py,2024-01-07T20:42:33Z,"Merge Unstable v0.6 into Dev (#2305)

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* rename HF's files

* fix docstrings

* fix args docstrings

* fix docstrings

* change classes' names

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Refactor HF interface, adapt recipes

* Fix docstrings

* commonvoice

* switchboard

* update readme

* update readme

* update lionk in test file

* remove unused space token

* update torchaudio

* remove deprecated language model path

* fix merge

* fix vocab

* fix switchboard

* commit

* fix test

* fix style

* remove unsued hparam

* fix consistancy blank_skip_threshold

* text frames

* CTCPrefixBeamSearcher timestamps

* pre-commit

* test

* test 2

* fix prints

* update ctcprefixbeamsearch timestamps

* remove frames from prefix bs

* ≈Revert ""remove frames from prefix bs""

This reverts commit 30900d9fb2fc16871c103c2e1b3a755e1765e85d.

* remove prefix bs

* ≈Revert ""remove prefix bs""

This reverts commit 2f0c3cd930826c8b23143012bf18c5f76d9198b5.

* Revert ""update ctcprefixbeamsearch timestamps""

This reverts commit ce09e193dc34f2ca65a0ca306230276aeacc599f.

* Revert ""fix prints""

This reverts commit bf360373555855329355c982a80be33eaae41cf6.

* Revert ""test 2""

This reverts commit 84cda948f33936e8fa9199a1c5c09af0c0f80ef8.

* Revert ""test""

This reverts commit f17349fb8255d8123e01fa110d8e1a40807e1bbd.

* Revert ""pre-commit""

This reverts commit 4e1cf0da7b70c7316db5ce10bb72ff0593c7d89b.

* Revert ""CTCPrefixBeamSearcher timestamps""

This reverts commit c3d3cf756b1c099b1919f3f28d42bab819ebfe4b.

* Revert ""text frames""

This reverts commit e67c7619d3b1bc64d087f2e2f8c69d452e82a2d2.

* Revert ""fix consistancy blank_skip_threshold""

This reverts commit f97a391f3574337f968135d41a9c2316014cb885.

* Update ctc.py

* arg / timestamps

* precommit

* timesteps -> text_frames

* ls seq2seq

* transformer ls

* fix naming

* librispeech

* aishell

* fix linter

* precommit

* switchboard

* timit

* Dynamic batching fixed

* authors

* fix conformer large

* indent

* Revert ""Fix dynamic batching"" (#2173)

* update doctest skip

* Fix dynamic batching (#2174)

* Revert ""Revert ""Fix dynamic batching"" (#2173)""

This reverts commit faa5e76c66c54192a46f21d569a87c1aa8e439a3.

* Update interfaces.py

* Update interfaces.py

* Update text_to_sequence.py

* fix w2v

* aishell

* cv

* ls transformer

* ls ssl

* switchboard

* timit

* precommit

* fix indent

* fix arg

* unit test sorting

* unittests

* remove if main

* Small fixes in averaging checkpoints (#2181)

* add ckpt avg unittest

* avoid hard-coding number of averages

* last fixes

* fix recipe test

* fix recipe test

* convert print into logger

* fix transducer recipe

* remove typing

* fix merge

* precommit

* Update LibriSpeech.csv

* update to new dynamic batching args

* Update unstable branch with new commits  (#2196)

* hyper branch/conf -former fixes

* remove ctc.py from doctest

* get back ctc.py

* remove doctest for torchaudio

* adapt gpt recipe

* adapt gpt recipe

* small follow up fix on openrir

* remove doc test (for now)

* fix issue greedy search

* docstring

* pre-commit

* Fix issues unstable (#2216)

Thank you @Adel-Moumen! I did the tests again and everything works now. As for your points on the recipe tests, I agree. We can eventually do that in another PR.

* Fix missing file / import in huggingface_transformers (#2224)

* init/imports

* comment

* add partial import

* wav2vec -> wav2vec2

* fix ci

* Text based HF (#2214)

* add mbart

* Add tristage scheduler

* Add mbart beam search

* Add IWLST recipes

* Add new models' inteference interface

* Add info of new models

* Add nllb scores

* Add new models' info

* Add test info IWSLT recipe

* Add test info IWSLT recipe

* add docstrings for S2STransformerBeamSearcher

* Update IWSLT recipes

* Update IWSLT recipes

* fix doctest

* add requirements

* add protobuf

* fix doctest

* small fixes

* Add protobuf install

* Minor reform

* Remove protobuf

* Fix docstings

* Fix docstrings

* minor reform

* remove labse

* change authorship

* remove comments

* minor changes

* change authorship

* Fix recipe test

* add info

* Update README.md

* Update README.md

* change recipe structure

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>
Co-authored-by: Adel Moumen <88119391+Adel-Moumen@users.noreply.github.com>

* Neural LM Rescoring (#2187)

* baserescorerinterface

* add rescorers

* first attempt

* update code

* 1.57 wer

* update

* update code

* update code

* docstring example rnn

* updata loader

* docstring example

* tests

* docstring example

* update

* tmpdir

* change path

* update doc

* docstring

* docstring args

* doctest

* fix docstring example

* unnittest

* interface

* yamls update

* full_infernece tests

* model link

* readme

* yaml/inference tests

* update res

* fix wav2vec with wav2vec2

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Add wrappers for Encodec and Vocos vocoders (#2231)

* Add wrappers for Encodec and Vocos from Huggingface

* Encodec: Add a comment

* Encodec/Vocos: Add examples, restructure, fix masks

* Vocos: Add a comment about the open pull request

* Encodec/Vocos: Add the ability to customize save_path, fix a log message

* Encodec/Vocos: Cosmetic changes

* Vocos: Cosmetic changes

* Encodec/Vocos: Remove the mandatory Vocos requirement

* Vocos: Remove vocos from __init__.py

* fix init

* Vocos: Add a check for vocos in conftest.py

* Vocos/Encodec: Update documentation, add bandwidth control

* Fix old path in conftest.py

* Cosmetic changes

* Encodec/Vocos: Add support for embedding vectors

* Encodec: Update example

* Encodec/Vocodec: Add automatic reshaping, minor cosmetic changes

---------

Co-authored-by: flexthink <flexthink@users.noreply.github.com>
Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Semantically-Aligned Multimodal Utterance-level (SAMU) pre-training (#2223)

* add mbart

* Add tristage scheduler

* Add mbart beam search

* Add IWLST recipes

* Add new models' inteference interface

* Add info of new models

* Add nllb scores

* Add new models' info

* Add test info IWSLT recipe

* Add test info IWSLT recipe

* add docstrings for S2STransformerBeamSearcher

* Update IWSLT recipes

* Update IWSLT recipes

* fix doctest

* add requirements

* add protobuf

* fix doctest

* small fixes

* Add protobuf install

* Minor reform

* Remove protobuf

* Fix docstings

* Fix docstrings

* minor reform

* remove labse

* Add attention pooling

* Add labse

* Add info about SAMU

* add iwslt recipes with samu

* fix recipe test

* fix comments

* fix recipe test

* change recipe structure

* fix test recipe

* Add new recipes

* minor doctest change

* minor doctest change

* small changes

* add dropbox links

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* fix norm (#2237)

* Discrete SSL (#2233)

* clustering training recipies for LibriSpeech for different SSL model

* add Discrete Hubert Model

* load from HF, fix minor issues

* fix hyper-param value

* fix precommit

* fix flake8

* fix batch_size and n_clus values in hyperparams

* fix typos

* fix typo and some cleaning

* fix precommit

* fix device incompatibility and memroty issue

* use fit instead of partial fit

* add README file

* add test recipies

* remove unused fields from hparams

* fix precommmit-yamllint - extra whitespace

* add docstring for load_kmeans for Discrete_hubert.py

* add discrete wavlm, wav2vec

* avoid docstring testing for discrete_ssl models

* fix docstring failed issue

* add discrete_interface to conftest.py

* fix precommit

* Fixes for Encodec (#2240)

* Add wrappers for Encodec and Vocos from Huggingface

* Encodec: Add a comment

* Encodec/Vocos: Add examples, restructure, fix masks

* Vocos: Add a comment about the open pull request

* Encodec/Vocos: Add the ability to customize save_path, fix a log message

* Encodec/Vocos: Cosmetic changes

* Vocos: Cosmetic changes

* Encodec/Vocos: Remove the mandatory Vocos requirement

* Vocos: Remove vocos from __init__.py

* fix init

* Vocos: Add a check for vocos in conftest.py

* Vocos/Encodec: Update documentation, add bandwidth control

* Fix old path in conftest.py

* Cosmetic changes

* Encodec/Vocos: Add support for embedding vectors

* Encodec: Update example

* Encodec/Vocodec: Add automatic reshaping, minor cosmetic changes

* Encodec: Decoupled token extraction, fixed CPU/GPU issues

* Encodec: Add renormalization

---------

Co-authored-by: flexthink <flexthink@users.noreply.github.com>
Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Refactoring of the 'fit_batch' function (#2010)

* add dataclass

* turn False

* remove valid_step

* update core.py

* update core.py

* update core.py

* precommit

* self.autocast + GradScaler enabled

* freeze opt

* naming

* update core.py

* comments

* example transducer conformer

* update core.py

* small changes

* naming + skip_grad_nans

* doc

* check

* support cpu training

* precision + doctrsting

* name

* change w2v

* restore ckpt

* remove file

* remove casting

* tests

* whisper + fix tests

* seq2seq ls

* update transducer / transformer

* remove on_optimizers_step_end + comments

* update check yaml

* remove default arg

* add precision in yamls

* add precision inside of the yamls

* ckpt and scaler

* run_opt outside brain + test

* several recipe updates

* improve w2v fit_batch fn

* add arg

* update name

* timit

* context manager

* on_fit_batch_start

* update CV

* should_step with noam

* add flag precision

* naming

* aishell

* aishell

* update recipes

* so many recipes 0.0

* update recipes

* last recipes

* zero_grad

* fix grad_accumulation_factor

* update recipes

* update auto_mix_prec flag

* remove opt flag test

* librispeech

* cv ssl

* audio mnist / realm

* voicebank

* fix rescuespeech

* fix lr annealing

* libritts

* multiwoz

* slurp nlu

* should_step

* update yamls

* update yaml

* update batch smpler tedlium

* remove fit batch

* precision flag

* update sampler

* add precision inside of the yamls

* run_opt outside brain + test

* fix auto_mix_prec flag

* docstring

* grad acc

* failing test

* update unittests

* update jarod's pr

* fix removed avg_checkpoint param

* update path

* fix some recipe tests

* update samu recipe

* fix hifigan/IWSLT

* tedlium

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Refactor Augmentation (#2206)

* update

* update

* change folder

* remove unnecesary file

* update folder structure

* add noise, add rev

* augmenter refactor

* refactor augment + example in templace

* fix tests + linters

* address comments

* supporting variable-length augmentations in augmenter (e.g., speed change)

* lib refactor (splitting time and freq augmentations)

* fine tune freq drop

* refactor of specaugment (freq-domain) - part 1

* converted specaument (freq domain)

* refactor random shift

* implemented cutcat, swap, and random selection

* extended unittests + small fixes

* improvements and fixes in augment

* plugged feature augmentation + various fixes and improvements

* add sum_batch noise (similat to babble) + various fixes

* add drop bit resolution

* added coded augmentation

* added more unittests

* restore all augmentations

* making AddReveb more similar to AddNoise

* fix device mismatch + fix last batch management

* add workes to speed up AddNoise and AddRev

* improve comments in template yaml

* speed up template (sorting dev and test)

* extend augmenter by adding activation provability

* implemented enable augmentation flag (useful of hparam tuning) + other improvements

* plugged coded augment

* fixed coded augment

* remove old files

* fix integration test

* remove knowledge distill TIMIT reicpes. Too many yaml files to maintain

* convert TIMIT

* fix recipe

* converted templates using EnvCorr

* converted voxceleb

* converted GSC + fixes on voxceleb

* convrted UrbanSound8k

* converted voicebank

* converted other recipes

* converted CommonLanguage, VoxLingua, timers-and-such

* converted all recipes using envcorr

* CommonVoice

* REAL-M

* Aishell1Mix

* LibriMix

* converted all recipes!

* fix linters - part1

* fix linters - part2

* add a note in the template regarding augmentation

* fix docstring tests

* fix yamls

* remove coded tests from docstring

* revised coded tests

* fix identation in codec.py

* try to fix doc issue

* revise lib header in codec.oy

* fix doc

* fix doc attempt

* rename sections

* fix doc

* fix (most) recipe tests

* fix other recipe tests

* address comments

* fix yaml

* fix

* convert recipe

* fix recipes

* fix aug in rescoring recipes

* Delete tmpdir_vocoder directory

* Refactor Inference (files and folders) (#2252)

* refactor inference files and folders

* fix some tests

* fix some tests

* fix doctest

* import lib

* small fixes

* Fix beam search (#2253)

* fix starting pos prefix_length

* block path ctc + fix default value to the old one

* fix issue with score being -inf

* remoev print

* precommit

* Fix ctc beam search (#2263)

* fix logprobs / space_token / warnings

* fix space_token

* pre-commit

* space_token

* simplify parameters

* simplify yamls

* remove comma

* update beam search

* fix vocab/str (#2265)

* Fix blank index ctc (#2266)

* update blank_index

* whisper

* revert change

* mistake

* Cv unstable merge (#2254)

* add fr preproccesing to Common_voice_prepare.py

* add CV , CTC, new languages

* fix precommit and test

* add transducer recipie

* add transformer recipies

* update augmentation of CTC recipies

* update seq-to-seq recipies

* fix whisper HF interface bug. (return str insted of list)

* fix recipe tests

* add fr preproccesing to Common_voice_prepare.py

* add CV , CTC, new languages

* fix precommit and test

* add transducer recipie

* add transformer recipies

* update augmentation of CTC recipies

* update seq-to-seq recipies

* fix whisper HF interface bug. (return str insted of list)

* fix recipe tests

* modify beamsearch for CTC: ar.es.pt and zh-CN

* fix interface conflict

* fix transducer interface bug

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Add warnings and fix numba (#2271)

* upperbound torch/tochaudio + remove opt dependancy

* add back automix/bf flags

* linters

* oops

* transformers back

* test requirements

* Fix Bug: CommonVoice Transformer Bug loading correct optimizer (#2278)

* fix trnsfrm bug to load correct opt:adam vs sgd

* add  data_root to the path of common_voice_prepare.py

* add epoch/_counter pretrainer to fr and it recepie

* revert releative path change

* fix opt bug without the need to add epoch_ckpt

* add log and delete launch file

* update the log message

* update WeightedSSLModel (#2272)

* update WeightedSSLModel

* requirements.txt

* fix pre-commit

* Sg/dac (#2246)

* introducing DAC

* lint errors

* black

* documenttion

* remove unused init file

* Fixing tests

* More doc strings

* More doc strings

* PR review

* PR review

* PR review

* Update dac.py

* Update dac.py

* Update dac.py

* make doctests smaller to avoid memory issues in CI

* even smaller tests

---------

Co-authored-by: Shubham Gupta <shubhamgupta@Shubhams-MacBook-Pro-2.local>
Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* add quantization recipies fro IEMCAP, CV, LibriSpeech and LJSpeech (#2255)

* add quantization recipies fro IEMCAP, CV, LibriSpeech and LJSpeech

* update discrete_ssl models

* add iemocap_prepare to main folder + add test

* ix test for iemocap

* fik typos

* fix test recepies,  minor dormat editting

* fix typo in coomonvoice.csv

* fix typo in yaml file

* fix doctests (those that we do not run in the CI)

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* change emdedding type from long to float to vaoid getting al zeros embedding (#2292)

* Update CVSS (#2285)

* Update CVSS

* Update train_fr-en.yaml

* Update train_fr-en.yaml

* Update HF interface (#2293)

* RNN Tranducer Numba Loss: Add FP16 and BF16 support (code from Samsung AI Cambridge) (#2296)

* Make lobes use fp32 when AMP is active (#2295)

* Added utils.autocast with a fwd_default_precision function

* Decorate all lobes to require float32 precision in AMP

* Fix trailing space in docstring

* Less confusing doc for fwd_default_precision

* Be explicit that only fp inputs are affected by fwd_default_precision

* Typo in docstring

* Remove dtype annotation that is broken for some reason

* Precommit checks will be the end of me

* Fix tests

* Add docstring to precision wrapper function

* Fix style check again..

* adding support for fp16 transducer loss numba

* adding support for fp16 transducer loss numba

* fix fp16 transducer recipe

* add note on half precision

---------

Co-authored-by: asu <sdelang@sdelang.fr>
Co-authored-by: Titouan Parcollet/Embedded AI /SRUK/Engineer/Samsung Electronics <t.parcollet@sruk-ccn4.eu.corp.samsungelectronics.net>
Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Fix recipe tests for TransformerASR (#2282)

* fix position embedding (#2283)

* fix position embedding

* use speechbrain internal postional encoding and generate mask from sequence lengths

* call mask function from core for tacotron

* minor fix

* fix device

* reduce training epochs

* update links

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Gradscaler flags (#2281)

* add flags for gradscaler

* add check_loss_isfinite

* update dict

* typo

* remove default

* better message

* fix pre-commit

* remove checks

* remove new arguments

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* add llama2 recipies (#2299)

* add llama2 recipies

* fix symbolic links

* fix  bug

* remove unneccary input in docstring

* fix typo

* cleaning llama2 recepies

* update readme

* update interface and add licence to readme

* fic doc string

* fix precommit

* fix extra-dependency

* remove  commented lines

* inter epoch checkpoint

* minor fixes

* add extra req info in llama.py

* fix linters

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* small fixes

* make all recipes cpu-compliant + make recipe tests passing on both cpu and gpu

* fix some broken links

* remove link to private HF repo

* remove link to private HF repo

* fix libritts recipe test

* fix ljspeech recipe test

* Streamable Conformer-Transducer ASR model for LibriSpeech (#2140)

* Introduce DCT+DCConv logic

* DDP fix?

* Batch of changes and things brought back

* Streaming fixes (successfully trains)

* WIP streaming code

* WIP functional streaming code

* Fix left context

* Fix formatting

* Cleanups and docs in streaming utils

* Better comment hparams, change seed back to orig, improve naming

* uncomment averaging stuff; it was some ipython issue

* Remove pin_memory as it was not beneficial

* More cleanups, comments on context stuff

* More comments and TODOs

* encode_streaming docstring

* Dirty TransducerBeamSearcher change for streaming GS

* Fix precommit

* Fix encoders that do not support chunk_size

* Pre-commit again

* Make chunk_size type consistent

* Fix formatting of doctest in split_wav_lens

* Remove outdated TODO

* Add hasattr streaming to retain model backcompat

* Cleanup doc and naming for transducer_greedy_decode

* Cite paper for chunked attention

* Remove lost comment

* Update comment in self-attention

* Don't apply masked fill fix in the non-bool mask case

* Added TODO README update

* Revert change to custom_tgt_module; patching model instead

* Remove added entry in README

* Fix streaming conformer conv mismatch

* More conformer conv adjustments

* Adjust context size

* Remove outdated comment

* Fixed causal conformer decoder

* Fix linting

* Gate `custom_tgt_module` creation behind the presence of decoder layers

* Re-enable checkpoint averaging

* Change averaged ckpt count to 10

* Add new model results to README

* WIP refactor: Introduce DCTConfig dataclass

* Improved notice in README

* Formatting and linting fixes

* Attempt at fixing circular import?

* utils can't depend on core it seems; move dct

* Whoops, missed file

* Add DCT test, fix issues

* Remove now obsolete yaml variables for streaming

* Formatting

* Add dummy dct_config parameter to keep unsupported encoders working

* Linting fix

* Fix typo

* Add note on runtime autocast accuracy

* Fix very bad typo from refactor in YAML

* Fix hasattr streaming check

* Remove legacy comment

* Fix left context size calculation in new mask code

* Fix causal models in TransformerASR

* Remove comment on high-level inference code

* YAML formatting + commenting dynchunktrain stuff

* Remove outdated comment about DCConv left contexts

* Remove commented out debug prints from TransformerASR

* Move DCT into utils again

* Rename all(?) mentions of DCT to explicit dynamic chunk training

* Clarify padding logic

* Remove now-useless _do_conv, fix horrible formatting

* Slightly fix formatting further

* Add docstrings to forward_streaming methods

* Add a reference on Dynamic Chunk Training

* Rework conformer docstring docs

* Update conformer author list, fix doc formatting for authors

* Fix trailing whitespace in conformer

* Improved comments in Conformer.forward

* Added random dynchunktrain sampler example

* More explicit names for mask functions in TransformerASR

* Added docstring example on encode_streaming

* Pre-commit fix

* Fix typo in conformer

* Initial streaming integration test

* Precommit fix

* Fix indent in YAML

* More consistent spelling in streaming integration test

* Update CommonVoice.csv

* Add KenLM n-gram training recepie (#2304)

* add kenlm training

* fix precommit

* update readmefile with new result

* fix pre-commit

* fix typo

* fix commit reviews

* fix bug in testing

* add docstring and fix indentation

* fix bug in ASR interface

* change encoderasr interface to support ctc beam

* add suppourt fro kenlm in enoderasr interface

* fix typo

* little changes in REAMDE files to improve clarity)

* use binaries sources in bashrc

* fix trailing-whitespace

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* Create Performance file (automatically) (#2314)

* add performance readme builder

* update recipe csv files

* update README files

* add not in prerelease test

* added performance.md

* fix linters

* update info in README

* Llama2 interface bug (#2318)

* fix llama2 interface bug

* fix minor bug

* update multiwox.csv with correct db and HF link

* New README file (#2315)

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Optimize masked Dynamic Chunk Convolution (#2308)

* Reorganized some conformer convolution module to be faster

* Completely get rid of the list of slices in the conformer conv module

* Fix linter check

* Remove unused variable

* More unused variables..

* Remove unused import

* Add conformer streaming code path test

* Fix test formatting

* small fixes in tests

* Update RNNLM.yaml

* BayesSpeech (#2326)

* Create train_bayesspeech.py

* Create bayesspeech.yaml

* Update README.md

* Update LibriSpeech.csv

* add extra-req

---------

Co-authored-by: Mirco Ravanelli <mirco.ravanelli@gmail.com>

* adding new controllable exp scheduler

* adding new controllable exp scheduler

* update performance file

* Update PERFORMANCE.md

* Update README.md

---------

Co-authored-by: mhn226 <mhn.22692@gmail.com>
Co-authored-by: Adel Moumen <88119391+Adel-Moumen@users.noreply.github.com>
Co-authored-by: Adel Moumen <adelmoumen.pro@gmail.com>
Co-authored-by: Ha Nguyen <43038599+mhn226@users.noreply.github.com>
Co-authored-by: flexthink <1496671+flexthink@users.noreply.github.com>
Co-authored-by: flexthink <flexthink@users.noreply.github.com>
Co-authored-by: Pooneh Mousavi <moosavi.pooneh@gmail.com>
Co-authored-by: shubham-gupta-30 <127571426+shubham-gupta-30@users.noreply.github.com>
Co-authored-by: Shubham Gupta <shubhamgupta@Shubhams-MacBook-Pro-2.local>
Co-authored-by: Parcollet Titouan <parcollet.titouan@gmail.com>
Co-authored-by: asu <sdelang@sdelang.fr>
Co-authored-by: Titouan Parcollet/Embedded AI /SRUK/Engineer/Samsung Electronics <t.parcollet@sruk-ccn4.eu.corp.samsungelectronics.net>
Co-authored-by: Luca Della Libera <34525085+lucadellalib@users.noreply.github.com>
Co-authored-by: Yingzhi WANG <41187612+BenoitWang@users.noreply.github.com>
Co-authored-by: BenoitWang <wangyingzhi666@gmail.com>"
github.com/gradio-app/gradio,gradio/cli/commands/deploy_space.py,2023-10-31T04:46:02Z,"Version 4 development branch (#5498)

* squash commit

* BugFix: Make FileExplorer Component Templateable (#5933)

* Make FileExplorer templateable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix notebooks (#5935)

* V4: Update Component pyi file (#5937)

* Add code

* add changeset

* delete

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use beta release versions for '@gradio' packages (#5938)

* Fix versions

* add changeset

* fix

* add changeset

* fix

* add changeset

* Fix

* fix preview

* add changeset

* final fix

* add changeset

* fix

* add changeset

* fix

* add changeset

* revert change

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* maybe fix (#5946)

* Merge main again (#5948)

* maybe fix

* fix

* Merge main again (#5949)

* maybe fix

* fix

* weird weird weird

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Merge main again (#5950)

* maybe fix

* fix

* weird weird weird

* fix

* log

* log

* fix changesets

* rererefactor frontend files (#5960)

* do all the things

* add changeset

* remove codemod

* fix

* change casing

* condense upload button

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Strip vite import warning (#5962)

* Add code

* Remove comment

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5769)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* release wasm (#5963)

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Wasm release (#5964)

* release wasm

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5965)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add json schema unit tests (#5970)

* Add tests

* add changeset

* Fix tests

* api-info

* Add test

* Add test

* Add email tests

* 3.8 fix 🙄

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple textbox (#5990)

* Simple textbox

* add changeset

* Trim down events

* Trim

* Clean up change event

* Add comment

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* File upload optimization (#5961)

* Use custom multipart parser

* add changeset

* remove print

* Add comment

* Lint

* fix code

* remove print

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Removes deprecated arguments and parameters from v4 (#5968)

* Removes deprecated arguments and methods for v4

* remove update

* style

* add changeset

* added params

* typign

* fixed all of the typing

* tests

* fix layouts

* layout

* fix config

* fix

* fix form

* fix

* fix blocks tests

* fix some more tests

* lint

* fix test routes

* doc

* notebooks

* remove doc

* format

* format

* remove group

* label docstring

* remov test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple dropdown (#5996)

* Add code

* lint

* comment

* add changeset

* revert

* Fix update + docstring cleanup

* Add code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pass props to example components and to example outputs (#6014)

* pass props to example components and to example outputs

* add changeset

* make util less egenric/ more useful

* fix demo

* fix demo

* fix

* fix test

* Fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Format js in v4 branch (#6016)

* Format v4 branch js

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix component update bug  (#6027)

* Fix tests + bugs

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* lockfile update

* Fixing test

* fix test

* Add a cli command to list available templates (#6018)

* Add code

* dataset

* Add test

* add changeset

* add changeset

* add changeset

* add changeset

* Exclude FormComponent

* Paginate the output

* No colors but emojis:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix tests (#6046)

* fix storybook (#6065)

* fix storybook

* add changeset

* fix

* add changeset

* fix

* fix

* fix components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* remove dupe component (#6067)

* remove dupe component

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Simplify File Component (#6044)

* Add code

* Add code

* Add code

* Reuse code UploadButton

* Use two files for UploadButton

* Address feedback

* Lint

* add changeset

* Update js/uploadbutton/shared/UploadButton.svelte

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>

* Clean up backend of `File` and `UploadButton` and change the return type of `preprocess()` from TemporaryFIle to string filepath (#6060)

* changes

* add changeset

* upload button

* file

* add changeset

* valid types

* fix tests

* address review

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix Dropdown Example component and example processing logic (#6075)

* fix examples

* helpers

* dropdown

* fix cc build (#6079)

* fix cc build

* add changeset

* throw error if build fails

* fix entry points

* add changeset

* fix lockfile

* Add test

* update workflow

* try resolve

* lint 🙄

* Use xfail

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fixes markdown rendering in examples (#6071)

* Fixes markdown rendering in examples

* add changeset

* update delimiters

* format

* format

* docstrings

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Proposal: sample demo for custom components should be a `gr.Interface` (#6077)

* update sample demo to interface

* add changeset

* modify

* Update gradio/cli/commands/components/_create_utils.py

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* added layout and static

* fix

* refine

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* WIP: Fix docs (#6082)

* Website fix

* add changeset

* Fix code

* pin version

* Add code

* skip code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Pending events behavior (#5826)

* enter changesets pre-release mode

* release first version (#5500)

* release packages

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix changeset (#5502)

* add changeset

* release first version

* Custom components (#5507)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* Disable example caching for load right now

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* image fixes (#5589)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* fix image uploads

* add changeset

* remove changeset

* add changeset

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support Literal Typehints (#5591)

* Fix updateable

* Deploy for failing actions

* fix enum

* Add code

* remove gradio lite from publish ci

* fix

* fix

* chore: update versions (beta) (#5501)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix js deps in cli and add gradio-preview artifacts to build (#5610)

* Fix js dependencies in cli

* Add preview to build command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5612)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* backend linting (#5613)

* backend linting

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish js theme (#5615)

* Publish js theme

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5614)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add code (#5617)

* Add docstring to trigger release (#5618)

* Add docstring

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5619)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build and broken imports (#5620)

* fix broken import

* fix build scripts

* add changeset

* Update js/statustracker/static/index.svelte

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5621)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5624)

* fix build

* fix build

* add changeset

* fix build

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5626)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5629)

* fix build

* fix build

* add changeset

* fix build

* fix

* asd

* more fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* asd (#5630)

* chore: update versions (beta) (#5631)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Some minor v4 fixes (#5637)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish all components to npm (#5648)

* Publish image component

* publish components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5638)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix front-end imports + other misc fixes (#5649)

* Fix console error

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add overwrite flag to create command (#5651)

* Add overwrite flag to create command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5650)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Make layout components templateable (#5665)

* Split out layouts

* Refactor cli

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Patch fixes (#5678)

* Handle lowercase template name frontend

* Lint

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix build and file route (#5680)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5662)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fix typing (#5686)

* Add examples for series and parallel

* v4 fix typing

* add changeset

* Fix

* Fix

* Fix 3.8

* Fix typing 3.8

* Lint

* Add code

* Add key

* Fix typing

* Add code

* Fix deps

* Fix fastapi

* Fix version
'
:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use overrides (#5695)

* Use overrides

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* ensure client is copied along with components (#5709)

* ensure client is copied along with components

* add changeset

* add changeset

* chore: update versions (beta) (#5688)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build config (#5710)

* Fix python unit tests for v4 (#5715)

* Add code

* Fix tests

* Add ci

* Add code

* fix test_blocks

* More fixes

* Last changes

* add changeset

* Add code

* Continue for the sake of some green ci

* Proper api info

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Better test dir check (#5719)

* FIx test-dir check

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use path to npm executable in subprocess (#5736)

* Use path to npm in subprocess

* Fix dev mode too

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add Error + test (#5738)

* Add Error + test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix component regex (#5739)

* Add code

* Fix component regex

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix layout templates (#5740)

* Fix templates

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix template remaining components (#5743)

* add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* --overwrite deletes previous content (#5744)

* Add code

* Add code

* add changeset

* Add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support call method (#5751)

* Support call method

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows ci build (#5752)

* Try bash

* Use cross-env

* Trigger CI

* Fix comma

* add changeset

* Modify lock file

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows paths (#5745)

* Use posix path

* add changeset

* add changeset

* Try normalize

* to_posix v2

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5717)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Simplify how files are handled in components in 4.0 (#5768)

* Client and upload route hash files

* Refactor logic

* add changeset

* Add code

* View API fix

* Fix client tests

* Dumb windows fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix deployed demos on v4 branch (#5770)

* Template fixes

* add changeset

* add changeset

* Fix streaming audio

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Name Endpoints if api_name is None (#5782)

* Implementation and test

* add changeset

* fix lint

* Fix nits

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pending events

* add changeset

* Set api=False for cancel events (#5851)

* Set api=False for cancel events

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Set cache dir for some component tests (#5852)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use async version of shutil in upload route (#5853)

* Use async shutil copy

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* trigger_mode

* changes

* undo

* undo

* add changeset

* undo

* add changeset

* image undo

* add changeset

* fix merge errors

* remove prints

* change

* fix

* fix error

* change

* quick fix

* trigger_mode param

* type

* value error

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes: slider bar are too thin on FireFox (#5984)

* firefox slider fix

* add changeset

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix remaining xfail tests in backend (#6073)

* Add code'

* Add code

* Add code

* Fix dataset

* add changeset

* Add some comments

* Add recover_kwargs

* Remove from docstring

* Audio-to-audio

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix dev mode model3D (#5955)

* Fix dev mode

* Lint

* add changeset

* Fix dev mode

* Lint

* remove console.log

* add changeset

* interactive fix

* Fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Dawood <dawoodkhan82@gmail.com>

* V4: Single-file implementation of form components (#6026)

* Checkbox and number

* Number, Checkboxgroup, Radio, and Slider

* Format

* remove range

* Refactor checkbox

* Forgot to add

* Refactor

* Lint

* add changeset

* use rich emoji markup

* Fix ts

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update logos for v4 (#6089)

* update v4 logo

* add changeset

* size

* fix on website

* fix on demos

* add changeset

* favicon for demos

* margin on footer logo

* margin bottom to footer logo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add a stand-alone install command and tidy-up the fallback template (#6092)

* Add code

* add changeset

* Add test

* Make install default

* Better error message

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix constructor_args (#6093)

* Fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix: Move to cache in init postprocess + Fallback Fixes (#6107)

* Add code and test

* restore

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix build (#6112)

* fix build

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update cold-lemons-roll.md

* Revert ""Update cold-lemons-roll.md"" (#6113)

This reverts commit 20dbf908119b3a19b32f307a40158a9f3b4bf4eb.

* Try to trigger a major beta release (#6114)

* pyproject fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete bad changelog (#6115)

* Delete bad changelog

* Revert ""Delete bad changelog""

This reverts commit a8ca614eaf0e9f980a146a2fe76c3e23581db6f1.

* Delete bad

* formatting

* Revert ""formatting""

This reverts commit 94f43859e7d1927ab38e9ac77baaa016deede5fc.

* Improve Audio Component (#5966)

* replace <audio> with wavesurfer: add recording, playing and trimming, playback

* add changeset

* merge cleanup

* improving recording styling

* add recording timer

* add trim region duration

* allow trimming recordings

* clean up playing logic

* add pause_recording event

* remove crop min/max

* add waveform options param

* remove trimmingmode and use mode

* streaming + cleanup

* add changeset

* clean up types

* mobile adjustments

* add min/max length  + trim accessibility

* update pnpm lock

* amend source to a list and allow source switching

* fix no microphone found logic

* change undo logic to reset trims

* tweaks

* tweak reset logic

* ensure recording is sent to backend

* fix audio duration reactivity

* list tweak

* clean up

* change source -> sources + restore wasm changes

* formatting

* fix tests

* fix test

* add default sources value in fe + fix audio demos

* fix audio file name test

* add better sources typing

* ui test tweaks

* add default value in templates.py

* formatting

* remove unused prop

* add audio story

* add changeset

* revert sources changes

* remove story id

* fix be test

* fix be test

* fix notebooks

* formatting

* fix test

* fix test again

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* Fix changesets 2 (#6116)

* fix changesets

* release major

* Fix changesets 2 (#6117)

* fix changesets

* release major

* asd

* fix version

* chore: update versions (beta) (#5973)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* v4

* Open source FRP server and allow `gradio` to connect to custom share servers (#6091)

* add param

* add support for custom address

* add changeset

* share guide

* guide

* add params

* add changeset

* fix launch

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Gradio custom component publish (#6098)

* Add code

* add changeset

* F-string

* Add pwd

* Add source to space

* Add template

* Twine import

* add changeset

* ignore

* restore

* add changeset

* Address feedback

* Update gradio/cli/commands/components/publish.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix static issues with Lite on v4 (#6124)

* fix missing props

* fix path to types

* add changeset

* fix path to i18n

* fix audio tests

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Refactor `Blocks.load()` so that it is in the same style as the other listeners (#6126)

* restore decorator

* remove

* refactor load

* remove restriction

* add changeset

* add pyi

* add test

* add test

* fix tests

* metaclass

* future

* reduce'

* docstring

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Small change to make `api_open=False` by default (#6138)

* set api_open to False by default

* add changeset

* tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Image v4 (#6094)

* simplify image interface

* changes

* asd

* asd

* more

* add code (#6095)

* more

* fix tests

* add changeset

* fix client build

* fix linting

* fix test

* lint

* Fix tests + lint

* asd

* finish

* webcam selection

* fix backend

* address comments

* fix static checks

* fix everything

* add changeset

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix examples

* fix tests

* fix tests

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix fallback demo app template code (#6129)

* Add test

* add changeset

* Add JSON note

* Fix test

* Update gradio/cli/commands/components/_create_utils.py

* Update test/test_gradio_component_cli.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix video path

* Revert ""fix video path""

This reverts commit 5916b3dc8a91d4b0c92e33c71ee02b36df611c35.

* Fix selectable prop in the backend (#6135)

* Add to init

* Fix events

* add changeset

* Add code

* add changeset

* Fix typo

* Add code

* Fix highlighted text typo

* remove from docs

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix video (#6140)

* fix video

* add changeset

* fixes

* fixes

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix some tests on mac

* fix circular dependency with client + upload (#6143)

* fix circular dependency

* add changeset

* fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix image double change bug (#6146)

* fix test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* make lite private (#6147)

* make lite private

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix dropdown arrow size (#6148)

* fix dropdown arrow size

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* swap `mode` on the frontned to `interactive` to match the backend (#6149)

* JS READMEs and Storybook on Docs (#6142)

* changes

* changes

* working

* remove storybook path

* add changeset

* pin code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Don't serve files in working directory by default (#6128)

* don't serve files in working directory by default

* add changeset

* handle examples

* remove dotfiles

* guide

* guide

* fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix issues with website deploy (#6151)

* fixes

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Swap websockets for SSE (#6069)

* changes

* changes

* changes

* changes

* changes

* merge

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* changes

* changes

* add changeset

* Fix client tests sse branch (#6150)

* Switch spaces

* Fix tests

* Add code

* changes

* changes

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Remove duplicate `elem_ids` from components (#6152)

* remove elem_ids from components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Moves `gradio_cached_folder` inside the gradio temp direcotry (#6155)

* cache -> temp

* restore

* add changeset

* add exception for cached examples

* security policy

* join

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove `show_edit_button` param in Audio (#6153)

* remove `show_edit_button` param

* add changeset

* hide overflow

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove interpretation for good (#6154)

* interpretation

* notebooks

* add changeset

* removed from readme

* lint

* fix demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Make output components not editable if they are being updated (#6157)

* make outputs not editable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* JS Component Documentation (#6136)

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* add changeset

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* Merge in latest changes

* Fix typo

* Fix build

* Lockfile

* Fix

* Fix interactive

* correct the title

* add versions to readme

* only document public

* add changeset

* Remove simplevideo and audio

* add changeset

* changes to readmes

* add changeset

* remove tootils and theme

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Improve Video Component (#6118)

* change source to sources + add length logic

* add changeset

* add min/max logic

* tweak tests

* change sources

* formatting

* fix test_components.py test

* add trimming

* add changeset

* add keyboard events to trimming timeline

* UX improvements

* Add fix

* add loading status

* flip if webcam is only source

* generate notebooks

* remove scroll

* add file extension

* trim (#6156)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* add loading indicator to video

* ensure correct file ext is used

* tweak

* change where ffmpeg is loaded

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (beta) (#6122)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fixes (#6161)

* changes

* changes

* Pin 8.9 (#6162)

* Pending outputs fix (#6160)

* fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Clean root url (#6159)

* clean

* cleanup

* formatting

* add changeset

* fe

* add changeset

* selectable

* block

* fix

* fixes

* fix update

* gradio/events

* configs

* remove

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4 fixes (#6167)

* changes

* changes

* Fixes remaining backend tests (#6165)

* fix backend tests

* add changeset

* changes

* fix strings

* lint

* lint

* fixes

* delete test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-02-21T02:36:10Z,"Reverts the revert that dropped changes from 2 PRs (#7495)

* Revert ""Revert ""changes""""

This reverts commit 032435368d8d8db7439da5ffa966987f80c58db3.

* patch"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-02-20T22:21:27Z,"Revert ""changes""

This reverts commit 19dd2218dcacfb55cf55979d06f4c9880c15e856, reversing
changes made to 6a936330543c1b989ac1c957b2572dcd44e9ab7f."
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-02-19T21:29:20Z,"Enable Ruff S101 (#7477)

* Update to Ruff 0.2.2

* Enable Ruff S101; don't use asserts in runtime code, or AssertionErrors for flow control"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-02-09T19:24:00Z,"Fix `gr.load` for file-based Spaces (#7350)

* changes

* add changeset

* fixes

* changes

* fix

* add test

* add changeset

* improve test

* Fixing `gr.load()` part II (#7358)

* audio

* changes

* add changeset

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete .changeset/fresh-gifts-worry.md

* add changeset

* format

* upload

* add changeset

* changes

* backend

* print

* add changeset

* changes

* client

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-02-07T22:39:33Z,"[WIP] Refactor file normalization to be in the backend and remove it from the frontend of each component (#7183)

* processing

* add changeset

* changes

* add changeset

* add changeset

* changes

* changes

* clean

* changes

* add changeset

* add changeset

* root url

* refactor

* testing

* testing

* log

* logs

* fix

* format

* add changeset

* remove

* add root

* format

* apply to everything

* annoying fix

* fixes

* lint

* fixes

* fixes

* fixes

* fix tests

* fix js tests

* format

* fix python tests

* clean guides

* add changeset

* add changeset

* simplify

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-02-06T19:46:20Z,"Fix `processing_utils.save_url_to_cache()` to follow redirects when accessing the URL (#7322)

* Fix `processing_utils.save_url_to_cache()` to follow redirects when accessing the URL

* add changeset

* follow more redirects

* format

* add changeset

* add test

* validate urls

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2024-01-31T18:39:46Z,"Improve chatbot streaming performance with diffs (#7102)

* changes

* add changeset

* changes

* add changeset

* changes

* channges

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* canges

* changes

* changes

* changes

* Update free-moose-guess.md

* changes

---------

Co-authored-by: Ali Abid <aliabid@Alis-MacBook-Pro.local>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aliabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-12-22T19:59:02Z,"Add `show_api` parameter to events, and fix `gr.load()`. Also makes some minor improvements to the ""view API"" page when running on Spaces (#6846)

* show api

* chnages

* add changeset

* changes

* changes to interface

* set show_api=False

* changes

* development

* examples

* changes

* add changeset

* changes

* changes

* format

* add changeset

* add changeset

* changes

* revert

* fixes

* is vaild

* push

* fixes'

* fixing

* fixes

* format

* fixed

* demo

* test

* format

* add changeset

* fix tests

* fix

* format

* cleanup

* remove

* fixes

* add test

* format

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-12-20T19:07:48Z,"Rewriting parts of the README and getting started guides for 4.0 (#6767)

* doc rewrite

* changes

* changes

* tip

* changes

* notebook

* add changeset

* history

* add

* quickstart done

* readme

* changes

* quickstart

* changes

* reorder

* link

* changes

* changes

* changes

* quickstart done

* readme

* quickstart

* quickstart'

* moving around

* spaces

* readme

* guides

* guides

* links

* readme

* readme

* readme

* readme

* readme

* readme

* readme

* readme

* readme

* readme

* email address

* add changeset

* shorten quickstart

* readme

* Update README.md

* readme

* changes

* Update guides/01_getting-started/01_quickstart.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/01_getting-started/01_quickstart.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/01_getting-started/01_quickstart.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* changes

* changes

* remove gr.Interface.load

* guides

* changes

* more changes

* changes

* sharing

* concurrency

* changes

* changes

* components

* key features

* event listeners

* features

* notebook

* test

* guides

* changes

* changes

* changes

* transitions

* readme links

* links

* links

* guides

* new gif

* add gif

* update gif

* Update guides/02_building-interfaces/01_more-on-examples.md

* Update guides/03_building-with-blocks/01_blocks-and-event-listeners.md

* Update guides/01_getting-started/01_quickstart.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/01_getting-started/02_key-features.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/01_getting-started/02_key-features.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/02_building-interfaces/00_the-interface-class.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/01_getting-started/01_quickstart.md

Co-authored-by: Hannah <hannahblair@users.noreply.github.com>

* Update guides/01_getting-started/02_key-features.md

Co-authored-by: Hannah <hannahblair@users.noreply.github.com>

* Update guides/01_getting-started/02_key-features.md

Co-authored-by: Hannah <hannahblair@users.noreply.github.com>

* changes

* replace space

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-12-13T22:47:06Z,"Python client properly handles hearbeat and log messages. Also handles responses longer than 65k (#6693)

* first commit

* newlines

* test

* Fix depends

* revert

* add changeset

* add changeset

* Lint

* queue full test

* Add code

* Update + fix

* add changeset

* Revert demo

* Typo in success

* Fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-12-12T23:24:46Z,"Fix api event drops (#6556)

* changes

* changes

* add changeset

* changes

* changes

* changes

* changs

* chagnes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes~git push

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* changes

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ubuntu <ubuntu@ip-172-31-25-241.us-west-2.compute.internal>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-12-05T22:18:09Z,"Issue 5245: consolidate usage of requests and httpx (#6598)

* issue 5245 commit 1

* formatted

* add changeset

* fixes

* fixes

* make changes in client too

* remove requests from client

* add changeset

* add changeset

* Fixes to test_utils.py in client

* fixes in client utils.py and test_utils.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-11-30T07:21:59Z,"Fix: Gradio Client work with private Spaces (#6602)

* client with private space

* add changeset

* lint

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-10-31T04:46:02Z,"Version 4 development branch (#5498)

* squash commit

* BugFix: Make FileExplorer Component Templateable (#5933)

* Make FileExplorer templateable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix notebooks (#5935)

* V4: Update Component pyi file (#5937)

* Add code

* add changeset

* delete

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use beta release versions for '@gradio' packages (#5938)

* Fix versions

* add changeset

* fix

* add changeset

* fix

* add changeset

* Fix

* fix preview

* add changeset

* final fix

* add changeset

* fix

* add changeset

* fix

* add changeset

* revert change

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* maybe fix (#5946)

* Merge main again (#5948)

* maybe fix

* fix

* Merge main again (#5949)

* maybe fix

* fix

* weird weird weird

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Merge main again (#5950)

* maybe fix

* fix

* weird weird weird

* fix

* log

* log

* fix changesets

* rererefactor frontend files (#5960)

* do all the things

* add changeset

* remove codemod

* fix

* change casing

* condense upload button

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Strip vite import warning (#5962)

* Add code

* Remove comment

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5769)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* release wasm (#5963)

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Wasm release (#5964)

* release wasm

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5965)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add json schema unit tests (#5970)

* Add tests

* add changeset

* Fix tests

* api-info

* Add test

* Add test

* Add email tests

* 3.8 fix 🙄

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple textbox (#5990)

* Simple textbox

* add changeset

* Trim down events

* Trim

* Clean up change event

* Add comment

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* File upload optimization (#5961)

* Use custom multipart parser

* add changeset

* remove print

* Add comment

* Lint

* fix code

* remove print

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Removes deprecated arguments and parameters from v4 (#5968)

* Removes deprecated arguments and methods for v4

* remove update

* style

* add changeset

* added params

* typign

* fixed all of the typing

* tests

* fix layouts

* layout

* fix config

* fix

* fix form

* fix

* fix blocks tests

* fix some more tests

* lint

* fix test routes

* doc

* notebooks

* remove doc

* format

* format

* remove group

* label docstring

* remov test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple dropdown (#5996)

* Add code

* lint

* comment

* add changeset

* revert

* Fix update + docstring cleanup

* Add code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pass props to example components and to example outputs (#6014)

* pass props to example components and to example outputs

* add changeset

* make util less egenric/ more useful

* fix demo

* fix demo

* fix

* fix test

* Fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Format js in v4 branch (#6016)

* Format v4 branch js

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix component update bug  (#6027)

* Fix tests + bugs

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* lockfile update

* Fixing test

* fix test

* Add a cli command to list available templates (#6018)

* Add code

* dataset

* Add test

* add changeset

* add changeset

* add changeset

* add changeset

* Exclude FormComponent

* Paginate the output

* No colors but emojis:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix tests (#6046)

* fix storybook (#6065)

* fix storybook

* add changeset

* fix

* add changeset

* fix

* fix

* fix components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* remove dupe component (#6067)

* remove dupe component

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Simplify File Component (#6044)

* Add code

* Add code

* Add code

* Reuse code UploadButton

* Use two files for UploadButton

* Address feedback

* Lint

* add changeset

* Update js/uploadbutton/shared/UploadButton.svelte

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>

* Clean up backend of `File` and `UploadButton` and change the return type of `preprocess()` from TemporaryFIle to string filepath (#6060)

* changes

* add changeset

* upload button

* file

* add changeset

* valid types

* fix tests

* address review

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix Dropdown Example component and example processing logic (#6075)

* fix examples

* helpers

* dropdown

* fix cc build (#6079)

* fix cc build

* add changeset

* throw error if build fails

* fix entry points

* add changeset

* fix lockfile

* Add test

* update workflow

* try resolve

* lint 🙄

* Use xfail

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fixes markdown rendering in examples (#6071)

* Fixes markdown rendering in examples

* add changeset

* update delimiters

* format

* format

* docstrings

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Proposal: sample demo for custom components should be a `gr.Interface` (#6077)

* update sample demo to interface

* add changeset

* modify

* Update gradio/cli/commands/components/_create_utils.py

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* added layout and static

* fix

* refine

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* WIP: Fix docs (#6082)

* Website fix

* add changeset

* Fix code

* pin version

* Add code

* skip code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Pending events behavior (#5826)

* enter changesets pre-release mode

* release first version (#5500)

* release packages

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix changeset (#5502)

* add changeset

* release first version

* Custom components (#5507)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* Disable example caching for load right now

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* image fixes (#5589)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* fix image uploads

* add changeset

* remove changeset

* add changeset

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support Literal Typehints (#5591)

* Fix updateable

* Deploy for failing actions

* fix enum

* Add code

* remove gradio lite from publish ci

* fix

* fix

* chore: update versions (beta) (#5501)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix js deps in cli and add gradio-preview artifacts to build (#5610)

* Fix js dependencies in cli

* Add preview to build command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5612)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* backend linting (#5613)

* backend linting

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish js theme (#5615)

* Publish js theme

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5614)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add code (#5617)

* Add docstring to trigger release (#5618)

* Add docstring

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5619)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build and broken imports (#5620)

* fix broken import

* fix build scripts

* add changeset

* Update js/statustracker/static/index.svelte

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5621)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5624)

* fix build

* fix build

* add changeset

* fix build

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5626)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5629)

* fix build

* fix build

* add changeset

* fix build

* fix

* asd

* more fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* asd (#5630)

* chore: update versions (beta) (#5631)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Some minor v4 fixes (#5637)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish all components to npm (#5648)

* Publish image component

* publish components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5638)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix front-end imports + other misc fixes (#5649)

* Fix console error

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add overwrite flag to create command (#5651)

* Add overwrite flag to create command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5650)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Make layout components templateable (#5665)

* Split out layouts

* Refactor cli

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Patch fixes (#5678)

* Handle lowercase template name frontend

* Lint

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix build and file route (#5680)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5662)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fix typing (#5686)

* Add examples for series and parallel

* v4 fix typing

* add changeset

* Fix

* Fix

* Fix 3.8

* Fix typing 3.8

* Lint

* Add code

* Add key

* Fix typing

* Add code

* Fix deps

* Fix fastapi

* Fix version
'
:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use overrides (#5695)

* Use overrides

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* ensure client is copied along with components (#5709)

* ensure client is copied along with components

* add changeset

* add changeset

* chore: update versions (beta) (#5688)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build config (#5710)

* Fix python unit tests for v4 (#5715)

* Add code

* Fix tests

* Add ci

* Add code

* fix test_blocks

* More fixes

* Last changes

* add changeset

* Add code

* Continue for the sake of some green ci

* Proper api info

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Better test dir check (#5719)

* FIx test-dir check

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use path to npm executable in subprocess (#5736)

* Use path to npm in subprocess

* Fix dev mode too

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add Error + test (#5738)

* Add Error + test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix component regex (#5739)

* Add code

* Fix component regex

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix layout templates (#5740)

* Fix templates

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix template remaining components (#5743)

* add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* --overwrite deletes previous content (#5744)

* Add code

* Add code

* add changeset

* Add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support call method (#5751)

* Support call method

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows ci build (#5752)

* Try bash

* Use cross-env

* Trigger CI

* Fix comma

* add changeset

* Modify lock file

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows paths (#5745)

* Use posix path

* add changeset

* add changeset

* Try normalize

* to_posix v2

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5717)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Simplify how files are handled in components in 4.0 (#5768)

* Client and upload route hash files

* Refactor logic

* add changeset

* Add code

* View API fix

* Fix client tests

* Dumb windows fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix deployed demos on v4 branch (#5770)

* Template fixes

* add changeset

* add changeset

* Fix streaming audio

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Name Endpoints if api_name is None (#5782)

* Implementation and test

* add changeset

* fix lint

* Fix nits

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pending events

* add changeset

* Set api=False for cancel events (#5851)

* Set api=False for cancel events

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Set cache dir for some component tests (#5852)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use async version of shutil in upload route (#5853)

* Use async shutil copy

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* trigger_mode

* changes

* undo

* undo

* add changeset

* undo

* add changeset

* image undo

* add changeset

* fix merge errors

* remove prints

* change

* fix

* fix error

* change

* quick fix

* trigger_mode param

* type

* value error

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes: slider bar are too thin on FireFox (#5984)

* firefox slider fix

* add changeset

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix remaining xfail tests in backend (#6073)

* Add code'

* Add code

* Add code

* Fix dataset

* add changeset

* Add some comments

* Add recover_kwargs

* Remove from docstring

* Audio-to-audio

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix dev mode model3D (#5955)

* Fix dev mode

* Lint

* add changeset

* Fix dev mode

* Lint

* remove console.log

* add changeset

* interactive fix

* Fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Dawood <dawoodkhan82@gmail.com>

* V4: Single-file implementation of form components (#6026)

* Checkbox and number

* Number, Checkboxgroup, Radio, and Slider

* Format

* remove range

* Refactor checkbox

* Forgot to add

* Refactor

* Lint

* add changeset

* use rich emoji markup

* Fix ts

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update logos for v4 (#6089)

* update v4 logo

* add changeset

* size

* fix on website

* fix on demos

* add changeset

* favicon for demos

* margin on footer logo

* margin bottom to footer logo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add a stand-alone install command and tidy-up the fallback template (#6092)

* Add code

* add changeset

* Add test

* Make install default

* Better error message

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix constructor_args (#6093)

* Fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix: Move to cache in init postprocess + Fallback Fixes (#6107)

* Add code and test

* restore

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix build (#6112)

* fix build

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update cold-lemons-roll.md

* Revert ""Update cold-lemons-roll.md"" (#6113)

This reverts commit 20dbf908119b3a19b32f307a40158a9f3b4bf4eb.

* Try to trigger a major beta release (#6114)

* pyproject fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete bad changelog (#6115)

* Delete bad changelog

* Revert ""Delete bad changelog""

This reverts commit a8ca614eaf0e9f980a146a2fe76c3e23581db6f1.

* Delete bad

* formatting

* Revert ""formatting""

This reverts commit 94f43859e7d1927ab38e9ac77baaa016deede5fc.

* Improve Audio Component (#5966)

* replace <audio> with wavesurfer: add recording, playing and trimming, playback

* add changeset

* merge cleanup

* improving recording styling

* add recording timer

* add trim region duration

* allow trimming recordings

* clean up playing logic

* add pause_recording event

* remove crop min/max

* add waveform options param

* remove trimmingmode and use mode

* streaming + cleanup

* add changeset

* clean up types

* mobile adjustments

* add min/max length  + trim accessibility

* update pnpm lock

* amend source to a list and allow source switching

* fix no microphone found logic

* change undo logic to reset trims

* tweaks

* tweak reset logic

* ensure recording is sent to backend

* fix audio duration reactivity

* list tweak

* clean up

* change source -> sources + restore wasm changes

* formatting

* fix tests

* fix test

* add default sources value in fe + fix audio demos

* fix audio file name test

* add better sources typing

* ui test tweaks

* add default value in templates.py

* formatting

* remove unused prop

* add audio story

* add changeset

* revert sources changes

* remove story id

* fix be test

* fix be test

* fix notebooks

* formatting

* fix test

* fix test again

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* Fix changesets 2 (#6116)

* fix changesets

* release major

* Fix changesets 2 (#6117)

* fix changesets

* release major

* asd

* fix version

* chore: update versions (beta) (#5973)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* v4

* Open source FRP server and allow `gradio` to connect to custom share servers (#6091)

* add param

* add support for custom address

* add changeset

* share guide

* guide

* add params

* add changeset

* fix launch

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Gradio custom component publish (#6098)

* Add code

* add changeset

* F-string

* Add pwd

* Add source to space

* Add template

* Twine import

* add changeset

* ignore

* restore

* add changeset

* Address feedback

* Update gradio/cli/commands/components/publish.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix static issues with Lite on v4 (#6124)

* fix missing props

* fix path to types

* add changeset

* fix path to i18n

* fix audio tests

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Refactor `Blocks.load()` so that it is in the same style as the other listeners (#6126)

* restore decorator

* remove

* refactor load

* remove restriction

* add changeset

* add pyi

* add test

* add test

* fix tests

* metaclass

* future

* reduce'

* docstring

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Small change to make `api_open=False` by default (#6138)

* set api_open to False by default

* add changeset

* tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Image v4 (#6094)

* simplify image interface

* changes

* asd

* asd

* more

* add code (#6095)

* more

* fix tests

* add changeset

* fix client build

* fix linting

* fix test

* lint

* Fix tests + lint

* asd

* finish

* webcam selection

* fix backend

* address comments

* fix static checks

* fix everything

* add changeset

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix examples

* fix tests

* fix tests

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix fallback demo app template code (#6129)

* Add test

* add changeset

* Add JSON note

* Fix test

* Update gradio/cli/commands/components/_create_utils.py

* Update test/test_gradio_component_cli.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix video path

* Revert ""fix video path""

This reverts commit 5916b3dc8a91d4b0c92e33c71ee02b36df611c35.

* Fix selectable prop in the backend (#6135)

* Add to init

* Fix events

* add changeset

* Add code

* add changeset

* Fix typo

* Add code

* Fix highlighted text typo

* remove from docs

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix video (#6140)

* fix video

* add changeset

* fixes

* fixes

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix some tests on mac

* fix circular dependency with client + upload (#6143)

* fix circular dependency

* add changeset

* fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix image double change bug (#6146)

* fix test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* make lite private (#6147)

* make lite private

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix dropdown arrow size (#6148)

* fix dropdown arrow size

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* swap `mode` on the frontned to `interactive` to match the backend (#6149)

* JS READMEs and Storybook on Docs (#6142)

* changes

* changes

* working

* remove storybook path

* add changeset

* pin code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Don't serve files in working directory by default (#6128)

* don't serve files in working directory by default

* add changeset

* handle examples

* remove dotfiles

* guide

* guide

* fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix issues with website deploy (#6151)

* fixes

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Swap websockets for SSE (#6069)

* changes

* changes

* changes

* changes

* changes

* merge

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* changes

* changes

* add changeset

* Fix client tests sse branch (#6150)

* Switch spaces

* Fix tests

* Add code

* changes

* changes

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Remove duplicate `elem_ids` from components (#6152)

* remove elem_ids from components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Moves `gradio_cached_folder` inside the gradio temp direcotry (#6155)

* cache -> temp

* restore

* add changeset

* add exception for cached examples

* security policy

* join

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove `show_edit_button` param in Audio (#6153)

* remove `show_edit_button` param

* add changeset

* hide overflow

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove interpretation for good (#6154)

* interpretation

* notebooks

* add changeset

* removed from readme

* lint

* fix demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Make output components not editable if they are being updated (#6157)

* make outputs not editable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* JS Component Documentation (#6136)

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* add changeset

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* Merge in latest changes

* Fix typo

* Fix build

* Lockfile

* Fix

* Fix interactive

* correct the title

* add versions to readme

* only document public

* add changeset

* Remove simplevideo and audio

* add changeset

* changes to readmes

* add changeset

* remove tootils and theme

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Improve Video Component (#6118)

* change source to sources + add length logic

* add changeset

* add min/max logic

* tweak tests

* change sources

* formatting

* fix test_components.py test

* add trimming

* add changeset

* add keyboard events to trimming timeline

* UX improvements

* Add fix

* add loading status

* flip if webcam is only source

* generate notebooks

* remove scroll

* add file extension

* trim (#6156)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* add loading indicator to video

* ensure correct file ext is used

* tweak

* change where ffmpeg is loaded

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (beta) (#6122)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fixes (#6161)

* changes

* changes

* Pin 8.9 (#6162)

* Pending outputs fix (#6160)

* fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Clean root url (#6159)

* clean

* cleanup

* formatting

* add changeset

* fe

* add changeset

* selectable

* block

* fix

* fixes

* fix update

* gradio/events

* configs

* remove

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4 fixes (#6167)

* changes

* changes

* Fixes remaining backend tests (#6165)

* fix backend tests

* add changeset

* changes

* fix strings

* lint

* lint

* fixes

* delete test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-09-15T23:23:52Z,"refactor: Use package.json for version management (#5514)

* refactor: Use package.json for version management

- uses package.json file for version management.
- updated the regex pattern.
- removed the logic that creates or updates the version.txt file

* load version through package.json

* fix code duplication

* add changeset

* add changeset

* fixes

* fix

* package version

* fix

* typing

* typing

* changes

* add changeset

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-08-21T19:15:36Z,"Enable streaming audio in python client (#5248)

* Add code

* Remove file

* add changeset

* add changeset

* Update chilly-fans-make.md

* lint

* Lint

* Add ffmpeg

* Lint

* Cleaner way to handle stream change

* Fix windows test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-07-17T17:21:54Z,"Client: Support endpoints that return layout components (#4871)

* Add code

* CHANGELOG

* Add code

* Use set

* Modify _setup_serializers instead

* Push up code

* Remove from serializing

* Add gradio_client changes

* Update requirements.txt"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-06-30T15:25:33Z,"URL validation/access fixes (#4695)

* is_valid_url: share a requests session for performance

* Rename is_valid_url to probe_url (because that makes sense for what it does); add is_http_url_like

* Do not allow encode_url_to_base64 to encode error responses

* Do not allow download_tmp_copy_of_file to download error responses as valid files

* Changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-06-21T19:57:24Z,"Fix bug duplicating spaces with default cpu hardware (#4583)

* Fix bug

* Add CHANGELOG

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-06-14T22:08:10Z,"Fix output directory of files in client & when calling Blocks as function (#4501)

* output dirs

* remove

* remove

* remove

* changelog

* format

* add tests

* docstring

* changelog

* client

* blocks

* fix test"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-06-07T20:05:01Z,"Fix bug where file examples can be corrupted if has multiple extensions (#4440)

* Fix bug

* Add to changelog

* Add test

* Remove breakpoint

* fix test

* increment version

* update client version req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-06-06T15:40:56Z,"Call mounted gradio app via api (#4435)

* Fix bug

* Add changelog"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-05-16T18:32:42Z,"Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-05-11T20:20:41Z,"[Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-05-06T00:10:34Z,"[WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-05-01T23:24:54Z,"Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-24T16:52:10Z,"Support gr.Progress() in python client (#3924)

* Add progress message

* CHANGELOG

* Dont use pydantic

* Docs + local test

* Add gr to requirements

* Remove editable install

* make a bit softer"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-21T15:00:57Z,"Fixes typos (#3931)

* Fixes typos

* Update CHANGELOG.md

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-13T23:20:33Z,"Update view api page to use Python client (#3765)

* Update view api page

* simplify

* update

* changes

* changes

* updated info

* formatting

* changes

* fixes

* save

* moved

* remove test input

* tweaks

* formatting

* add raw

* serialize

* fixes

* refactor

* fixes

* fixes

* Fetch api

* lower case

* view api

* fix tests

* format

* rough design

* readme

* api docs

* examples

* format

* formatting

* format

* version

* client changes

* formatting

* update client

* more example inputs

* api docs fixes

* remove notebook

* fix demo

* demo notebook

* styling on code snippet

* formatting

* fix audio, model3d

* format

* fix tests

* version

* cleanup

* format

* format

* format

* fixes

* version

* fix tests

* version

* format

* test

* format

* changelog

* changelog

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-13T19:30:11Z,"[WIP] Client duplicate fixes (#3843)

* client duplicate fixes

* fixes

* formatting

* changes

* fixing tests

* formatting"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-12T20:26:37Z,"Allow client to be duplicated from an existing Space (#3809)

* client

* readme

* readme

* fixes

* cleanup

* error messages

* format

* updates

* format

* build

* fixes

* fix tests

* Update client/python/gradio_client/client.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* set timeout

* rename

* format

* rename

* sleep timeout

* format

* mock secrets

* format

* format

* docstring

* fix test

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-12T02:38:17Z,"Python Client: Handle invalid space state (#3822)

* Raise error on status check

* Add BUILDING

* Remove SLEEPING"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-11T23:06:48Z,"Adding subtitles to `gr.Video` (#3673)

* v2 version now accepts video and subtitle format inputs.

* remove debug log and some format issue

* Update CHANGELOG.md

* Upload components.py and regenerate demo

* fix components and add comment to function

* fix postprocess return format

* changelog

* demo change to gr.Interface type

* fix file_types

* fixes

* added video serializer

* clean up preprocess

* clean up postprocess

* formatting

* frontend

* fixed serialization

* dataclass

* fix serialize

* version

* fix tests

* version

* changelog

* typing

* version

* changelog

* version

* versin

* fix tests

* fix tests

* backend

* test

* changes

* relax test

* fix demo

* notebook

* changes

* fix

* changes

* Update gradio/components.py

* Update client/python/gradio_client/client.py

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-09T14:22:49Z,"Python client cancel jobs (#3787)

* Working impl

* Add tests:

* formatting

* Fix typo

* Always reset iterator state

* Add httpx

* Fix test

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-07T23:42:59Z,"Python Client: Upload files via /upload for File components  (#3771)

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add uploadbtn

* Add support for upload btn

* revert

* Add size to FileSerializable

* Serialize multiple files

* lint

* Make changes to deserialize

* Fix multiple file upload case

* Modify test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-06T23:41:37Z,"Py client verbose (#3781)

* verbose flags

* fixes"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-04T21:58:25Z,"Get Intermediate Results from Python Client (#3694)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add intermediate results to python client

* Type check

* Typecheck again

* Catch exception:

* Thinking

* Dont read generator from config

* add no queue test

* Remove unused method

* Fix types

* Remove breakpoint

* Fix code

* Fix test

* Fix tests

* Unpack list

* Add docstring

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-04-02T22:28:46Z,"Fix some bugs related to Python client (#3721)

* client format

* docs

* formatting

* fix tests

* fixed bug

* api endpoint changes

* fix tests

* fix tests

* formatting

* Add support for sessions [python client] (#3731)

* client

* add state and tests

* remove session param"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-03-29T22:41:12Z,"Add status for Python Client Jobs (#3645)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add two concurrent test"
github.com/gradio-app/gradio,client/python/gradio_client/utils.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/TheLastBen/fast-stable-diffusion,Dreambooth/hub.py,2022-12-07T16:47:16Z,Update hub.py
github.com/TheLastBen/fast-stable-diffusion,Dreambooth/hub.py,2022-12-07T15:35:50Z,Update hub.py
github.com/TheLastBen/fast-stable-diffusion,Dreambooth/hub.py,2022-11-21T09:26:20Z,Update hub.py
github.com/TheLastBen/fast-stable-diffusion,Dreambooth/hub.py,2022-11-21T08:53:46Z,Update hub.py
github.com/TheLastBen/fast-stable-diffusion,Dreambooth/hub.py,2022-11-16T06:32:11Z,Add files via upload
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-03-03T08:56:36Z,"Plugins: Added multiple features to Nuitka package configuration

* The module ""importlib"" should be imported always, so we can use it directly.

* Mark torch ""cpp_extension"" module as ""setuptools"" usage.

* Allow expressions to produce list values, use that for ""depends"" expressions to allow multiple at once by code.

* Added python version strings like ""3.10"" and ""3.10.7"" for use in expressions."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-02-27T16:26:20Z,"Bump copyright year

* Also split copyright notices between the top and bottom,
  such that readability of just opened files is not harmed
  by license text."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-02-18T09:25:35Z,Optimization: Avoid compiling bloated module namespace
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:54:41Z,"Plugins: Fix improper yield 

* This was crashing when used on modules rather than packages due to that typo"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:54:41Z,"Standalone: Make usage of JIT with torch configurable

* This adds command line configuration for package configuration."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:54:41Z,"Plugins: Allow using variables in setup codes

* Apply this to the ""toga"" configuration and use ""change_function"" for the backend.

* No longer needs metadata of backends at runtime since it's already resolved."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:54:41Z,"Plugins: Added variables for use in implicit import dependencies

* This allows to solve ""toga"" factories without implementing
  its policy on our own."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:52:25Z,"Cleanup, prefer ""os.getenv"" over ""os.environ.get""

* More readable and shorter code as a result."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:52:25Z,"Plugins: Added ""overridden-environment-variables"" feature to package configuration

* Make this a generic mechanism for re-use in the future.

* Applied to ""timm"" first."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:48:53Z,"Fix, avoid memory leak bug in triggered by ""rich"" package"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:48:53Z,"Fix, ""pydantic"" lazy loader still failed"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:48:52Z,"Fix, for ""pydantic"" our lazy loader parser didn't handle all cases properly yet"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:48:52Z,"Plugins: Fix, was crashing on module patterns for submodules not existing

* This showed with setuptools on some Debian based systems, where
  the vendors packages are not found, since they removed those, but
  it's a general problem."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:48:51Z,"Standalone: Added support for newer pydantic

* This has a self made lazy loader, that we need to integrate
  with as well."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:44:23Z,"Standalone: Added support for ""huggingface_hub"" vendored lazy loader"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:43:13Z,"Optimization: Many import enhancements

* Hard imports now have a registry and can be expanded by plugins with
  additions at compile time.

* Dedicated helper for fixed imports to use less C code for
  standard imports.

* Dedicated node for fixed imports added, for use in standalone
  mode in the future.

* Dedicated node for builtin imports, so their special handling is not
  in the generic import builtin node anymore.

* Plugins now can look ahead to a module such that they can prepare
  by e.g. adding hard imports dynamically created for lazy loader
  "".pyi"" files before loading the code.

* The plugin method for modifying the source now gets the filename,
  so it doesn't have to reconstruct it, for our new case where we
  want to read nearby "".pyi"" file."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2024-01-22T20:40:07Z,"Quality: Updated requirements

* New black removes a few leading new lines in blocks, so many
  files changed in that way.

* The ""pygments"" has a vulnerability, but updating that and the
  restructured text checking stuff did not actually matter at
  all.

* Bumped needed version for development to 3.8, since black does
  not do 3.7 anymore, and it's old enough."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-07-16T20:37:52Z,"Cleanup, do not treat technical modules special anymore

* The early demotion to bytecode is not really needed and prevented
  dependency analysis correctness, which we have had issues with ever
  since not all modules are automatic.

* Moved import detection code to dedicated module cleaning up the size
  of the standalone mechanics, it also is not exclusive to it.

* Adding reasons to modules, different from decision reasons why
  something was allowed to be included, these give the technical
  reason why something is added. This is needed for anti-bloat to
  be able to ignore stdlib being added only for being frozen.

* Now correctly annotating why an extension module was included,
  is it technical or not, that solves a TODO.

* Removes a lot of code duplication for reading source and bytecode
  of bytecode modules and handling of uncompiled modules as a
  category in the module registry.

* The detection logic itself for technical was not robust and had
  bugs, that make it unclear how it ever worked as well."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-06-02T13:22:06Z,"Standalone: Add new implicit dependencies for ""pycrytodome"" ECC module"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-06-02T13:07:22Z,Bump copyright year
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-06-02T13:07:22Z,"Standalone: Added support for torchaudio and tensorflow on macOS

* We need to ignore macOS DLLs that cannot be found, if they are
  relative. At least tensorflow has some of these for ""bazel-out"" paths
  which then fail to load, but apparently that's still OK.

* Moved the PySide6 acceptable missing DLLs to plugin configuration.

* Changed acceptable DLL interface to use DLL basenames rather than
  filenames with suffixes."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-06-02T13:07:21Z,"Standalone: Added support for ""transformers"" package

* The implicit dependencies are massive, and derived at compile time
  from their LazyModule configuration settings.

* Some of its modules take very long and are not worth being compiled."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-04-14T11:27:08Z,"Standalone: Added support for ""setuptools""

* Due to anti-bloat measures, this has stopped working without
 us noticing, but not everything has anti-bloat immediately"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-04-14T11:27:08Z,"Plugins: Do not list deprecated plugins

* It just makes people try them out, despite there being no effect."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-02-13T12:37:35Z,"Standalone: Fix, added implicit dependency of newer ""pkg_resources"""
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-01-26T09:12:53Z,"Fix, extension modules with pyi files crashed the report

* The ""getUsedModules"" was not returning the same kind of values anymore.

* Also cleanup spelling mistake there."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-01-26T09:12:53Z,"Plugins: Add support for extra global search paths

* These can reflect ""sys.path"" tricks that some modules might do."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2023-01-09T15:42:52Z,Standalone: Added more implicit dependencies of Crypto packages
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-11-19T15:01:22Z,"Plugins: Fix, yaml config may not apply if a module exists whose name matches a PyPI package"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-10-08T08:53:53Z,"Plugins: Added yaml configuration for PySide plugins to search in shiboken

* Without this, DLLs on macOS will not resolve unless the plugin
  is activated, which is bad."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-10-02T07:43:33Z,Standalone: Do not compile large azure generated code modules
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-25T16:09:20Z,Standalone: Do not compile large azure generated code modules
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:22:46Z,"Plugins: Cleanup Yaml and ""when"" interactions

* Rather than having to check for presence, make sure an iterable
  is returned, so no presence test is necessary.

* For evaluation of the ""when"" have a default value, and
  execute that one fast, so we can always call it."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:22:30Z,"Plugins: Implement ""package-paths"" for import hacks too.

* With this, ""vtk.util"" can be found."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:22:16Z,"Plugins: Added support for import pre/post code config, extra package dirs

* This allows us to finally get rid of the hard coded entry for
  win32com, and move it to configuration, renamed the item to
  express that multiple values are allowed.

* This adds a new plugin interface for the extra scan paths, that
  we implement in ""implicit-imports"" plugin.

* Also ""win32ui"" got a needed workaround after we improved the
  ""__spec__.origin"" value to be more correct some time ago, it
  expect a namespace to be loaded, where we do not normally have
  it."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:21:07Z,"Optimization: Avoid compiling large ""asyncua"" modules"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:21:05Z,"Plugins: Move the implicit imports from plugin to yaml configuration

* This moves most of the code based implicit imports to
  Yaml configuration, with a few exceptions where we think
  that more features might be added to the format before
  doing it."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:20:34Z,"Plugins: Allow unknown tags below a namespace, collect the used tags

* Also use evalution function for anti-bloat configuration parts
  too now, so far it was done differently.

* Also restored comments from previous configuration lost during
  the big migration to one yaml file.

* Added tags influencing conditions to XML report."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:20:33Z,Merge tag '0.9.4' into develop
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T09:20:20Z,"Plugins: Move options handling to dedicated plugin ""options-nanny""

* Also made depends a list for consistency with other blocks.

* Added implementation for checking control tags, such that we
  can now make things dependent on e.g. python version, usage
  of Anaconda or certain OS."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:58:37Z,Standalone: Corrected implicit dependency of pynput on Linux
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:56:35Z,Standalone: Added implicit dependencie for 'sklearn.utils.' and 'rapidfuzz.'
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:56:34Z,Standalone: Corrected implicit dependency of pynput on Linux
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:56:34Z,"macOS: Fixup for ""wx"" and wrong package configuration value

* While at it, cleanup values to allow ""yes"" and ""no"", rather than
  using True/False, and also change how macos disabling console is
  recommended, to be more readable, and to support ""yes"" as a value
  too."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:56:32Z,Standalone: Added missing implicit dependency for pyreadstat
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:56:32Z,"macOS: Fixup for ""wx"" and wrong package configuration value

* While at it, cleanup values to allow ""yes"" and ""no"", rather than
  using True/False, and also change how macos disabling console is
  recommended, to be more readable, and to support ""yes"" as a value
  too."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-09-18T08:56:31Z,Standalone: Added missing implicit dependency for pyreadstat
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-06-18T10:55:22Z,Plugins: Minor cleanup
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-06-17T11:29:16Z,"Standalone: Fix, these implicit dependencies should be towards PIL already"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-30T09:01:08Z,"Plugins: Move package config configuration building to central spot.

* Also added basic support for merging package configuration files."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-29T06:44:47Z,UI: Also tell about macOS no high-res in console mode
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-29T06:44:47Z,"UI: Added option to enable console

* Used to disable warnings that suggest to disable it, e.g. with the Qt
  bindings, if you don't want to do it."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-29T06:44:46Z,Plugins: Updated the Yaml parser to use the merged file
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-23T10:52:34Z,Avoid compiling large dropbox module.
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-23T08:28:11Z,Bump copyright year
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-05-15T21:11:34Z,"Plugins: Allow "".child"" notation for non-package dependencies too"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-04-27T07:48:02Z,"Fix, this was missing the template arguments"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-04-08T13:41:11Z,"Standalone: Added support for ""Crpytodome.Cipher.PKCS1_v1_5"""
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-04-01T09:50:51Z,"Standalone: Added dependency of pkg_resources

* This was was at least missing for Python2, only seen in corner
  cases though."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-03-12T08:00:15Z,Standalone: Disable compilation for potentially large generated win32 bindings
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-27T13:00:06Z,"Standalone: Added support for requiring modes

* For wx on macOS, console must be disabled, avoid the trap.

* For the PySide2, on macOS the --onefile must be used when the
  application bundle is built or else signing has issues.

* Recommend to use new option --disable-console for PySide2, PySide6
 and wx on non-macOS"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-18T15:07:48Z,Minor cleanup
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-14T08:41:22Z,Plugins: Check implicit imports module names for typical error
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-03T12:26:14Z,Merge tag '0.6.19.6' into develop
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-03T11:03:17Z,"Plugins: Added support for latest pkg_resources release

* This breaks the source based parser, but we should be using
  the module variable constant anyway."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-02T17:20:46Z,"Plugins: Add DLL specific plugin with configuration

* As a first one, this solves the shapely DLL issue with using the new
  configuration.

* Existing codes should be migrated to this with time."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-02-02T17:20:45Z,"Cleanup, avoid ""shlib"" naming, and use ""extension"" instead.

* This should make the code more clear for others to read."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-01-09T08:02:02Z,Standalone: Handle all pywin32 modules not just a few
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2022-01-05T10:48:42Z,"Plugins: Massive cleanup and API improvements and Kivy support

* Added method to locate a DLL and to create a DLL entry point
  as expected, removing need for imports and making it more
  clear as an API.

* The location of modules had already an API, but it wasn'
  used where it could be.

* Moved implicit imports and DLL usage for Gi to its plugin,
  solving a TODO for it.

* Make sure sure to only yield, and not return, that is just
  more error prone.

* Also allow generators for implicit dependencies, such that
  generators work in a yield from fashion.

* With this, Kivy apps work on at least Linux."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-27T09:47:34Z,"Cleanup, use new importing API exclusively

* Also move decision function for module filename to reusable spot.

* The ""findModule"" API is not as sane as ""locateModule"", so use it also
  in the remaining places that do not care about module name or package
  name."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-27T09:45:31Z,"Standalone Added missing implicit imports for pycryptodome(x) (#1344)

* Added missing ciphers

* Added missing hashes

* Modified `.Cipher._raw_*` files inclusion strategy, they are only
  triggered by their dependent modules, rather than by `.Util._raw_api`"
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-09T14:46:04Z,"Cleanup: Major refactoring of import handling

* Give warning about imports not followed only when no options that
  specify what to do are given.

* Make sure we pass module name around and have it in all cases.

* Import nodes now provide what they use, but they do not add detected
  imports immediately to the active module set, instead wait for module
  to be fully optimized, avoiding imports discarded during optimization.

* Stop working with relative paths, instead use absolute ones, getting
  rid of a long standing TODO."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:47:11Z,"PGO: Only consider to exclude modules that would be compiled

* We don't yet see bytecode modules, this works around that.

* Remove useless ""source_ref"" argument from Plugins decision, as
  we cannot produce it, and it's never used anyway."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:40:02Z,"Plugins: Move OpenGL platform plugin handling to glfw plugin

* This centralizes all OpenGL plugin code in one plugin, cleaning it up.

* Also proper error message, should OS resolution fail."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:40:00Z,"Standalone: Add support for phonenumbers package

* The yaml based dependency parser can now handle shell pattern

* Also dependencies can be relative to the package making
  them with a leading dot.

* Moved pendulum dependency code to pattern usage for its locales."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:40:00Z,Standalone: Added hidden dependency of mercurial
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:39:59Z,Standalone: Add hidden dependencies of kivy
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:39:59Z,Plugins: Add yaml based config for implicit dependencies
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:39:59Z,Standalone: Added support for h5py
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:39:58Z,"Optimization: Detect and handle pyenv

* Changed from Variant/Vendor to Flavor in project variable,
  that should be less confusing.

* Detection of WinPython flavor was also added.

* For pyenv, we assume static libpython is usable, that seems to be
  the case for Python2 at least."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:39:56Z,Merge tag '0.6.17.7' into develop
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:38:43Z,"Standalone: Better handling of ""requests.packages"" and ""six.moves""

* Just do these the new spot to force module renames for imports and
  remove them from implicit imports.

* The mechanism used there seems to not work well at all and was
  causing troubles, and this with much more straightforward as it
  changes the imports when they come into existance."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:38:43Z,"Standalone: Use new place for moving modules

* It seems the aliasing mechanism is broken and be fully removed."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:38:43Z,Plugins: Use the new entry point for extra DLLs
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:38:40Z,Merge tag '0.6.17.6' into develop
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:37:30Z,Standalone: Add more missing gevent implicit dependencies.
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:37:27Z,Merge tag '0.6.17.5' into develop
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-12-07T08:36:11Z,Standalone: Added missing implicit dependency for new gevent.
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-11-24T07:06:07Z,Merge tag '0.6.17.4' into develop
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-11-24T07:05:37Z,"macOS: Provide minOS for standalone mode to work with CPython

* With Apple Python this will simply not help, these are not
  backward portable to older OSes and ought to not be used,
  at this time, we do not yet detect the proper value to use
  for minimum OS.

* Also unify onefile and backend scons files some more, adding
  more variables to the environment and removing them from
  argument passing to scons helpers.

* Also introduce a mode where ""-pipe"" won't be used in a low
  memory mode, that we have yet to add.

* Some settings were limited to Windows only for onefile, that
  was not needed.

* Added helper for checking for macOS without using the Darwin
  word, and use that more often, so make code more readable for
  the less involved."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-11-15T10:33:15Z,Standalone: Added missing dependency for ruaemel yaml
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-11-08T12:39:04Z,"Standalone: Do not include ""site"" module as compiled

* The ""site"" module should not be included, but if it is, do not compile
  via C code, as some modern "".pth"" files insist on Python frame stacks."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-11-08T12:38:05Z,Standalone: Added support for win32print
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-10-28T09:51:40Z,Standalone: Added support for the coincurve module.
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-10-21T11:02:58Z,"Plugins: Fix, ""iter_modules"" usage was only working for 3.6 or higher

* This affected ""pendulum.locals"" only, but was a principle
  trap for all future users of this kind of code.

* Also cleanup plugin scan code to use the namedtuple that the
  compatibility code now ensures."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-10-21T10:52:50Z,"Standalone: Added support for curses on Windows

* This needs the implicit dependency on the extension module, because
  due to pip install it's not standard library and therefore
  not automatically included."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-10-14T08:30:02Z,Standalone: Added ipcqueue dependency on _cffi_backend (#1243)
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-09-12T11:54:08Z,Optimization: Avoid C compilation for generated code
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-09-12T11:54:08Z,"Standalone: Add support for win32file

* Also cleanup how entry points are provided here, using the
  namedtuple factories and no manual copying anymore.

* Use new ability to allow for duplicate provision of entry
  points for simpler code, no longer need to remember if it
  was already done."
github.com/Nuitka/Nuitka,nuitka/plugins/standard/ImplicitImports.py,2021-08-09T10:34:30Z,Standalone: Added missing implicit dependency for sklearn
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-03-03T22:24:46Z,Update client.py: Docs typo (#7585)
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-21T02:36:10Z,"Reverts the revert that dropped changes from 2 PRs (#7495)

* Revert ""Revert ""changes""""

This reverts commit 032435368d8d8db7439da5ffa966987f80c58db3.

* patch"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-20T22:21:27Z,"Revert ""changes""

This reverts commit 19dd2218dcacfb55cf55979d06f4c9880c15e856, reversing
changes made to 6a936330543c1b989ac1c957b2572dcd44e9ab7f."
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-19T21:29:20Z,"Enable Ruff S101 (#7477)

* Update to Ruff 0.2.2

* Enable Ruff S101; don't use asserts in runtime code, or AssertionErrors for flow control"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-09T19:24:00Z,"Fix `gr.load` for file-based Spaces (#7350)

* changes

* add changeset

* fixes

* changes

* fix

* add test

* add changeset

* improve test

* Fixing `gr.load()` part II (#7358)

* audio

* changes

* add changeset

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete .changeset/fresh-gifts-worry.md

* add changeset

* format

* upload

* add changeset

* changes

* backend

* print

* add changeset

* changes

* client

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-07T15:19:53Z,"Allow setting custom headers in Python Client (#7334)

* add headers

* add changeset

* fix

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-05T13:25:34Z,Determine documentation group automatically (#7062)
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-02-01T19:32:40Z,"Update ruff to 0.1.13, enable more rules, fix issues (#7061)

* add changeset

* Update ruff to version 0.1.13

* Correct ruff target version

* Enable more Ruff rules and fix issues

* Enable ARG and fix issues

* Enable PL lints, fix issues

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-01-31T18:39:46Z,"Improve chatbot streaming performance with diffs (#7102)

* changes

* add changeset

* changes

* add changeset

* changes

* channges

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* canges

* changes

* changes

* changes

* Update free-moose-guess.md

* changes

---------

Co-authored-by: Ali Abid <aliabid@Alis-MacBook-Pro.local>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aliabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-01-26T18:33:37Z,"Optimize client view_api method (#7178)

* Re-order code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-01-26T00:57:30Z,Fixes #7136 -- gradio client iterator can hit finish event before yield all outputs (#7151)
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-01-21T18:53:36Z,Fixes https://github.com/gradio-app/gradio/issues/7086 (#7091)
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-01-19T01:49:51Z,fix lint (#7075)
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2024-01-18T19:40:59Z,"Add encoding to open/writing files on the deploy_discord function (#7054)

* Update client.py

Make open discord_chat.py call encoded to utf-8

* Update client.py

Add another encoding to line 850

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-12-22T19:59:02Z,"Add `show_api` parameter to events, and fix `gr.load()`. Also makes some minor improvements to the ""view API"" page when running on Spaces (#6846)

* show api

* chnages

* add changeset

* changes

* changes to interface

* set show_api=False

* changes

* development

* examples

* changes

* add changeset

* changes

* changes

* format

* add changeset

* add changeset

* changes

* revert

* fixes

* is vaild

* push

* fixes'

* fixing

* fixes

* format

* fixed

* demo

* test

* format

* add changeset

* fix tests

* fix

* format

* cleanup

* remove

* fixes

* add test

* format

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-12-13T22:47:06Z,"Python client properly handles hearbeat and log messages. Also handles responses longer than 65k (#6693)

* first commit

* newlines

* test

* Fix depends

* revert

* add changeset

* add changeset

* Lint

* queue full test

* Add code

* Update + fix

* add changeset

* Revert demo

* Typo in success

* Fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-12-12T23:24:46Z,"Fix api event drops (#6556)

* changes

* changes

* add changeset

* changes

* changes

* changes

* changs

* chagnes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes~git push

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* changes

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ubuntu <ubuntu@ip-172-31-25-241.us-west-2.compute.internal>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-12-06T23:16:32Z,"switch from black to ruff formatter (#6543)

* migrate from black to ruff

* fix script and dependencies

* applying ruff

* add changeset

* add changeset

* address ruff feedback

* replace linter

* fixed typing

* fix typing

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-12-05T22:18:09Z,"Issue 5245: consolidate usage of requests and httpx (#6598)

* issue 5245 commit 1

* formatted

* add changeset

* fixes

* fixes

* make changes in client too

* remove requests from client

* add changeset

* add changeset

* Fixes to test_utils.py in client

* fixes in client utils.py and test_utils.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-11-30T07:21:59Z,"Fix: Gradio Client work with private Spaces (#6602)

* client with private space

* add changeset

* lint

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-11-21T17:20:05Z,Update client.py (#6524)
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-10-31T04:46:02Z,"Version 4 development branch (#5498)

* squash commit

* BugFix: Make FileExplorer Component Templateable (#5933)

* Make FileExplorer templateable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix notebooks (#5935)

* V4: Update Component pyi file (#5937)

* Add code

* add changeset

* delete

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use beta release versions for '@gradio' packages (#5938)

* Fix versions

* add changeset

* fix

* add changeset

* fix

* add changeset

* Fix

* fix preview

* add changeset

* final fix

* add changeset

* fix

* add changeset

* fix

* add changeset

* revert change

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* maybe fix (#5946)

* Merge main again (#5948)

* maybe fix

* fix

* Merge main again (#5949)

* maybe fix

* fix

* weird weird weird

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Merge main again (#5950)

* maybe fix

* fix

* weird weird weird

* fix

* log

* log

* fix changesets

* rererefactor frontend files (#5960)

* do all the things

* add changeset

* remove codemod

* fix

* change casing

* condense upload button

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Strip vite import warning (#5962)

* Add code

* Remove comment

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5769)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* release wasm (#5963)

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Wasm release (#5964)

* release wasm

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5965)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add json schema unit tests (#5970)

* Add tests

* add changeset

* Fix tests

* api-info

* Add test

* Add test

* Add email tests

* 3.8 fix 🙄

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple textbox (#5990)

* Simple textbox

* add changeset

* Trim down events

* Trim

* Clean up change event

* Add comment

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* File upload optimization (#5961)

* Use custom multipart parser

* add changeset

* remove print

* Add comment

* Lint

* fix code

* remove print

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Removes deprecated arguments and parameters from v4 (#5968)

* Removes deprecated arguments and methods for v4

* remove update

* style

* add changeset

* added params

* typign

* fixed all of the typing

* tests

* fix layouts

* layout

* fix config

* fix

* fix form

* fix

* fix blocks tests

* fix some more tests

* lint

* fix test routes

* doc

* notebooks

* remove doc

* format

* format

* remove group

* label docstring

* remov test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple dropdown (#5996)

* Add code

* lint

* comment

* add changeset

* revert

* Fix update + docstring cleanup

* Add code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pass props to example components and to example outputs (#6014)

* pass props to example components and to example outputs

* add changeset

* make util less egenric/ more useful

* fix demo

* fix demo

* fix

* fix test

* Fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Format js in v4 branch (#6016)

* Format v4 branch js

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix component update bug  (#6027)

* Fix tests + bugs

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* lockfile update

* Fixing test

* fix test

* Add a cli command to list available templates (#6018)

* Add code

* dataset

* Add test

* add changeset

* add changeset

* add changeset

* add changeset

* Exclude FormComponent

* Paginate the output

* No colors but emojis:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix tests (#6046)

* fix storybook (#6065)

* fix storybook

* add changeset

* fix

* add changeset

* fix

* fix

* fix components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* remove dupe component (#6067)

* remove dupe component

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Simplify File Component (#6044)

* Add code

* Add code

* Add code

* Reuse code UploadButton

* Use two files for UploadButton

* Address feedback

* Lint

* add changeset

* Update js/uploadbutton/shared/UploadButton.svelte

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>

* Clean up backend of `File` and `UploadButton` and change the return type of `preprocess()` from TemporaryFIle to string filepath (#6060)

* changes

* add changeset

* upload button

* file

* add changeset

* valid types

* fix tests

* address review

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix Dropdown Example component and example processing logic (#6075)

* fix examples

* helpers

* dropdown

* fix cc build (#6079)

* fix cc build

* add changeset

* throw error if build fails

* fix entry points

* add changeset

* fix lockfile

* Add test

* update workflow

* try resolve

* lint 🙄

* Use xfail

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fixes markdown rendering in examples (#6071)

* Fixes markdown rendering in examples

* add changeset

* update delimiters

* format

* format

* docstrings

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Proposal: sample demo for custom components should be a `gr.Interface` (#6077)

* update sample demo to interface

* add changeset

* modify

* Update gradio/cli/commands/components/_create_utils.py

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* added layout and static

* fix

* refine

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* WIP: Fix docs (#6082)

* Website fix

* add changeset

* Fix code

* pin version

* Add code

* skip code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Pending events behavior (#5826)

* enter changesets pre-release mode

* release first version (#5500)

* release packages

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix changeset (#5502)

* add changeset

* release first version

* Custom components (#5507)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* Disable example caching for load right now

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* image fixes (#5589)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* fix image uploads

* add changeset

* remove changeset

* add changeset

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support Literal Typehints (#5591)

* Fix updateable

* Deploy for failing actions

* fix enum

* Add code

* remove gradio lite from publish ci

* fix

* fix

* chore: update versions (beta) (#5501)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix js deps in cli and add gradio-preview artifacts to build (#5610)

* Fix js dependencies in cli

* Add preview to build command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5612)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* backend linting (#5613)

* backend linting

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish js theme (#5615)

* Publish js theme

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5614)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add code (#5617)

* Add docstring to trigger release (#5618)

* Add docstring

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5619)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build and broken imports (#5620)

* fix broken import

* fix build scripts

* add changeset

* Update js/statustracker/static/index.svelte

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5621)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5624)

* fix build

* fix build

* add changeset

* fix build

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5626)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5629)

* fix build

* fix build

* add changeset

* fix build

* fix

* asd

* more fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* asd (#5630)

* chore: update versions (beta) (#5631)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Some minor v4 fixes (#5637)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish all components to npm (#5648)

* Publish image component

* publish components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5638)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix front-end imports + other misc fixes (#5649)

* Fix console error

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add overwrite flag to create command (#5651)

* Add overwrite flag to create command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5650)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Make layout components templateable (#5665)

* Split out layouts

* Refactor cli

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Patch fixes (#5678)

* Handle lowercase template name frontend

* Lint

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix build and file route (#5680)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5662)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fix typing (#5686)

* Add examples for series and parallel

* v4 fix typing

* add changeset

* Fix

* Fix

* Fix 3.8

* Fix typing 3.8

* Lint

* Add code

* Add key

* Fix typing

* Add code

* Fix deps

* Fix fastapi

* Fix version
'
:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use overrides (#5695)

* Use overrides

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* ensure client is copied along with components (#5709)

* ensure client is copied along with components

* add changeset

* add changeset

* chore: update versions (beta) (#5688)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build config (#5710)

* Fix python unit tests for v4 (#5715)

* Add code

* Fix tests

* Add ci

* Add code

* fix test_blocks

* More fixes

* Last changes

* add changeset

* Add code

* Continue for the sake of some green ci

* Proper api info

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Better test dir check (#5719)

* FIx test-dir check

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use path to npm executable in subprocess (#5736)

* Use path to npm in subprocess

* Fix dev mode too

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add Error + test (#5738)

* Add Error + test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix component regex (#5739)

* Add code

* Fix component regex

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix layout templates (#5740)

* Fix templates

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix template remaining components (#5743)

* add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* --overwrite deletes previous content (#5744)

* Add code

* Add code

* add changeset

* Add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support call method (#5751)

* Support call method

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows ci build (#5752)

* Try bash

* Use cross-env

* Trigger CI

* Fix comma

* add changeset

* Modify lock file

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows paths (#5745)

* Use posix path

* add changeset

* add changeset

* Try normalize

* to_posix v2

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5717)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Simplify how files are handled in components in 4.0 (#5768)

* Client and upload route hash files

* Refactor logic

* add changeset

* Add code

* View API fix

* Fix client tests

* Dumb windows fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix deployed demos on v4 branch (#5770)

* Template fixes

* add changeset

* add changeset

* Fix streaming audio

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Name Endpoints if api_name is None (#5782)

* Implementation and test

* add changeset

* fix lint

* Fix nits

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pending events

* add changeset

* Set api=False for cancel events (#5851)

* Set api=False for cancel events

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Set cache dir for some component tests (#5852)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use async version of shutil in upload route (#5853)

* Use async shutil copy

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* trigger_mode

* changes

* undo

* undo

* add changeset

* undo

* add changeset

* image undo

* add changeset

* fix merge errors

* remove prints

* change

* fix

* fix error

* change

* quick fix

* trigger_mode param

* type

* value error

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes: slider bar are too thin on FireFox (#5984)

* firefox slider fix

* add changeset

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix remaining xfail tests in backend (#6073)

* Add code'

* Add code

* Add code

* Fix dataset

* add changeset

* Add some comments

* Add recover_kwargs

* Remove from docstring

* Audio-to-audio

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix dev mode model3D (#5955)

* Fix dev mode

* Lint

* add changeset

* Fix dev mode

* Lint

* remove console.log

* add changeset

* interactive fix

* Fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Dawood <dawoodkhan82@gmail.com>

* V4: Single-file implementation of form components (#6026)

* Checkbox and number

* Number, Checkboxgroup, Radio, and Slider

* Format

* remove range

* Refactor checkbox

* Forgot to add

* Refactor

* Lint

* add changeset

* use rich emoji markup

* Fix ts

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update logos for v4 (#6089)

* update v4 logo

* add changeset

* size

* fix on website

* fix on demos

* add changeset

* favicon for demos

* margin on footer logo

* margin bottom to footer logo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add a stand-alone install command and tidy-up the fallback template (#6092)

* Add code

* add changeset

* Add test

* Make install default

* Better error message

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix constructor_args (#6093)

* Fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix: Move to cache in init postprocess + Fallback Fixes (#6107)

* Add code and test

* restore

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix build (#6112)

* fix build

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update cold-lemons-roll.md

* Revert ""Update cold-lemons-roll.md"" (#6113)

This reverts commit 20dbf908119b3a19b32f307a40158a9f3b4bf4eb.

* Try to trigger a major beta release (#6114)

* pyproject fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete bad changelog (#6115)

* Delete bad changelog

* Revert ""Delete bad changelog""

This reverts commit a8ca614eaf0e9f980a146a2fe76c3e23581db6f1.

* Delete bad

* formatting

* Revert ""formatting""

This reverts commit 94f43859e7d1927ab38e9ac77baaa016deede5fc.

* Improve Audio Component (#5966)

* replace <audio> with wavesurfer: add recording, playing and trimming, playback

* add changeset

* merge cleanup

* improving recording styling

* add recording timer

* add trim region duration

* allow trimming recordings

* clean up playing logic

* add pause_recording event

* remove crop min/max

* add waveform options param

* remove trimmingmode and use mode

* streaming + cleanup

* add changeset

* clean up types

* mobile adjustments

* add min/max length  + trim accessibility

* update pnpm lock

* amend source to a list and allow source switching

* fix no microphone found logic

* change undo logic to reset trims

* tweaks

* tweak reset logic

* ensure recording is sent to backend

* fix audio duration reactivity

* list tweak

* clean up

* change source -> sources + restore wasm changes

* formatting

* fix tests

* fix test

* add default sources value in fe + fix audio demos

* fix audio file name test

* add better sources typing

* ui test tweaks

* add default value in templates.py

* formatting

* remove unused prop

* add audio story

* add changeset

* revert sources changes

* remove story id

* fix be test

* fix be test

* fix notebooks

* formatting

* fix test

* fix test again

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* Fix changesets 2 (#6116)

* fix changesets

* release major

* Fix changesets 2 (#6117)

* fix changesets

* release major

* asd

* fix version

* chore: update versions (beta) (#5973)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* v4

* Open source FRP server and allow `gradio` to connect to custom share servers (#6091)

* add param

* add support for custom address

* add changeset

* share guide

* guide

* add params

* add changeset

* fix launch

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Gradio custom component publish (#6098)

* Add code

* add changeset

* F-string

* Add pwd

* Add source to space

* Add template

* Twine import

* add changeset

* ignore

* restore

* add changeset

* Address feedback

* Update gradio/cli/commands/components/publish.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix static issues with Lite on v4 (#6124)

* fix missing props

* fix path to types

* add changeset

* fix path to i18n

* fix audio tests

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Refactor `Blocks.load()` so that it is in the same style as the other listeners (#6126)

* restore decorator

* remove

* refactor load

* remove restriction

* add changeset

* add pyi

* add test

* add test

* fix tests

* metaclass

* future

* reduce'

* docstring

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Small change to make `api_open=False` by default (#6138)

* set api_open to False by default

* add changeset

* tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Image v4 (#6094)

* simplify image interface

* changes

* asd

* asd

* more

* add code (#6095)

* more

* fix tests

* add changeset

* fix client build

* fix linting

* fix test

* lint

* Fix tests + lint

* asd

* finish

* webcam selection

* fix backend

* address comments

* fix static checks

* fix everything

* add changeset

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix examples

* fix tests

* fix tests

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix fallback demo app template code (#6129)

* Add test

* add changeset

* Add JSON note

* Fix test

* Update gradio/cli/commands/components/_create_utils.py

* Update test/test_gradio_component_cli.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix video path

* Revert ""fix video path""

This reverts commit 5916b3dc8a91d4b0c92e33c71ee02b36df611c35.

* Fix selectable prop in the backend (#6135)

* Add to init

* Fix events

* add changeset

* Add code

* add changeset

* Fix typo

* Add code

* Fix highlighted text typo

* remove from docs

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix video (#6140)

* fix video

* add changeset

* fixes

* fixes

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix some tests on mac

* fix circular dependency with client + upload (#6143)

* fix circular dependency

* add changeset

* fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix image double change bug (#6146)

* fix test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* make lite private (#6147)

* make lite private

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix dropdown arrow size (#6148)

* fix dropdown arrow size

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* swap `mode` on the frontned to `interactive` to match the backend (#6149)

* JS READMEs and Storybook on Docs (#6142)

* changes

* changes

* working

* remove storybook path

* add changeset

* pin code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Don't serve files in working directory by default (#6128)

* don't serve files in working directory by default

* add changeset

* handle examples

* remove dotfiles

* guide

* guide

* fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix issues with website deploy (#6151)

* fixes

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Swap websockets for SSE (#6069)

* changes

* changes

* changes

* changes

* changes

* merge

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* changes

* changes

* add changeset

* Fix client tests sse branch (#6150)

* Switch spaces

* Fix tests

* Add code

* changes

* changes

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Remove duplicate `elem_ids` from components (#6152)

* remove elem_ids from components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Moves `gradio_cached_folder` inside the gradio temp direcotry (#6155)

* cache -> temp

* restore

* add changeset

* add exception for cached examples

* security policy

* join

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove `show_edit_button` param in Audio (#6153)

* remove `show_edit_button` param

* add changeset

* hide overflow

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove interpretation for good (#6154)

* interpretation

* notebooks

* add changeset

* removed from readme

* lint

* fix demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Make output components not editable if they are being updated (#6157)

* make outputs not editable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* JS Component Documentation (#6136)

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* add changeset

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* Merge in latest changes

* Fix typo

* Fix build

* Lockfile

* Fix

* Fix interactive

* correct the title

* add versions to readme

* only document public

* add changeset

* Remove simplevideo and audio

* add changeset

* changes to readmes

* add changeset

* remove tootils and theme

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Improve Video Component (#6118)

* change source to sources + add length logic

* add changeset

* add min/max logic

* tweak tests

* change sources

* formatting

* fix test_components.py test

* add trimming

* add changeset

* add keyboard events to trimming timeline

* UX improvements

* Add fix

* add loading status

* flip if webcam is only source

* generate notebooks

* remove scroll

* add file extension

* trim (#6156)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* add loading indicator to video

* ensure correct file ext is used

* tweak

* change where ffmpeg is loaded

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (beta) (#6122)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fixes (#6161)

* changes

* changes

* Pin 8.9 (#6162)

* Pending outputs fix (#6160)

* fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Clean root url (#6159)

* clean

* cleanup

* formatting

* add changeset

* fe

* add changeset

* selectable

* block

* fix

* fixes

* fix update

* gradio/events

* configs

* remove

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4 fixes (#6167)

* changes

* changes

* Fixes remaining backend tests (#6165)

* fix backend tests

* add changeset

* changes

* fix strings

* lint

* lint

* fixes

* delete test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-10-07T01:14:14Z,"Assert refactor in external.py (#5811)

* Refactored assert statements to if statements

* format-addons

* format

* add changeset

* Update gradio/external.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* refactored video.py

* refactored all the assert statements with response

* add changeset

* add changeset

* Apply suggestions from code review

* Refactored documentation.py and few more files

* avoid circular

* Replaced all assert statements

* lint

* notebooks

* fix

* minor changes

* final changes according to tests

* Lint

* last fix

* fix

* fix utils test

* fix serialization error

* fix serialization error

---------

Co-authored-by: harry-urek <hariombhardwaj038@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-09-22T19:55:42Z,"Prevent Clients from accessing API endpoints that set `api_name=False` (#5653)

* only autoscroll if user hasn't scrolled up

* docstring

* format

* client

* add changeset

* add changeset

* restore

* add changeset

* fix python client, add test

* format

* js client

* format

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-08-09T17:03:56Z,"Return final output for generators in Client.predict (#5057)

* Add code

* add changeset

* add changeset

* Add feat changeset

* Fix js code snippet

* Fix changelog

* Add test

* Delete code

* Lint

* Make fix for python client

* Make JS client changes

* Add submit line to error

* Changelog

* Lint

* Undo

* Add dual handling

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-08-03T17:07:13Z,"Add deploy_discord to docs (#5076)

* Add deploy_discord to docs

* add changeset

* add jsons

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-07-26T20:09:38Z,"Deploy ChatInterface as a discord bot (#4960)

* WIP

* Handle queue full message

* Add code

* Fix types

* Format

* Add docstring

* Rephrase

* cli conflicts

* Update client/python/gradio_client/templates/discord_chat.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* WIP

* Handle queue full message

* Add code

* Fix types

* Format

* Add docstring

* Rephrase

* cli conflicts

* Update client/python/gradio_client/templates/discord_chat.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update client/python/gradio_client/templates/discord_chat.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update client/python/gradio_client/templates/discord_chat.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update client/python/gradio_client/templates/discord_chat.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Figure out how slash commands work

* Lint

* Fix new name situation

* Dont auto archive

* add code

* Explain sync

* add changeset

* Update client/python/gradio_client/cli/deploy_discord.py

Co-authored-by: Omar Sanseviero <osanseviero@gmail.com>

* Make more general

* Fix check

* add changeset

* Add guide

* Step-by-step guide

* Add tip on login via cli

* Fix template - auto synch

* Add note on space sleeptime

* add changeset

* Add more info for feature

* Add img

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Omar Sanseviero <osanseviero@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-07-17T17:21:54Z,"Client: Support endpoints that return layout components (#4871)

* Add code

* CHANGELOG

* Add code

* Use set

* Modify _setup_serializers instead

* Push up code

* Remove from serializing

* Add gradio_client changes

* Update requirements.txt"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-07-12T15:09:06Z,"Fix loading spaces with api_name=False (#4886)

* Fix api_name=False

* Add more to test"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-06-29T19:05:25Z,"Updates to the API endpoints / docs, and fixing the Theme builder (#4683)

* view API fixes

* code snippet js

* changelog

* api name false

* examples

* client trigger tests

* fix typecheck

* black

* type

* typing

* typing

* update gif

* type ignore

* added tests

* format

* added test

* test

* fix guides

* snippet

* tests

* fix tests

* add test

* fix typing

* fix test

* remove comments"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-06-21T20:13:12Z,"Use Literal Type Hint Where Possible (#4608)

* Use literal type hint

* Add type hint

* CHANGELOG

* PR review

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-06-21T19:57:24Z,"Fix bug duplicating spaces with default cpu hardware (#4583)

* Fix bug

* Add CHANGELOG

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-06-14T22:08:10Z,"Fix output directory of files in client & when calling Blocks as function (#4501)

* output dirs

* remove

* remove

* remove

* changelog

* format

* add tests

* docstring

* changelog

* client

* blocks

* fix test"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-06-14T01:52:33Z,"Deprecate python 3.7 (#4484)

* Remove versions from 3.7

* CHANGELOG

* from typing import Literal

* Remaning places 3.7

* Last few spots

* Use 3.8 in lint"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-06-06T15:40:56Z,"Call mounted gradio app via api (#4435)

* Fix bug

* Add changelog"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-19T21:22:12Z,"Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-18T15:04:59Z,"Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-16T18:32:42Z,"Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-10T23:52:07Z,"Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-08T21:18:28Z,"Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-06T00:10:34Z,"[WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-05-01T23:24:54Z,"Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-26T22:38:46Z,"Fix view_api bug where unnamed rotes where showing api_name instead of fn_index (#3972)

* Fix view_api bug

* Add to changelog

* Rework test"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-24T16:52:10Z,"Support gr.Progress() in python client (#3924)

* Add progress message

* CHANGELOG

* Dont use pydantic

* Docs + local test

* Add gr to requirements

* Remove editable install

* make a bit softer"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-19T18:38:11Z,"Fix some documentation-related issues in Guides (#3903)

* client doc fixes

* simplify demo

* added guides

* chatbot guide

* notebooks

* format"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-13T23:20:33Z,"Update view api page to use Python client (#3765)

* Update view api page

* simplify

* update

* changes

* changes

* updated info

* formatting

* changes

* fixes

* save

* moved

* remove test input

* tweaks

* formatting

* add raw

* serialize

* fixes

* refactor

* fixes

* fixes

* Fetch api

* lower case

* view api

* fix tests

* format

* rough design

* readme

* api docs

* examples

* format

* formatting

* format

* version

* client changes

* formatting

* update client

* more example inputs

* api docs fixes

* remove notebook

* fix demo

* demo notebook

* styling on code snippet

* formatting

* fix audio, model3d

* format

* fix tests

* version

* cleanup

* format

* format

* format

* fixes

* version

* fix tests

* version

* format

* test

* format

* changelog

* changelog

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-13T19:30:11Z,"[WIP] Client duplicate fixes (#3843)

* client duplicate fixes

* fixes

* formatting

* changes

* fixing tests

* formatting"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-12T20:26:37Z,"Allow client to be duplicated from an existing Space (#3809)

* client

* readme

* readme

* fixes

* cleanup

* error messages

* format

* updates

* format

* build

* fixes

* fix tests

* Update client/python/gradio_client/client.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* set timeout

* rename

* format

* rename

* sleep timeout

* format

* mock secrets

* format

* format

* docstring

* fix test

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-12T02:38:17Z,"Python Client: Handle invalid space state (#3822)

* Raise error on status check

* Add BUILDING

* Remove SLEEPING"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-09T14:22:49Z,"Python client cancel jobs (#3787)

* Working impl

* Add tests:

* formatting

* Fix typo

* Always reset iterator state

* Add httpx

* Fix test

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-07T23:42:59Z,"Python Client: Upload files via /upload for File components  (#3771)

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add uploadbtn

* Add support for upload btn

* revert

* Add size to FileSerializable

* Serialize multiple files

* lint

* Make changes to deserialize

* Fix multiple file upload case

* Modify test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-06T23:41:37Z,"Py client verbose (#3781)

* verbose flags

* fixes"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-05T18:19:05Z,"Make Client Jobs Iterable (#3762)

* Add iterator

* Break if done

* Add test for early termination"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-04T21:58:25Z,"Get Intermediate Results from Python Client (#3694)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add intermediate results to python client

* Type check

* Typecheck again

* Catch exception:

* Thinking

* Dont read generator from config

* add no queue test

* Remove unused method

* Fix types

* Remove breakpoint

* Fix code

* Fix test

* Fix tests

* Unpack list

* Add docstring

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-04T17:35:12Z,"Add root_url to serializers in gradio_client (#3736)

* Add root_url to serializers

* Add url fix

* Respect fn parameter

* Fix docstring

* Add other test

* Pass to method"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-04T02:17:00Z,"Import Literal from typing extensions in client (#3741)

* Fix typing extensions

* Import typing_extensions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-04-02T22:28:46Z,"Fix some bugs related to Python client (#3721)

* client format

* docs

* formatting

* fix tests

* fixed bug

* api endpoint changes

* fix tests

* fix tests

* formatting

* Add support for sessions [python client] (#3731)

* client

* add state and tests

* remove session param"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-03-29T22:41:12Z,"Add status for Python Client Jobs (#3645)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add two concurrent test"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-03-29T22:00:20Z,"Documentation-related fixes to the python client (#3663)

* docstring

* add documentation

* added more serialization classes

* format

* info

* is valid

* formatting

* changes

* fixups

* fix tests

* machine readable

* formatting

* client

* format

* tweaks on printing

* version

* linting

* fix tests

* update pypi requirements

* updates

* type ignore'

* fixes

* formatting"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-03-28T22:52:56Z,"Add job for python client ci (#3674)

* Add job + lint

* Fix path

* Fix path

* Fix path

* Checkout

* Add test requirements

* Fix syntax

* Fix test

* Lint

* Fix deps + README

* Move dependency"
github.com/gradio-app/gradio,client/python/gradio_client/client.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF.py,2024-01-18T09:01:37Z,"fix ""\n"" tokenization + phi-2 new layer names (#2552)"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF.py,2024-01-11T17:14:14Z,"Support for Microsoft's Phi-2 model (#2548)

* phi-2 support"
github.com/chidiwilliams/buzz,buzz/model_loader.py,2024-01-10T09:31:53Z,fix: whisper binary missing error message
github.com/chidiwilliams/buzz,buzz/model_loader.py,2024-01-05T19:09:26Z,"fix: disable whisper, faster_whisper, and hugging_face transcriptions in linux build (#659)"
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-12-21T19:57:44Z,feat: update transcription tasks columns (#649)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-08-18T22:32:18Z,Add black formatting (#571)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-08-05T01:02:20Z,Add default file name setting (#559)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-08-03T04:41:59Z,Add delete model and show model location options (#557)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-07-04T22:42:41Z,Fix Faster Whisper large transcription (#524)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-07-04T21:52:45Z,Fix Faster Whisper large model selection (#523)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-07-04T00:28:47Z,Move transcriptions to individual cache files (#519)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-05-16T22:24:39Z,Change os.rename to shutil.move when downloading models (#459)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-04-28T21:28:05Z,Add models preferences (#421)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-04-10T12:34:46Z,Add Faster Whisper (#400)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-03-09T13:24:11Z,Add support for OpenAI Whisper API (#371)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2023-01-09T10:05:38Z,Fix recording window shutting down (#326)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-31T09:13:52Z,Fix intermittently failing tests (#277)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-26T12:48:45Z,Add support for Hugging Face models (#264)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-21T20:44:07Z,Download Whisper.cpp models from Hugging Face (#262)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-21T15:39:28Z,Change model progress update from int to float (#261)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-20T18:49:00Z,Add task queue (#253)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-17T11:57:10Z,Add model selector box (#254)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-15T05:08:45Z,Make file transcribers QObjects (#242)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-12T14:48:32Z,Make model loader QObject (#237)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-10T01:33:15Z,Add large model SHA (#227)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-08T04:37:59Z,Add large (v1 and v2) Whisper models (#212)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-12-05T22:41:37Z,Refactor Whisper transcriber to QRunnable (#207)
github.com/chidiwilliams/buzz,buzz/model_loader.py,2022-11-28T13:59:15Z,Refactor module structure (#192)
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-29T00:24:11Z,"Merge PEFT feature branch (#11240)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-19T01:45:46Z,"Clean tmp path instantly in Transformers CI test (#11148)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-16T07:35:47Z,"Remove global transformers import to fix autologging issue in MLR (#11165)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-13T21:27:36Z,"Remove extra validation for model types when constructing Transformers pipeline (#11099)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-13T07:47:10Z,"Support input and signature for text-generation models for Chat and Completions (#11027)

Signed-off-by: Ying Chen <ying.chen@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-13T07:21:34Z,"Remove `skipcacheclean` pytest marker (#11097)

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-08T10:58:01Z,"Add timeout for signature/requirement inference during Transformer model logging. (#11037)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-06T02:51:52Z,"Fix missing dtype issue for transformer pipeline (#10979)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-06T01:50:14Z,"Fix non-idempotent prediction due to in-place update to model-config (#11014)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>
Signed-off-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-02-01T17:10:53Z,"Support chat, completions task output for text-generation pipeline (#10872)

Signed-off-by: Ying Chen <ying.chen@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-01-24T20:48:14Z,"Add support for retrieving license files for transformers models (#10871)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-01-18T00:05:19Z,"Enable hf_transfer for CI test and prefetch (#10834)

Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2024-01-09T01:25:50Z,"Remove the Redundant duplication check in transformers dependency validation (#10792)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-12-21T19:00:16Z,"initpy and test_transformers_model_export (#10538)

Signed-off-by: swathi <konakanchi.swathi@gmail.com>
Signed-off-by: Hankyeol Kyung <kghnkl0103@gmail.com>
Signed-off-by: Prithvi Kannan <prithvi.kannan@databricks.com>
Signed-off-by: Jerry Liang <jerry.liang@databricks.com>
Signed-off-by: Jerry Liang <66143562+jerrylian-db@users.noreply.github.com>
Signed-off-by: serena-ruan <serena.ruan@ip-10-110-25-32.us-west-2.compute.internal>
Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Gabriel Fu <hfu.gabriel@gmail.com>
Signed-off-by: Madhu <madhukesav02@gmail.com>
Signed-off-by: Konakanchi Swathi <98085410+KonakanchiSwathi@users.noreply.github.com>
Co-authored-by: Marcus Kyung <kghnkl0103@gmail.com>
Co-authored-by: Prithvi Kannan <46332835+prithvikannan@users.noreply.github.com>
Co-authored-by: Jerry Liang <66143562+jerrylian-db@users.noreply.github.com>
Co-authored-by: WeichenXu <weichen.xu@databricks.com>
Co-authored-by: Siddharth Murching <sid.murching@databricks.com>
Co-authored-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: serena-ruan <serena.ruan@ip-10-110-25-32.us-west-2.compute.internal>
Co-authored-by: Gabriel Fu <hfu.gabriel@gmail.com>
Co-authored-by: madhumaddi <madhumaddi@microsoft.com>
Co-authored-by: Madhu <madhukesav02@gmail.com>
Co-authored-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-12-19T07:32:01Z,"Objects and Array support in model signature (#9936)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: harupy <hkawamura0130@gmail.com>
Signed-off-by: Daniel Lok <daniel.lok@databricks.com>
Signed-off-by: B-Step62 <yuki.watanabe@databricks.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Signed-off-by: Weichen Xu <weichen.xu@databricks.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Co-authored-by: Daniel Lok <daniel.lok@databricks.com>
Co-authored-by: Yuki Watanabe <31463517+B-Step62@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: WeichenXu <weichen.xu@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-12-05T01:40:20Z,"Support saving torch_dtype for transformers with components logging (#10586)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-11-09T23:44:36Z,"Re-enable transformers tests (#10343)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-10-27T21:01:26Z,"Add model_size_bytes attribute when saving the model (#10110)

Signed-off-by: wenfeiy-db <wenfei.yan@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-10-26T02:24:02Z,"Disallow heterogeneous memory configuration when saving transformers model (#10087)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-10-20T15:43:36Z,"fix fill-mask with multiple masks (#10032)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-10-10T23:10:54Z,"Add SIM108 ruff rule (#9888)

Signed-off-by: Tomu Hirata <tomu.hirata@gmail.com>
Signed-off-by: TomuHirata <33407409+TomeHirata@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-10-06T00:46:39Z,"Model configuration for PyFunc flavor (#9251)

Signed-off-by: santiagxf <santiagof@outlook.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-09-29T05:48:09Z,"Fix `test_whisper_model_supports_timestamps` (#9770)

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>
Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-09-27T09:10:23Z,"Support saving params in input example (#9655)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-09-21T20:52:51Z,"add dynamic dataframe typing plus tests (#9044)

Signed-off-by: Walter Martin <wamartin@microsoft.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-24T05:38:44Z,"Support huggingface snapshot locations in pyfunc log_model artifacts parameter (#9362)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-23T02:30:14Z,"Sort import statements (excluding `mlflow` for now) (#9409)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-09T04:42:32Z,"Set `do_sample` to fix transformers tests (#9253)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-09T01:19:11Z,"Fix text_pair functionality for transformers TextClassification pipelines (#9215)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-04T14:31:33Z,"Fix unnecessary accelerate in transformers dependency (#9209)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-01T06:15:07Z,"Add transformers test case for inference_config+params (#9175)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-08-01T00:19:59Z,"Switch transformers tests to use non-deprecated model type (#9184)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-28T08:32:41Z,"Inference params support (#9068)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>
Signed-off-by: Serena Ruan <82044803+serena-ruan@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-22T15:29:15Z,"Enable flake8 pytest style (#9051)

Signed-off-by: Edoardo Abati <29585319+EdAbati@users.noreply.github.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-13T15:24:17Z,"Revert inf params (#9059)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-13T03:17:02Z,"Fix for transformers models tests (#9056)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-12T08:54:15Z,"explicitly declare pipeline components (#9048)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-11T08:15:21Z,"[Support inference params-3]Add inference params for all flavors (#8974)

* add inference params for all flavors

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix and update tests

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update sklearn test

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update sklearn test

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* add unused for pylint

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update pylint

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

---------

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-11T06:41:33Z,"Avoid redundant model version download when logging and registering model versions to UC via log_model (#8903)

* Avoid redundant model version re-download when creating model versions in UC via log_model

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Empty

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Pass local_model_source

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Rename

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Formatting

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* WIP

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Remove unused arg annotation

* Updates

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* WIP

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* WIP

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Add some more tests

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Undo unwanted change

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix some tests/lint

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* assert on correct method

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix more tests

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix more tests

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix lint

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* More fixes

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Lint

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix some lint errors

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Update

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix test

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix lint

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* last lint fix

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Apply suggestions from code review

Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>
Signed-off-by: Siddharth Murching <smurching@gmail.com>

* Address comment

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix tests

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* fix test

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* WIP fix

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* WIP fix

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Fix sklearn tests

Signed-off-by: Sid Murching <sid.murching@databricks.com>

* Lint

Signed-off-by: Sid Murching <sid.murching@databricks.com>

---------

Signed-off-by: Sid Murching <sid.murching@databricks.com>
Signed-off-by: Siddharth Murching <smurching@gmail.com>
Co-authored-by: Harutaka Kawamura <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-11T04:23:22Z,"Fix dev transformers cross version test (#9035)

* apply alignment head fix to transformers test

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* Autoformat: https://github.com/mlflow/mlflow/actions/runs/5511578611

Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-10T13:50:35Z,"Enable unused-arguments (#9032)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-07T13:54:36Z,"Add validation for timestamp annotation transformers audio classification models (#8993)

* add validation test for trarnsformers timestamp marking for audio classification

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix assertion logic

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-06T20:22:13Z,"Add compatibility for legacy transformers serialization (#8964)

* add compatibility for legacy transformers serialization

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* clean up

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-07-04T06:30:10Z,"Remove unused arguments - 1 (#8917)

* Remove unused arguments

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Ignore unused-argument

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Disable unused-argument

Signed-off-by: harupy <hkawamura0130@gmail.com>

---------

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-29T04:35:36Z,"fix transformers test (#8885)

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-28T07:29:26Z,"fix: add alignment_heads for transformers>4.30.2 (#8871)

* add alignment_heads for transformers>4.30.2

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix typo

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

---------

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-20T23:24:33Z,"Fix flaky transformers tests with retry (#8788)

* use retry for flaky transformers tests

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix flaky

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix flaky

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update flaky

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

---------

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-14T22:34:53Z,"Simplify signature API imports in codebase (#8544)

* mass replacement ;)

Signed-off-by: Jerry Liang <jerry.liang@databricks.com>

* fix imports

Signed-off-by: Jerry Liang <jerry.liang@databricks.com>

* fix lint

Signed-off-by: Jerry Liang <jerry.liang@databricks.com>

---------

Signed-off-by: Jerry Liang <jerry.liang@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-14T02:33:42Z,"Remove report_free_disk_space in transformers test (#8723)

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-09T20:21:17Z,"Add duplicate requirements validation (#8678)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-09T18:32:25Z,"Ignore encoding errors with transformers model cards (#8652)

* Ignore encoding errors with transformers model cards

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* lint fix

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-07T22:48:40Z,"Monitor disk usage in transformers tests (#8636)

* Monitor disk usage

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Remove end

Signed-off-by: harupy <hkawamura0130@gmail.com>

---------

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-06-07T01:56:17Z,"Replace `whisper-small` with `whisper-tiny` to save disk space (#8623)

* Use whisper-tiny

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Trim audio

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix tests

Signed-off-by: harupy <hkawamura0130@gmail.com>

* Fix assert

Signed-off-by: harupy <hkawamura0130@gmail.com>

---------

Signed-off-by: harupy <hkawamura0130@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-30T13:12:03Z,"Convert transformers scalar string output to list of strings for batch inference (#8546)

* force all scalar outputs to be lists for transformers

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-26T15:23:37Z,"Fix the transformers whisper example and add uri validation (#8537)

* validate uri input for transformers audio and fix example

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-26T14:26:05Z,Add support for multi-GPU inference and efficient weight loading for HuggingFace flavor (#8448)
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-24T23:15:54Z,"Add support for uri inputs in audio models for transformers (#8495)

* add support for uri in audio models for transformers

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* Update docs/source/models.rst

Signed-off-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>

* make the docs look nicer

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* Autoformat: https://github.com/mlflow/mlflow/actions/runs/5062465709

Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>

* add pyfunc malformed audio test

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>
Signed-off-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>
Signed-off-by: mlflow-automation <mlflow-automation@users.noreply.github.com>
Co-authored-by: mlflow-automation <mlflow-automation@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-24T19:59:16Z,"Add support for returning classifier scores in transformers output (#8512)

* Add support for classification scores in transformers pipelines

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* typo

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-23T13:01:24Z,"Add support for audio classification to transformers (#8492)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-23T07:22:16Z,"Clean HF model dependency (#8452)

* remove not needed tf/torch dependency when load transformers model

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix test params

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update catch error message

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* test

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix multi-patching _load_pyfunc

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* patch find_spec as well and reload import_utils

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* rewrite wrappers for transformers and reload modules in transformers.py

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* fix tests and add _capture_transformers_modules

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* remove duplicate definition

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update to use environment variables

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* update tests

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* address comments

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

* remove restoring env variables

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>

---------

Signed-off-by: Serena Ruan <serena.rxy@gmail.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-20T01:51:54Z,"Add support for audio transcription pipelines in transformers (#8464)

* WIP

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* Add support for audio transcription in transformers

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix the docs

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* cleaning up

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* add dependency

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* install ffmpeg base package

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix pyfunc exclusion logic

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* adjustments for tests

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* lint issue with yaml

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-12T16:57:57Z,"Add support for feature extraction pipelines to transformers (#8423)

* Add support for feature extraction pipelines

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-12T14:16:15Z,"Add support for setting torch_dtype in transformers pipelines (#8421)

* Add support for setting torch dtype

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* disable tests for unsupported versions

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-05-05T23:38:31Z,"fix issue with schema inference and add coverage (#8391)

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-04-26T22:57:28Z,"Fix regression in schema enforcement (#8326)

* Fix schema enforcement regression

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* WIP - tests will fail

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* add in specific logic for transformers schema enforcement

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-04-24T17:26:20Z,"Isolate whitespace collapsing logic for TextGeneration pipelines (#8294)

* apply whitespace collapsing to all text generation pipelines and isolate logic

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-04-21T03:07:59Z,"Invert the default output parsing for TextGenerator subtypes (#8279)

* Invert the default output parsing for TextGenerator subtypes

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* final feedback on naming

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-04-18T17:20:36Z,"Add InstructionalPipeline support and fix inference config bug (#8252)

* fix inference config bug and add parser for dolly

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix test

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-04-14T00:14:43Z,"Add support for transformers pyfunc (#8181)

* WIP

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* draft WIP

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* WIP testing

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix tests and PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix test over capacity failures

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* clean up tests

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove redundant test

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* TESTING ONLY for scalability validation

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* change fixture scoping

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix tests

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove accelerate

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* pin mlserver version due to breaking 1.3 release

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* change pins

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* add parsing tests

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>
Signed-off-by: Ben Wilson <39283302+BenWilson2@users.noreply.github.com>"
github.com/mlflow/mlflow,tests/transformers/test_transformers_model_export.py,2023-03-30T16:13:36Z,"Add support for transformers as a named flavor (#8086)

* Add support for transformers

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix pydoc rendering

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix the cross version parser

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove pointless separation of tokenizer fetch

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove invalid attr

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* update lazy import test

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* add test libs

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix linting issues

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* exclude non LLMs from pyfunc flavor

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* switch to importing modules by package name

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* move the test script to prevent locality scoped name match imports

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* rename test suite directory to prevent pytorch_lightning import error

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix lint and path issues

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove the ability to pass a model

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* clean up some functions and tests

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback and add validation test

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR updates and fixes for older version of transformers

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix the import

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* forgot to revert the package versions update for local testing

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* missed one

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fix relative reference

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* cleanup fixes and PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* Building a proper dict -> typed NamedTuple conversion

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove commented out code

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* make the wrapper class private to remove from docs display

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* refactoring

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* fixes for regressions in 4.26.x builds of transformers

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* PR feedback

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* apply missed fix

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

* remove unused import

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>

---------

Signed-off-by: Ben Wilson <benjamin.wilson@databricks.com>"
github.com/neuml/txtai,src/python/txtai/cloud/hub.py,2023-03-03T18:38:07Z,Improve temporary file creation logic
github.com/neuml/txtai,src/python/txtai/cloud/hub.py,2023-03-03T16:21:03Z,"Add lfs tracking for embeddings files, closes #450"
github.com/neuml/txtai,src/python/txtai/cloud/hub.py,2023-02-19T18:45:52Z,"Add huggingface-hub integration, closes #430. Add cloud object storage support for standard embeddings indexes, closes #431. Add support for custom cloud providers, closes #432. Add support for storing embeddings config as JSON, closes #433."
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2024-02-26T18:49:28Z,"Revamp medusa implementation so that every model can benefit. (#1588)

# What does this PR do?

<!--
Congratulations! You've made it this far! You're not quite done yet
though.

Once merged, your PR is going to appear in the release notes with the
title you set, so make sure it's a great title that fully reflects the
extent of your awesome contribution.

Then, please replace this with a description of the change and which
issue is fixed (if applicable). Please also include relevant motivation
and context. List any dependencies (if any) that are required for this
change.

Once you're done, someone will review your PR shortly (see the section
""Who can review?"" below to tag some potential reviewers). They may
suggest changes to make the code even better. If no one reviewed your PR
after a week has passed, don't hesitate to post a new comment
@-mentioning the same persons---sometimes notifications get lost.
-->

<!-- Remove if not applicable -->

Fixes # (issue)


## Before submitting
- [ ] This PR fixes a typo or improves the docs (you can dismiss the
other checks if that's the case).
- [ ] Did you read the [contributor
guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),
      Pull Request section?
- [ ] Was this discussed/approved via a Github issue or the
[forum](https://discuss.huggingface.co/)? Please add a link
      to it if that's the case.
- [ ] Did you make sure to update the documentation with your changes?
Here are the
[documentation
guidelines](https://github.com/huggingface/transformers/tree/main/docs),
and
[here are tips on formatting
docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).
- [ ] Did you write any new necessary tests?


## Who can review?

Anyone in the community is free to review the PR once the tests have
passed. Feel free to tag
members/contributors who may be interested in your PR.

<!-- Your PR will be replied to more quickly if you can figure out the
right person to tag with @


@OlivierDehaene OR @Narsil

 -->"
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-12-21T16:29:23Z,"Fix local load for peft (#1373)

local directory overloaded still needs the directory to locate the
weights files correctly.

# What does this PR do?

<!--
Congratulations! You've made it this far! You're not quite done yet
though.

Once merged, your PR is going to appear in the release notes with the
title you set, so make sure it's a great title that fully reflects the
extent of your awesome contribution.

Then, please replace this with a description of the change and which
issue is fixed (if applicable). Please also include relevant motivation
and context. List any dependencies (if any) that are required for this
change.

Once you're done, someone will review your PR shortly (see the section
""Who can review?"" below to tag some potential reviewers). They may
suggest changes to make the code even better. If no one reviewed your PR
after a week has passed, don't hesitate to post a new comment
@-mentioning the same persons---sometimes notifications get lost.
-->

<!-- Remove if not applicable -->

Fixes # (issue)


## Before submitting
- [ ] This PR fixes a typo or improves the docs (you can dismiss the
other checks if that's the case).
- [ ] Did you read the [contributor
guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),
      Pull Request section?
- [ ] Was this discussed/approved via a Github issue or the
[forum](https://discuss.huggingface.co/)? Please add a link
      to it if that's the case.
- [ ] Did you make sure to update the documentation with your changes?
Here are the
[documentation
guidelines](https://github.com/huggingface/transformers/tree/main/docs),
and
[here are tips on formatting
docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).
- [ ] Did you write any new necessary tests?


## Who can review?

Anyone in the community is free to review the PR once the tests have
passed. Feel free to tag
members/contributors who may be interested in your PR.

<!-- Your PR will be replied to more quickly if you can figure out the
right person to tag with @


@OlivierDehaene OR @Narsil

 -->"
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-12-21T16:25:22Z,"feat: update exllamav2 kernels (#1370)

Co-authored-by: Nicolas Patry <patry.nicolas@protonmail.com>"
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-12-20T14:37:14Z,"Peft safetensors. (#1364)

Works by removing adapter_model.safetensors from being detected as the
core model file (which skips the real peft detection).

# What does this PR do?

<!--
Congratulations! You've made it this far! You're not quite done yet
though.

Once merged, your PR is going to appear in the release notes with the
title you set, so make sure it's a great title that fully reflects the
extent of your awesome contribution.

Then, please replace this with a description of the change and which
issue is fixed (if applicable). Please also include relevant motivation
and context. List any dependencies (if any) that are required for this
change.

Once you're done, someone will review your PR shortly (see the section
""Who can review?"" below to tag some potential reviewers). They may
suggest changes to make the code even better. If no one reviewed your PR
after a week has passed, don't hesitate to post a new comment
@-mentioning the same persons---sometimes notifications get lost.
-->

<!-- Remove if not applicable -->

Fixes # (issue)


## Before submitting
- [ ] This PR fixes a typo or improves the docs (you can dismiss the
other checks if that's the case).
- [ ] Did you read the [contributor
guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),
      Pull Request section?
- [ ] Was this discussed/approved via a Github issue or the
[forum](https://discuss.huggingface.co/)? Please add a link
      to it if that's the case.
- [ ] Did you make sure to update the documentation with your changes?
Here are the
[documentation
guidelines](https://github.com/huggingface/transformers/tree/main/docs),
and
[here are tips on formatting
docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).
- [ ] Did you write any new necessary tests?


## Who can review?

Anyone in the community is free to review the PR once the tests have
passed. Feel free to tag
members/contributors who may be interested in your PR.

<!-- Your PR will be replied to more quickly if you can figure out the
right person to tag with @


@OlivierDehaene OR @Narsil

 -->"
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-12-18T09:20:08Z,"fix: fix offline (#1341) (#1347)

@oOraph

---------

Signed-off-by: Raphael Glon <oOraph@users.noreply.github.com>
Co-authored-by: Raphael Glon <oOraph@users.noreply.github.com>"
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-06-23T10:41:13Z,feat(server): Adding new ignore_rule for conversion. (#485)
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-06-19T07:53:45Z,"feat(server): improve flash attention import errors (#465)

@lewtun, is this enough?

Closes #458
Closes #456"
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-06-05T14:09:41Z,feat(server): batch tokenization for flash causal lm (#411)
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-05-31T08:57:53Z,feat(server): add retry on download (#384)
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-05-03T09:36:24Z,feat(server): support hf endpoint weight layout (#266)
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-04-11T17:16:41Z,"feat(server): support OPT models (#55)

OPT models do not all have a `tokenizer.json` file on the hub at the
moment. Can't merge for now."
github.com/huggingface/text-generation-inference,server/text_generation_server/utils/hub.py,2023-03-07T17:52:22Z,feat(clients): Python client (#103)
github.com/OpenNMT/OpenNMT-py,tools/convert_HF_llamalike.py,2023-12-29T15:48:17Z,"remove llm-awq dependancy (conflict with autoawq) (#2540)

* remove llm-awq dependancy (conflict with autoawq)
* set cuda 12.1 for docker
* awq mixtral conversion from HF hub"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF_llamalike.py,2023-12-26T10:08:55Z,"use flash_attn_with_kvcache for faster inference (#2539)

* use flash_attn_with_kvcache
* patch rmsnorm for multiexperts
* rope theta as an option"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF_llamalike.py,2023-12-14T13:00:55Z,"Extend llamalike-converter (#2536)

* add various cases to the converter"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF_llamalike.py,2023-12-04T10:51:41Z,"Distributed inference of 70B awq model (#2531)

* Distributed inference of 70B awq model
* fix overflow"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF_llamalike.py,2023-11-24T08:50:24Z,"Fixconv (#2527)

* fix converter
* remove openllama"
github.com/OpenNMT/OpenNMT-py,tools/convert_HF_llamalike.py,2023-11-23T14:02:03Z,"Awq 4 bit quantization support (#2508)

* add awq linear from AutoAWQ and/or llm-awq
* add generic converter for llama-like models from HF with or without awq quantization"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2024-02-20T16:34:54Z,Add clip_timestamps and hallucination_silence_threshold options (#646)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2024-01-24T09:17:12Z,support distil-whisper (#557)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-11-24T22:16:12Z,"Add V3 Support (#578)

* Add V3 Support

* update conversion example

---------

Co-authored-by: oscaarjs <oscar.johansson@conversy.se>"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-09-14T15:17:01Z,"Expose function available_models (#475)

* Expose function available_models

* Add test case"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-09-04T09:54:42Z,"Add ""large"" alias for ""large-v2"" model (#453)"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-07-03T15:40:10Z,"Add support for using whisper models from Huggingface by specifying the model id. (#334)

* Add support for downloading CTranslate-converted models from Huggingface.

* Update utils.py to pass Flake8.

* Update utils.py to pass black.

* Remove redundant usage instructions.

* Apply suggestions from code review

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

---------

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-06-20T08:53:11Z,Do not specify the vocabulary file extension in the download pattern (#311)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-05-11T13:07:15Z,Also catch client-side network exceptions when synchronizing models (#228)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-05-11T12:47:22Z,Reformat function download_model for clarity
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-05-09T15:20:22Z,"retry model download locally if huggingface throws an http error. (#215)

* rety model download locally if huggingface throws an http error.

* appease the linter

* key error fix

* use non internal lib error

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

---------

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-04-26T15:37:51Z,Update docstring to clarify download_root and output_dir
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-04-26T15:36:24Z,Fix typing of local_files_only
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-04-26T14:35:18Z,"Use cache_dir instead of local_dir (#182)

* Use cache_dir instead of local_dir

* Fix unit test

* Use cache_dir and preserve local_dir parameter

* Remove blank line at the end

* Disable ut

* Implement  download_root suggestion

* Use cache_dir=download_root"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-04-20T12:26:06Z,Allow specifying local_files_only to prevent checking the Internet everytime (#166)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-04-05T14:57:59Z,Add some info and debug logs (#113)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-04-03T15:22:48Z,"Support VAD filter (#95)

* Support VAD filter

* Generalize function collect_samples

* Define AudioSegment class

* Only pass prompt and prefix to the first chunk

* Add dict argument vad_parameters

* Fix isort format

* Rename method

* Update README

* Add shortcut when the chunk offset is 0

* Reword readme

* Fix end property

* Concatenate the speech chunks

* Cleanup diff

* Increase default speech pad

* Update README

* Increase default speech pad"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-29T10:11:24Z,Always disable the progress bar specific to snapshot_download
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-28T12:36:10Z,Add large-v1 model
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-26T14:30:00Z,Raise an explicit error message if the model size is invalid
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-24T16:59:11Z,Only download the required model files
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-24T09:55:55Z,"Automatically download converted models from the Hugging Face Hub (#70)

* Automatically download converted models from the Hugging Face Hub

* Remove unused import

* Remove non needed requirements in dev mode

* Remove extra index URL when pip install in CI

* Allow downloading to a specific directory

* Update docstring

* Add argument to disable the progess bars

* Fix typo in docstring"
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-22T19:50:03Z,Run some automatic tests with GitHub Actions (#68)
github.com/SYSTRAN/faster-whisper,faster_whisper/utils.py,2023-03-15T14:27:20Z,Port utility function format_timestamp
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-02-29T21:41:35Z,Download config.json for conversion script (#965)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-02-23T15:56:17Z,Expose dataclasses from CLI (#943)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-02-06T19:01:16Z,Support faster checkpoint downloads in the cloud (#918)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-01-16T15:06:52Z,"Phi model update (#876)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-01-12T09:11:29Z,Pin Phi 2 HF revision (#875)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-01-10T21:16:19Z,Pin Phi HF revision (#869)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2024-01-05T15:59:35Z,Add License at the top of individual files (#860)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-12-15T03:15:25Z,Use safetensors with Mixtral
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-12-15T01:27:42Z,Fixes for Mixtral downloading
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-11-24T12:45:02Z,Microsoft/Phi-1.5: Update convert script (#772)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-11-21T16:20:28Z,Pin revision of Phi-1.5 (#762)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-11-18T20:48:34Z,"Add checkpoint_dir command-line arg to download script. (#664)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-11-14T18:06:48Z,Undo accidental default value change
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-11-13T18:46:38Z,Add flag to download the tokenizer only (#724)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-10-27T18:01:30Z,Make HF meta data an optional field in Config (#673)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-09-11T20:05:37Z,"Add falcon-180B checkpoint support (#503)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-08-30T16:42:54Z,"Fix use of ""access_token"" (#484)"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-08-30T02:51:18Z,"Add LIMA dataset (#479)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-08-25T17:13:26Z,"Add Configuration for StabilityAI's StableCode-Completion-Alpha-3B Model (#451)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-07-19T06:04:40Z,Support LLaMA 2 (#274)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-06-29T15:15:45Z,Support Vicuna checkpoints (#215)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-06-29T14:29:41Z,Support Open LLaMA (#208)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-06-29T01:45:42Z,Filter downloaded files (#211)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-06-22T22:08:04Z,"Rename from parrot to gpt (#190)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-06-10T17:37:05Z,"Set the config's block size  as the max_seq_length data preparation and fine tuning scripts (#127)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-06-02T09:48:29Z,Support Falcon 7B (#105)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-05-21T17:06:34Z,Do not use symlinks when downloading for cloud support (#80)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-05-09T13:52:36Z,"Parrot rename (#38)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-05-08T20:33:08Z,"Updated README and cleaned up howto (#36)

Co-authored-by: Carlos Mocholí <carlossmocholi@gmail.com>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-05-06T01:02:52Z,Single checkpoint dir to simplify script arguments (#23)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-05-05T14:03:12Z,Support Pythia checkpoints (#5)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-05-05T12:34:18Z,"Initial commit (#1)

Co-authored-by: Luca Antiga <luca@lightning.ai>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-04-19T16:24:19Z,"Update howto guide to download weights (#169)

Co-authored-by: Luca Antiga <luca@lightning.ai>"
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-04-07T14:29:04Z,Parity test for LLaMA-Adapter implementation (#106)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-03-27T19:47:33Z,Fix mypy (#34)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-03-27T14:02:03Z,Disable non-functioning torch.compile (#17)
github.com/Lightning-AI/lit-gpt,scripts/download.py,2023-03-24T16:23:33Z,Support generation with original model (#10)
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-12-07T23:07:23Z,"Hotfix: update `huggingface_hub` dependency version (#6704)

* update requirements of hfhub

* add changeset

* requirements

* add changeset

* fixed

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-11-06T23:40:08Z,"Temporary fix to be able to load themes from Hub (#6311)

* Add code

* push temporary fix for tags

* temp fix

* add changeset

* reduce

* trigger ci

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-10-31T13:48:10Z,"modify preprocess to use pydantic models (#6181)

* modify preprocess to use pydantic models

* changes

* add changeset

* fix

* fix

* fix typing

* save

* revert queuing changes

* fix

* fix

* notebook

* fix

* changes

* add changeset

* fix functional tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-06-15T17:51:09Z,"Amend error toast and pill styling (#4454)

* remove error gradient and add border to toast

* changelog

* tweak styling for light and dark error status and toast

* run prettier

* restore removed onclick

* remove formatting

* fix dracula test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-06-11T01:12:11Z,"gr.Number() max/min limit (#3991)

* Add min max handling for Number (#3871)

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4027)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times (#4030)

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math (#4029)

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 (#4042)

* Fastapi Python Client Guide (#3892)

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming (#4043)

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change (#4059)

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4064)

* New Version Docs (#4069)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix (#4070)

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix (#4072)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors (#4068)

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM (#4073)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes (#4080)

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes (#4086)

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing ""State"" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios (#4071)

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit (#4090)

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile (#4098)

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures (#4115)

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page (#4112)

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators (#3821)

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release (#4116)

* Bumpt client version (#4125)

* New Version Docs (#4131)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action (#4130)

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs (#4132)

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4136)

* Fix website build issue (#4142)

* upgrade pnpm

* changelgo

* Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx (#4133)

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv (#4160)

* Fix the prettier.ignorePath field in the VSCode workspace settings (#4164)

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog (#4163)

* Fix the wildcard in .editorconfig to match files in nested directories (#4165)

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test (#4168)

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping (#4167)

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 (#4166)

* release

* requirements

* [Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4172)

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason (#4128)

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test (#4173)

* hotfix for test

* removed comment

* 3712 js client (#3899)

* update ci (#4184)

* bump client version (#4185)

* bump client version

* ignore spaces-test

* Fix (#4186)

* bump client version

* ignore spaces-test

* fix

* update token for npm action (#4187)

* change (#4189)

* ci typo (#4190)

* Fix npm publish again again (#4191)

* ci typo

* fix

* Fix npm publish again again (#4192)

* ci typo

* fix

* again

* Fix npm publish again again (#4193)

* ci typo

* fix

* again

* again

* Add format argument to Audio (#4178)

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4188)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again (#4195)

* ci typo

* fix

* again

* again

* again

* client docs tweaks (#4196)

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix ""TypeError: issubclass() arg 1 must be a class"" When Optional args  (#4200)

* fix ""issubclass() arg 1 must be a class"" when args is Optional

* Update CHANGELOG.md

add fix ""TypeError: issubclass() arg 1 must be a class"" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import (#4201)

* fix token (#4208)

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component (#4204)

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters (#4203)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app (#4119)

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md (#4220)

* Input listener (#4157)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled (#4194)

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout (#4235)

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower (#4228)

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled (#4236)

* Only allow messaging update if analytics are allowed

Follows up on #4194

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths (#4202)

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels (#4225)

* fix cancels

* changelog

* refactor to make it work

* chore: update versions (#4207)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish (#4240)

* fix npm publish

* fix npm publish

* release (#4219)

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo (#4238)

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError (#4241)

* Fix JSONDecodeError bug (#4237)

* Remove unused import

* Clean up code

* Fix JSONDecodeError (#4241)

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private (#4247)

* Refactoring (#4223)

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts (#4222)

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change (#4250)

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click (#4258)

* fix run on click

* changelog

* Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing (#4150)

* fix info request in js client (#4271)

* fix info request in js client

* changelog

* Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue (#4273)

* Allow passing FastAPI app options (#4282)

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot (#4285)

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 (#4293)

* release 3.32.0

* changelog

* New Version Docs (#4296)

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove @ts-i… (#4315)

* Add overridden type annotations on `normalise_file()` to remove @ts-ignore, and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid (#4337)

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener (#4304)

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md (#4310)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4283)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls (#4334)

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks (#4357)

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well (#4311)

* Remove unnecessary @ts-ignore (#4314)

* Remove unnecessary Promise wrapping another promise (#4313)

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` (#4312)

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code (#4275)

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` (#4356)

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route (#4303)

* Don't allow dotfiles or files in ""dot directories"" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming (#4363)

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows (#4369)

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml (#4383)

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot (#4360)

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot (#4350)

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 (#4392)

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support (#4398)

* changes

* changes

* changes

* New Version Docs (#4397)

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group (#4391)

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  (#4362)

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked (#4380)

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url (#4388)

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... (#4379)

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself (#4371)

* Fix the Node and pnpm setup actions (#4394)

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file (#4393)

* fix indent (#4404)

* Throttle scroll event  (#4158)

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` (#4436)

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every (#4434)

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback (#4433)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog (#4441)

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-05-18T15:04:59Z,"Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-04-16T10:22:45Z,"theme builder example doesn't work for `3.25.0` or later (#3869)

* theme builder example doesn't work for `3.25.0` or later
Fixes #3864

* update CHANGELOG.md

* Fix import order

* Lint

* added test

* add wheel

* wheel

* wheels

* pip

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-03-23T21:27:16Z,"Set theme name from load (#3595)

* Add name + test

* Add theme names

* CHANGELOG

* Delete theme in interface"
github.com/gradio-app/gradio,test/test_theme_sharing.py,2023-03-19T03:15:02Z,"Sharing themes (#3428)

* Rebase

* Remove build hooks

* Working implementation

* Add semver + unit tests

* CHANGELOG

* Add to docs

* Rename push_to_hub and fix typos

* Fix gallery

* Fix typo

* Address comments + tests

* Update gradio/themes/app.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Import Base as Theme. Use DefaultTheme() as fallback

* Fix types

* Make version and token truly optional

* Add version dropdown + tests

* trigger

* Support private themes and org_names

* Fix org_name typo

* Update wheel

* Fix font loading and dumping

* fixing tests

* fix tests

* formatting

* version

* remove requirements

* remove requirements

* formatting

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2024-02-09T19:24:00Z,"Fix `gr.load` for file-based Spaces (#7350)

* changes

* add changeset

* fixes

* changes

* fix

* add test

* add changeset

* improve test

* Fixing `gr.load()` part II (#7358)

* audio

* changes

* add changeset

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete .changeset/fresh-gifts-worry.md

* add changeset

* format

* upload

* add changeset

* changes

* backend

* print

* add changeset

* changes

* client

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2024-02-07T15:19:53Z,"Allow setting custom headers in Python Client (#7334)

* add headers

* add changeset

* fix

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-12-22T19:59:02Z,"Add `show_api` parameter to events, and fix `gr.load()`. Also makes some minor improvements to the ""view API"" page when running on Spaces (#6846)

* show api

* chnages

* add changeset

* changes

* changes to interface

* set show_api=False

* changes

* development

* examples

* changes

* add changeset

* changes

* changes

* format

* add changeset

* add changeset

* changes

* revert

* fixes

* is vaild

* push

* fixes'

* fixing

* fixes

* format

* fixed

* demo

* test

* format

* add changeset

* fix tests

* fix

* format

* cleanup

* remove

* fixes

* add test

* format

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-12-13T22:47:06Z,"Python client properly handles hearbeat and log messages. Also handles responses longer than 65k (#6693)

* first commit

* newlines

* test

* Fix depends

* revert

* add changeset

* add changeset

* Lint

* queue full test

* Add code

* Update + fix

* add changeset

* Revert demo

* Typo in success

* Fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-12-12T23:24:46Z,"Fix api event drops (#6556)

* changes

* changes

* add changeset

* changes

* changes

* changes

* changs

* chagnes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes~git push

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* changes

* changes

* changes

* changes

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ubuntu <ubuntu@ip-172-31-25-241.us-west-2.compute.internal>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-12-05T22:18:09Z,"Issue 5245: consolidate usage of requests and httpx (#6598)

* issue 5245 commit 1

* formatted

* add changeset

* fixes

* fixes

* make changes in client too

* remove requests from client

* add changeset

* add changeset

* Fixes to test_utils.py in client

* fixes in client utils.py and test_utils.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-12-05T20:49:48Z,"Update HF token used in CI tests (#6671)

* fix tests

* format

* fixes

* add changeset

* fixes

* fix

* fix

* update

* update

* test client

* format

* hf token 2

* add changeset

* add env

* add envs

* tests

* env

* fixes

* test external

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-11-30T07:21:59Z,"Fix: Gradio Client work with private Spaces (#6602)

* client with private space

* add changeset

* lint

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-11-09T16:34:32Z,"Fixes `gr.load()` so it works properly with Images and Examples (#6322)

* changes

* image

* fixes

* examples

* add changeset

* changes

* revert

* add changeset

* fix

* fix test

* modify workflow

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-10-31T04:46:02Z,"Version 4 development branch (#5498)

* squash commit

* BugFix: Make FileExplorer Component Templateable (#5933)

* Make FileExplorer templateable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix notebooks (#5935)

* V4: Update Component pyi file (#5937)

* Add code

* add changeset

* delete

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use beta release versions for '@gradio' packages (#5938)

* Fix versions

* add changeset

* fix

* add changeset

* fix

* add changeset

* Fix

* fix preview

* add changeset

* final fix

* add changeset

* fix

* add changeset

* fix

* add changeset

* revert change

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* maybe fix (#5946)

* Merge main again (#5948)

* maybe fix

* fix

* Merge main again (#5949)

* maybe fix

* fix

* weird weird weird

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Merge main again (#5950)

* maybe fix

* fix

* weird weird weird

* fix

* log

* log

* fix changesets

* rererefactor frontend files (#5960)

* do all the things

* add changeset

* remove codemod

* fix

* change casing

* condense upload button

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Strip vite import warning (#5962)

* Add code

* Remove comment

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5769)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* release wasm (#5963)

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Wasm release (#5964)

* release wasm

* release wasm

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5965)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add json schema unit tests (#5970)

* Add tests

* add changeset

* Fix tests

* api-info

* Add test

* Add test

* Add email tests

* 3.8 fix 🙄

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple textbox (#5990)

* Simple textbox

* add changeset

* Trim down events

* Trim

* Clean up change event

* Add comment

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* File upload optimization (#5961)

* Use custom multipart parser

* add changeset

* remove print

* Add comment

* Lint

* fix code

* remove print

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Removes deprecated arguments and parameters from v4 (#5968)

* Removes deprecated arguments and methods for v4

* remove update

* style

* add changeset

* added params

* typign

* fixed all of the typing

* tests

* fix layouts

* layout

* fix config

* fix

* fix form

* fix

* fix blocks tests

* fix some more tests

* lint

* fix test routes

* doc

* notebooks

* remove doc

* format

* format

* remove group

* label docstring

* remov test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Simple dropdown (#5996)

* Add code

* lint

* comment

* add changeset

* revert

* Fix update + docstring cleanup

* Add code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pass props to example components and to example outputs (#6014)

* pass props to example components and to example outputs

* add changeset

* make util less egenric/ more useful

* fix demo

* fix demo

* fix

* fix test

* Fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Format js in v4 branch (#6016)

* Format v4 branch js

* add changeset

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix component update bug  (#6027)

* Fix tests + bugs

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* lockfile update

* Fixing test

* fix test

* Add a cli command to list available templates (#6018)

* Add code

* dataset

* Add test

* add changeset

* add changeset

* add changeset

* add changeset

* Exclude FormComponent

* Paginate the output

* No colors but emojis:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix tests (#6046)

* fix storybook (#6065)

* fix storybook

* add changeset

* fix

* add changeset

* fix

* fix

* fix components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* remove dupe component (#6067)

* remove dupe component

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Simplify File Component (#6044)

* Add code

* Add code

* Add code

* Reuse code UploadButton

* Use two files for UploadButton

* Address feedback

* Lint

* add changeset

* Update js/uploadbutton/shared/UploadButton.svelte

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: pngwn <hello@pngwn.io>

* Clean up backend of `File` and `UploadButton` and change the return type of `preprocess()` from TemporaryFIle to string filepath (#6060)

* changes

* add changeset

* upload button

* file

* add changeset

* valid types

* fix tests

* address review

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix Dropdown Example component and example processing logic (#6075)

* fix examples

* helpers

* dropdown

* fix cc build (#6079)

* fix cc build

* add changeset

* throw error if build fails

* fix entry points

* add changeset

* fix lockfile

* Add test

* update workflow

* try resolve

* lint 🙄

* Use xfail

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fixes markdown rendering in examples (#6071)

* Fixes markdown rendering in examples

* add changeset

* update delimiters

* format

* format

* docstrings

* test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Proposal: sample demo for custom components should be a `gr.Interface` (#6077)

* update sample demo to interface

* add changeset

* modify

* Update gradio/cli/commands/components/_create_utils.py

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* added layout and static

* fix

* refine

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* WIP: Fix docs (#6082)

* Website fix

* add changeset

* Fix code

* pin version

* Add code

* skip code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Pending events behavior (#5826)

* enter changesets pre-release mode

* release first version (#5500)

* release packages

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix changeset (#5502)

* add changeset

* release first version

* Custom components (#5507)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* Disable example caching for load right now

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* image fixes (#5589)

* Add flag

* Copy front-end

* Add backend code

* Remove breakpoint

* Fix init

* Add code

* File reorg

* Fix types

* Upload files

* Fix code

* Custom components

* Add code

* Client changes

* More changes

* Add code

* Add code

* Fix reversion

* build hook integration

* Add code

* rm file

* Add code

* rename cli

* Add code

* Nicer cli

* Add display class

* Add backend devmide

* Add code?

* Add code

* Add paths and fix reload mdoe

* Fix .then

* changes

* fix

* fix

* changes

* changes

* changes

* Fix versions

* Fix wheel build from source

* Add code

* Get no template case working

* Cc fe (#5509)

* tweaks

* fix 18n

* fix 18n

* tweaks

* Change name

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Do not use live display for dev mode

* Clean up front-end server print statements a little bit

* Fix success event

* Cc fe 2 (#5526)

* tweaks

* fix examples

* fix backend port

* fix things

* fix

* Fix json component flagging

* fix

* fuix

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>

* Fix template (#5533)

* Fix type hint (#5536)

* fix custom components when installed from wheel (#5552)

* Fix all demos custom components (#5555)

* Fix all_demos

* Fix issues

* trigger ci

* add changeset

* Fix merge

* lockfile

* Add code

* add code

* Fix command

* Add code

* Fix highlighted text

* fix interactive highlighted text

* tweak ci

* fix image uploads

* add changeset

* remove changeset

* add changeset

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support Literal Typehints (#5591)

* Fix updateable

* Deploy for failing actions

* fix enum

* Add code

* remove gradio lite from publish ci

* fix

* fix

* chore: update versions (beta) (#5501)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix js deps in cli and add gradio-preview artifacts to build (#5610)

* Fix js dependencies in cli

* Add preview to build command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5612)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* backend linting (#5613)

* backend linting

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish js theme (#5615)

* Publish js theme

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5614)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Add code (#5617)

* Add docstring to trigger release (#5618)

* Add docstring

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5619)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build and broken imports (#5620)

* fix broken import

* fix build scripts

* add changeset

* Update js/statustracker/static/index.svelte

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5621)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5624)

* fix build

* fix build

* add changeset

* fix build

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5626)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix esbuild (#5629)

* fix build

* fix build

* add changeset

* fix build

* fix

* asd

* more fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* asd (#5630)

* chore: update versions (beta) (#5631)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Some minor v4 fixes (#5637)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Publish all components to npm (#5648)

* Publish image component

* publish components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5638)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix front-end imports + other misc fixes (#5649)

* Fix console error

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add overwrite flag to create command (#5651)

* Add overwrite flag to create command

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5650)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Make layout components templateable (#5665)

* Split out layouts

* Refactor cli

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Patch fixes (#5678)

* Handle lowercase template name frontend

* Lint

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix build and file route (#5680)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5662)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fix typing (#5686)

* Add examples for series and parallel

* v4 fix typing

* add changeset

* Fix

* Fix

* Fix 3.8

* Fix typing 3.8

* Lint

* Add code

* Add key

* Fix typing

* Add code

* Fix deps

* Fix fastapi

* Fix version
'
:

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use overrides (#5695)

* Use overrides

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* ensure client is copied along with components (#5709)

* ensure client is copied along with components

* add changeset

* add changeset

* chore: update versions (beta) (#5688)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* fix build config (#5710)

* Fix python unit tests for v4 (#5715)

* Add code

* Fix tests

* Add ci

* Add code

* fix test_blocks

* More fixes

* Last changes

* add changeset

* Add code

* Continue for the sake of some green ci

* Proper api info

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Better test dir check (#5719)

* FIx test-dir check

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Use path to npm executable in subprocess (#5736)

* Use path to npm in subprocess

* Fix dev mode too

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Add Error + test (#5738)

* Add Error + test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix component regex (#5739)

* Add code

* Fix component regex

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix layout templates (#5740)

* Fix templates

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix template remaining components (#5743)

* add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* --overwrite deletes previous content (#5744)

* Add code

* Add code

* add changeset

* Add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Support call method (#5751)

* Support call method

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows ci build (#5752)

* Try bash

* Use cross-env

* Trigger CI

* Fix comma

* add changeset

* Modify lock file

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix windows paths (#5745)

* Use posix path

* add changeset

* add changeset

* Try normalize

* to_posix v2

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* chore: update versions (beta) (#5717)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Simplify how files are handled in components in 4.0 (#5768)

* Client and upload route hash files

* Refactor logic

* add changeset

* Add code

* View API fix

* Fix client tests

* Dumb windows fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix deployed demos on v4 branch (#5770)

* Template fixes

* add changeset

* add changeset

* Fix streaming audio

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Name Endpoints if api_name is None (#5782)

* Implementation and test

* add changeset

* fix lint

* Fix nits

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* pending events

* add changeset

* Set api=False for cancel events (#5851)

* Set api=False for cancel events

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Set cache dir for some component tests (#5852)

* Add code

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Use async version of shutil in upload route (#5853)

* Use async shutil copy

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* trigger_mode

* changes

* undo

* undo

* add changeset

* undo

* add changeset

* image undo

* add changeset

* fix merge errors

* remove prints

* change

* fix

* fix error

* change

* quick fix

* trigger_mode param

* type

* value error

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes: slider bar are too thin on FireFox (#5984)

* firefox slider fix

* add changeset

* fix

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix remaining xfail tests in backend (#6073)

* Add code'

* Add code

* Add code

* Fix dataset

* add changeset

* Add some comments

* Add recover_kwargs

* Remove from docstring

* Audio-to-audio

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix dev mode model3D (#5955)

* Fix dev mode

* Lint

* add changeset

* Fix dev mode

* Lint

* remove console.log

* add changeset

* interactive fix

* Fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Dawood <dawoodkhan82@gmail.com>

* V4: Single-file implementation of form components (#6026)

* Checkbox and number

* Number, Checkboxgroup, Radio, and Slider

* Format

* remove range

* Refactor checkbox

* Forgot to add

* Refactor

* Lint

* add changeset

* use rich emoji markup

* Fix ts

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update logos for v4 (#6089)

* update v4 logo

* add changeset

* size

* fix on website

* fix on demos

* add changeset

* favicon for demos

* margin on footer logo

* margin bottom to footer logo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add a stand-alone install command and tidy-up the fallback template (#6092)

* Add code

* add changeset

* Add test

* Make install default

* Better error message

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4: Fix constructor_args (#6093)

* Fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix: Move to cache in init postprocess + Fallback Fixes (#6107)

* Add code and test

* restore

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix build (#6112)

* fix build

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Update cold-lemons-roll.md

* Revert ""Update cold-lemons-roll.md"" (#6113)

This reverts commit 20dbf908119b3a19b32f307a40158a9f3b4bf4eb.

* Try to trigger a major beta release (#6114)

* pyproject fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Delete bad changelog (#6115)

* Delete bad changelog

* Revert ""Delete bad changelog""

This reverts commit a8ca614eaf0e9f980a146a2fe76c3e23581db6f1.

* Delete bad

* formatting

* Revert ""formatting""

This reverts commit 94f43859e7d1927ab38e9ac77baaa016deede5fc.

* Improve Audio Component (#5966)

* replace <audio> with wavesurfer: add recording, playing and trimming, playback

* add changeset

* merge cleanup

* improving recording styling

* add recording timer

* add trim region duration

* allow trimming recordings

* clean up playing logic

* add pause_recording event

* remove crop min/max

* add waveform options param

* remove trimmingmode and use mode

* streaming + cleanup

* add changeset

* clean up types

* mobile adjustments

* add min/max length  + trim accessibility

* update pnpm lock

* amend source to a list and allow source switching

* fix no microphone found logic

* change undo logic to reset trims

* tweaks

* tweak reset logic

* ensure recording is sent to backend

* fix audio duration reactivity

* list tweak

* clean up

* change source -> sources + restore wasm changes

* formatting

* fix tests

* fix test

* add default sources value in fe + fix audio demos

* fix audio file name test

* add better sources typing

* ui test tweaks

* add default value in templates.py

* formatting

* remove unused prop

* add audio story

* add changeset

* revert sources changes

* remove story id

* fix be test

* fix be test

* fix notebooks

* formatting

* fix test

* fix test again

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* Fix changesets 2 (#6116)

* fix changesets

* release major

* Fix changesets 2 (#6117)

* fix changesets

* release major

* asd

* fix version

* chore: update versions (beta) (#5973)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* v4

* Open source FRP server and allow `gradio` to connect to custom share servers (#6091)

* add param

* add support for custom address

* add changeset

* share guide

* guide

* add params

* add changeset

* fix launch

* add test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Gradio custom component publish (#6098)

* Add code

* add changeset

* F-string

* Add pwd

* Add source to space

* Add template

* Twine import

* add changeset

* ignore

* restore

* add changeset

* Address feedback

* Update gradio/cli/commands/components/publish.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix static issues with Lite on v4 (#6124)

* fix missing props

* fix path to types

* add changeset

* fix path to i18n

* fix audio tests

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Refactor `Blocks.load()` so that it is in the same style as the other listeners (#6126)

* restore decorator

* remove

* refactor load

* remove restriction

* add changeset

* add pyi

* add test

* add test

* fix tests

* metaclass

* future

* reduce'

* docstring

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Small change to make `api_open=False` by default (#6138)

* set api_open to False by default

* add changeset

* tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Image v4 (#6094)

* simplify image interface

* changes

* asd

* asd

* more

* add code (#6095)

* more

* fix tests

* add changeset

* fix client build

* fix linting

* fix test

* lint

* Fix tests + lint

* asd

* finish

* webcam selection

* fix backend

* address comments

* fix static checks

* fix everything

* add changeset

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix examples

* fix tests

* fix tests

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix fallback demo app template code (#6129)

* Add test

* add changeset

* Add JSON note

* Fix test

* Update gradio/cli/commands/components/_create_utils.py

* Update test/test_gradio_component_cli.py

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fix video path

* Revert ""fix video path""

This reverts commit 5916b3dc8a91d4b0c92e33c71ee02b36df611c35.

* Fix selectable prop in the backend (#6135)

* Add to init

* Fix events

* add changeset

* Add code

* add changeset

* Fix typo

* Add code

* Fix highlighted text typo

* remove from docs

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix video (#6140)

* fix video

* add changeset

* fixes

* fixes

* lint

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix some tests on mac

* fix circular dependency with client + upload (#6143)

* fix circular dependency

* add changeset

* fix test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix image double change bug (#6146)

* fix test

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* make lite private (#6147)

* make lite private

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* fix dropdown arrow size (#6148)

* fix dropdown arrow size

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* swap `mode` on the frontned to `interactive` to match the backend (#6149)

* JS READMEs and Storybook on Docs (#6142)

* changes

* changes

* working

* remove storybook path

* add changeset

* pin code

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Don't serve files in working directory by default (#6128)

* don't serve files in working directory by default

* add changeset

* handle examples

* remove dotfiles

* guide

* guide

* fix tests

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Fix issues with website deploy (#6151)

* fixes

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Swap websockets for SSE (#6069)

* changes

* changes

* changes

* changes

* changes

* merge

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* add changeset

* changes

* changes

* changes

* changes

* changes

* add changeset

* Fix client tests sse branch (#6150)

* Switch spaces

* Fix tests

* Add code

* changes

* changes

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Remove duplicate `elem_ids` from components (#6152)

* remove elem_ids from components

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Moves `gradio_cached_folder` inside the gradio temp direcotry (#6155)

* cache -> temp

* restore

* add changeset

* add exception for cached examples

* security policy

* join

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove `show_edit_button` param in Audio (#6153)

* remove `show_edit_button` param

* add changeset

* hide overflow

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Remove interpretation for good (#6154)

* interpretation

* notebooks

* add changeset

* removed from readme

* lint

* fix demo

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Make output components not editable if they are being updated (#6157)

* make outputs not editable

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* JS Component Documentation (#6136)

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* add changeset

* Simple template

* More changes

* Properly handle change event video

* add changeset

* Add code'

* Fix play/pause bugs

* add changeset

* atoms doc

* Chatbot

* add changeset

* Some more components

* Add code

* add changeset

* Lint

* Merge in latest changes

* Fix typo

* Fix build

* Lockfile

* Fix

* Fix interactive

* correct the title

* add versions to readme

* only document public

* add changeset

* Remove simplevideo and audio

* add changeset

* changes to readmes

* add changeset

* remove tootils and theme

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Improve Video Component (#6118)

* change source to sources + add length logic

* add changeset

* add min/max logic

* tweak tests

* change sources

* formatting

* fix test_components.py test

* add trimming

* add changeset

* add keyboard events to trimming timeline

* UX improvements

* Add fix

* add loading status

* flip if webcam is only source

* generate notebooks

* remove scroll

* add file extension

* trim (#6156)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* add loading indicator to video

* ensure correct file ext is used

* tweak

* change where ffmpeg is loaded

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (beta) (#6122)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* V4 fixes (#6161)

* changes

* changes

* Pin 8.9 (#6162)

* Pending outputs fix (#6160)

* fix

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* Clean root url (#6159)

* clean

* cleanup

* formatting

* add changeset

* fe

* add changeset

* selectable

* block

* fix

* fixes

* fix update

* gradio/events

* configs

* remove

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

* V4 fixes (#6167)

* changes

* changes

* Fixes remaining backend tests (#6165)

* fix backend tests

* add changeset

* changes

* fix strings

* lint

* lint

* fixes

* delete test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>
Co-authored-by: Hannah <hannahblair@users.noreply.github.com>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-09-28T06:23:01Z,"Adds copy buttons to website, and better descriptions to API Docs (#5721)

* add missing docstring to highlightedtext

* add description to return types in api_docs

* add copy buttons to docs

* fix up descriptions for filepaths

* add copy buttons to every codeblock

* add changeset

* fix backend tests

* add changeset

* better worded descriptions

* fix color_map description

* fix formatting in code snippets

* add space

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-09-22T19:55:42Z,"Prevent Clients from accessing API endpoints that set `api_name=False` (#5653)

* only autoscroll if user hasn't scrolled up

* docstring

* format

* client

* add changeset

* add changeset

* restore

* add changeset

* fix python client, add test

* format

* js client

* format

* add changeset

* add changeset

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-08-21T19:15:36Z,"Enable streaming audio in python client (#5248)

* Add code

* Remove file

* add changeset

* add changeset

* Update chilly-fans-make.md

* lint

* Lint

* Add ffmpeg

* Lint

* Cleaner way to handle stream change

* Fix windows test

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-08-09T17:03:56Z,"Return final output for generators in Client.predict (#5057)

* Add code

* add changeset

* add changeset

* Add feat changeset

* Fix js code snippet

* Fix changelog

* Add test

* Delete code

* Lint

* Make fix for python client

* Make JS client changes

* Add submit line to error

* Changelog

* Lint

* Undo

* Add dual handling

---------

Co-authored-by: gradio-pr-bot <gradio-pr-bot@users.noreply.github.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-07-17T17:21:54Z,"Client: Support endpoints that return layout components (#4871)

* Add code

* CHANGELOG

* Add code

* Use set

* Modify _setup_serializers instead

* Push up code

* Remove from serializing

* Add gradio_client changes

* Update requirements.txt"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-07-12T15:19:39Z,"Use tempdir for all python unit tests tests (#4882)

* Use tempdir for all tests

* Disable telemetry automaticall for client

* Use configuration

* Push js

* Final comments

* Undo change"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-07-12T15:09:06Z,"Fix loading spaces with api_name=False (#4886)

* Fix api_name=False

* Add more to test"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-06-29T19:05:25Z,"Updates to the API endpoints / docs, and fixing the Theme builder (#4683)

* view API fixes

* code snippet js

* changelog

* api name false

* examples

* client trigger tests

* fix typecheck

* black

* type

* typing

* typing

* update gif

* type ignore

* added tests

* format

* added test

* test

* fix guides

* snippet

* tests

* fix tests

* add test

* fix typing

* fix test

* remove comments"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-06-21T19:57:24Z,"Fix bug duplicating spaces with default cpu hardware (#4583)

* Fix bug

* Add CHANGELOG

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-06-15T22:20:06Z,"Fix client test that broke  (#4539)

* Fix test

* Fix other test

* Add fix"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-06-14T22:08:10Z,"Fix output directory of files in client & when calling Blocks as function (#4501)

* output dirs

* remove

* remove

* remove

* changelog

* format

* add tests

* docstring

* changelog

* client

* blocks

* fix test"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-06-06T15:40:56Z,"Call mounted gradio app via api (#4435)

* Fix bug

* Add changelog"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-19T21:22:12Z,"Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-16T18:32:42Z,"Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-11T21:49:41Z,"hotfix for test (#4173)

* hotfix for test

* removed comment"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-10T23:52:07Z,"Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-10T15:13:52Z,"Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-08T20:47:40Z,"Removing ""State"" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-06T00:10:34Z,"[WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-05-01T23:24:54Z,"Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-26T22:38:46Z,"Fix view_api bug where unnamed rotes where showing api_name instead of fn_index (#3972)

* Fix view_api bug

* Add to changelog

* Rework test"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-26T15:11:28Z,"Use local demos for client tests (#3975)

* Fix tests

* Fix tests

* Address comments"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-24T16:52:10Z,"Support gr.Progress() in python client (#3924)

* Add progress message

* CHANGELOG

* Dont use pydantic

* Docs + local test

* Add gr to requirements

* Remove editable install

* make a bit softer"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-13T23:20:33Z,"Update view api page to use Python client (#3765)

* Update view api page

* simplify

* update

* changes

* changes

* updated info

* formatting

* changes

* fixes

* save

* moved

* remove test input

* tweaks

* formatting

* add raw

* serialize

* fixes

* refactor

* fixes

* fixes

* Fetch api

* lower case

* view api

* fix tests

* format

* rough design

* readme

* api docs

* examples

* format

* formatting

* format

* version

* client changes

* formatting

* update client

* more example inputs

* api docs fixes

* remove notebook

* fix demo

* demo notebook

* styling on code snippet

* formatting

* fix audio, model3d

* format

* fix tests

* version

* cleanup

* format

* format

* format

* fixes

* version

* fix tests

* version

* format

* test

* format

* changelog

* changelog

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-13T19:30:11Z,"[WIP] Client duplicate fixes (#3843)

* client duplicate fixes

* fixes

* formatting

* changes

* fixing tests

* formatting"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-12T20:26:37Z,"Allow client to be duplicated from an existing Space (#3809)

* client

* readme

* readme

* fixes

* cleanup

* error messages

* format

* updates

* format

* build

* fixes

* fix tests

* Update client/python/gradio_client/client.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* set timeout

* rename

* format

* rename

* sleep timeout

* format

* mock secrets

* format

* format

* docstring

* fix test

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-12T02:38:17Z,"Python Client: Handle invalid space state (#3822)

* Raise error on status check

* Add BUILDING

* Remove SLEEPING"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-11T23:06:48Z,"Adding subtitles to `gr.Video` (#3673)

* v2 version now accepts video and subtitle format inputs.

* remove debug log and some format issue

* Update CHANGELOG.md

* Upload components.py and regenerate demo

* fix components and add comment to function

* fix postprocess return format

* changelog

* demo change to gr.Interface type

* fix file_types

* fixes

* added video serializer

* clean up preprocess

* clean up postprocess

* formatting

* frontend

* fixed serialization

* dataclass

* fix serialize

* version

* fix tests

* version

* changelog

* typing

* version

* changelog

* version

* versin

* fix tests

* fix tests

* backend

* test

* changes

* relax test

* fix demo

* notebook

* changes

* fix

* changes

* Update gradio/components.py

* Update client/python/gradio_client/client.py

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-09T14:22:49Z,"Python client cancel jobs (#3787)

* Working impl

* Add tests:

* formatting

* Fix typo

* Always reset iterator state

* Add httpx

* Fix test

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-07T23:42:59Z,"Python Client: Upload files via /upload for File components  (#3771)

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add uploadbtn

* Add support for upload btn

* revert

* Add size to FileSerializable

* Serialize multiple files

* lint

* Make changes to deserialize

* Fix multiple file upload case

* Modify test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-05T18:19:05Z,"Make Client Jobs Iterable (#3762)

* Add iterator

* Break if done

* Add test for early termination"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-04T21:58:25Z,"Get Intermediate Results from Python Client (#3694)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add intermediate results to python client

* Type check

* Typecheck again

* Catch exception:

* Thinking

* Dont read generator from config

* add no queue test

* Remove unused method

* Fix types

* Remove breakpoint

* Fix code

* Fix test

* Fix tests

* Unpack list

* Add docstring

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-04T17:35:12Z,"Add root_url to serializers in gradio_client (#3736)

* Add root_url to serializers

* Add url fix

* Respect fn parameter

* Fix docstring

* Add other test

* Pass to method"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-02T22:28:46Z,"Fix some bugs related to Python client (#3721)

* client format

* docs

* formatting

* fix tests

* fixed bug

* api endpoint changes

* fix tests

* fix tests

* formatting

* Add support for sessions [python client] (#3731)

* client

* add state and tests

* remove session param"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-04-01T19:07:15Z,"Fix Serializer Mapping  (#3722)

* Fix mapping and test

* Bump gradio version

* Revert gradio version bump"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-03-29T22:41:12Z,"Add status for Python Client Jobs (#3645)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add two concurrent test"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-03-29T22:00:20Z,"Documentation-related fixes to the python client (#3663)

* docstring

* add documentation

* added more serialization classes

* format

* info

* is valid

* formatting

* changes

* fixups

* fix tests

* machine readable

* formatting

* client

* format

* tweaks on printing

* version

* linting

* fix tests

* update pypi requirements

* updates

* type ignore'

* fixes

* formatting"
github.com/gradio-app/gradio,client/python/test/test_client.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-03-01T12:25:52Z,"Compatibility with latest transformers (#573)

* transformers latest compat

* skip awq tests"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-19T13:36:41Z,"Support loading sharded quantized checkpoints. (#425)

* Support loading sharded quantized models. (fused_attention not working)

* Pass index.json instead of directory.

* Fix unintended formatting changes.

* Fix hub index file lookup.
Add sharded loading test case.

* Not a penny in sight just some lint. Coding is ruff.

* refactor

* comment

---------

Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-15T14:39:46Z,"Make all tests pass (#546)

* fix tests

* all tests pass

* typog"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-15T12:17:05Z,"Disable peft compatibility (#543)

* disable peft compat

* free disk space in workflows"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-14T13:05:52Z,"Marlin kernel can be built against any compute capability (#540)

* wip

* fast marlin repacking

* give credit

Co-authored-by: =?UTF-8?q?=E6=A5=9A=E5=A4=A9=E7=BF=94?=
 <tianxiang.ctx@alibaba-inc.com>

* guard on cuda_arch

* update readme

---------

Co-authored-by: =?UTF-8?q?=E6=A5=9A=E5=A4=A9=E7=BF=94?= <tianxiang.ctx@alibaba-inc.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-13T16:06:07Z,"Use ruff for linting (#537)

* lint

* add back init

* remove pyproject.toml that automatically triggers build isolation

* install torch

* maybe use 3.9?

* debug

* upgrade setuptools

* maybe ubuntu 22.04?

* wheel

* working now?

* typog

* indent

* fix indent

* do not use powershell

* free space

* fix cuda path

* prints

* where is conda?

* should finally work

* fix

* final fixN

* arch ist

* typog

* add quality extra

* last fix"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-12T13:05:01Z,"Untie weights for safetensors serialization (#536)

* safetensors can not handle tied weights

* add recursive getattr/setattr"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-02-12T10:51:43Z,"updated marlin serialization (#522)

* updated marlin serialization

* Update marlin_utils.py

* stash

* updated serialization methods per fxmarty request

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* cleanup

* nits and add tests

---------

Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-01-26T10:40:52Z,"fix the support of Qwen (#495)

* fix nested_move_to_device

* Update auto_gptq/modeling/_base.py

* Update auto_gptq/modeling/_base.py

* Update auto_gptq/modeling/_base.py

---------

Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-01-21T16:15:18Z,"add marlin kernel (#514)

* add marlin kernel

* cleaner integration, test, cache marlin model

* remove accelerate bug call for now

* Fixed workspace related bugs and added compatibility with CUDA graphs

* support bias

* reshape to view

* use working checkpoint in test

* doc

* typo

---------

Co-authored-by: Félix Marty <9808326+fxmarty@users.noreply.github.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2024-01-19T15:07:18Z,"Support inference with AWQ models (#484)

* add awq support

* add test & benchmark

* exllama, exllamav2, cuda-old kernels working

* co-author

Co-authored-by: ""ilyas@huggingface.co"" <moutawwakil.ilyas.tsi@gmail.com>

* cleaning

* fix awq/exllamav2 benchmark

---------

Co-authored-by: Your Name <you@example.com>
Co-authored-by: ""ilyas@huggingface.co"" <moutawwakil.ilyas.tsi@gmail.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-12-14T07:30:53Z,"Fix compatibility with transformers 4.36 (#483)

* compatibility with transformers 4.36

* fix"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-12-13T15:58:29Z,"Only make_quant on inside_layer_modules. (#479)

* Skip make_quant on layers not in inside_layer_modules.

* Make inside_layer_modules less strict during quantization. Allows for different configuration of MoE experts."
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-12-04T13:38:19Z,"Update _base.py (#465)

Model load fix"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-11-07T16:52:29Z,"Fix quantize method with None mask (#408)

* fix quantize method with none mask

* add test"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-11-02T15:21:49Z,"Fix dtype issues and add relevant tests (#393)

* fix various dtype issues & add tests

* fix dtype issues & add tests"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-10-30T09:16:21Z,"Default to exllama kernel when exllama v2 is disabled (#387)

* default to exllama when exllama v2 is disabled

* apply to import_utils

* fix test"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-10-27T06:58:11Z,"use_safetensors defaults to True, allow loading a model with basename (#383)"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-27T02:37:31Z,"Revert ""fix bug(breaking change) remove (zeors -= 1)"""
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-26T06:09:04Z,Merge branch 'main' into main
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-26T06:00:38Z,"Merge pull request #335 from z80maniac/ignore-extra-args

Ignore unknown parameters in quantize_config.json"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-25T16:51:18Z,exllamav2 integration
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-10T15:39:40Z,Ignore unknown parameters in quantize_config.json
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-08T01:16:29Z,GPTQ backward compatibility support
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-09-06T07:41:41Z,fix bug
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-31T11:04:02Z,"Merge pull request #310 from PanQiWei/fix_to()_metod_bug

fix model type changed after calling .to() method"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-31T10:39:03Z,fix model type changed after calling .to() method
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-31T05:37:39Z,install check qigen
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-25T09:06:03Z,Merge remote-tracking branch 'qwopqwop200/main' into main
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-24T11:22:15Z,expose api to set exllama max length
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-17T06:22:16Z,qigen refactoring
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-11T06:04:58Z,chang name make_quant_cpu to make_quant_qigen
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-11T00:51:36Z,use_cpu name change and default dtype change
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-10T13:48:04Z,support cpu
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-09T09:42:22Z,make exllama_kernels compilation as optional
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-08T05:11:39Z,static groups default value change
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-07T07:27:48Z,support static_groups and fix bug
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-08-01T03:29:58Z,if training disable exllama
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-31T14:28:37Z,fix bug quantization config loading
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-31T13:46:32Z,fix fused attn
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-31T11:50:45Z,exllama kernel
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-26T09:58:04Z,remove argument 'save_dir' in method `from_quantized`
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-26T03:54:47Z,"Merge pull request #208 from TheBloke/TB_Add_SafeTensors_Metadata

Add Safetensors metadata saving, with some values saved to each .safetensor file"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-25T21:14:21Z,safetensors_metadata: add conversion to str() for input metadata to avoid errors from save_safe. Warn if this results in keys being overwritten.
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-25T14:25:24Z,Add version to metadata using new  value
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-25T13:26:37Z,Extend huggingface_hub features to AutoGPTQForCausalLM.from_pretrained() so models can be quantised from the hub including using a private token and revision/branch etc
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-25T12:48:33Z,"Fix revision and other huggingface_hub args for .from_quantized(), which were not being passed through"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-07-25T11:30:39Z,Add support for Safetensors metadata
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-06-02T11:11:59Z,Merge branch 'main' into peft_integration
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-31T14:11:16Z,support older version python
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-30T14:53:33Z,add warning
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-29T23:37:15Z,"Merge pull request #91 from TheBloke/TheBloke_support-HF-download

Add support for HF Hub download, and `push_to_hub`"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-29T23:26:42Z,"Update _base.py

fix problem that recursively adding file extension to model_base_name"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-29T23:22:10Z,"Update _base.py

fix variable not found error"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-29T22:44:45Z,"Update _base.py

fix key mismatch"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-29T22:40:31Z,"Update _base.py

add model_name_or_path and model_file_base_name to BaseQuantizeConfig for better model file management; add back save_dir to .from_quantized() for backward compatible"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-28T08:23:38Z,Merge branch 'main' into peft_integration
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-26T22:49:28Z,add dtype
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-26T06:29:33Z,move peft compatible model injection to the last step
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-26T05:11:30Z,add trainable mode
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-25T23:18:16Z,refactor file structure of qlinears
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-25T07:10:33Z,add hack of __getattr__
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-25T06:05:51Z,Fix bug added after merge
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-25T06:02:13Z,Merge branch 'main' into TheBloke_support-HF-download
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-25T05:33:09Z,generalize QuantLinear
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T09:56:46Z,update basic usage example code
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T09:43:38Z,correct typo of function name
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T09:41:04Z,remove full_cpu_offload argument and unify model dispatch strategy
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T09:01:57Z,remove add_align_logits_hook_to_model
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T05:42:06Z,disable add_align_logits_hook_to_model for now
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T04:50:30Z,support add_align_logits_hook_to_model
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T03:38:29Z,make comments more readable
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T03:32:45Z,make_sure_not_tensor_in_meta_device before load checkpoint
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T03:23:07Z,remove comment
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T03:19:59Z,fix meta device bug when use low_cpu_mem_usage
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-24T02:56:31Z,always to enable QuantLinear bias to make compatible with model quantized from other frameworks
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-23T15:22:52Z,fix device mismatch
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-23T15:18:46Z,add warmup_triton method
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-23T15:17:11Z,fix save quantized model failed when load pretrained model using CPU offload
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-23T14:51:00Z,add options: 'low_cpu_mem_usage' and 'full_cpu_offload'
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-20T09:32:27Z,Clean up some unused params
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-20T08:15:20Z,fix ImportError when triton is not installed
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-20T07:04:27Z,"Merge pull request #84 from TheBloke/TheBloke_forward-positional-args

Forward position args to allow `model(tokens)` syntax"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-20T07:00:05Z,"Merge pull request #80 from PanQiWei/user_customized_device_map

Support users customize `device_map`"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-19T16:50:48Z,Remove debugging print line
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-19T16:10:57Z,Add push_to_hub for HF hub uploading
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-19T14:57:05Z,Initial support for model loading from HF hub
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-19T14:15:43Z,Implement HF cached download for quantize_config
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-16T11:19:52Z,Forward position args to allow  syntax
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-15T05:26:38Z,support user customize device_map
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-15T03:00:05Z,Look for .pt files
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-14T05:07:18Z,fix bugs
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-14T03:49:10Z,refactor file structure for triton kernels
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-12T12:11:55Z,make code clean and extendable
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-12T11:36:00Z,skip fused module injection instead of raising error if it's not supported yet.
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-12T10:09:50Z,refactor .from_quantized api and improve model loading strategy
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-05T13:44:16Z,Fix 'groupsize' -> 'group_size' in all other .py files. I haven't touched any CUDA kernels in case there's any complexity there I don't understand
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-04T00:03:36Z,support faster and model load strict
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-02T13:16:23Z,add auto model parameter
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/modeling/_base.py,2023-05-02T10:50:59Z,"Merge pull request #44 from PanQiWei/fix-bug-cuda

Fix bug cuda"
github.com/microsoft/LMOps,minillm/transformers/src/transformers/trainer.py,2023-11-16T12:47:19Z,upgrade transformers
github.com/microsoft/LMOps,minillm/transformers/src/transformers/trainer.py,2023-08-16T03:11:32Z,upgrade transformers
github.com/microsoft/LMOps,minillm/transformers/src/transformers/trainer.py,2023-06-14T11:44:35Z,add minillm
github.com/williamyang1991/VToonify,vtoonify_model.py,2022-10-04T11:51:18Z,Update vtoonify_model.py
github.com/williamyang1991/VToonify,vtoonify_model.py,2022-10-03T02:06:01Z,Update vtoonify_model.py
github.com/williamyang1991/VToonify,vtoonify_model.py,2022-10-03T02:00:51Z,Update vtoonify_model.py
github.com/williamyang1991/VToonify,vtoonify_model.py,2022-10-03T01:31:23Z,vtoonify_model.py for web demo in colab notebook
github.com/microsoft/LMOps,minillm/transformers/src/transformers/utils/hub.py,2023-11-16T12:47:19Z,upgrade transformers
github.com/microsoft/LMOps,minillm/transformers/src/transformers/utils/hub.py,2023-08-16T03:11:32Z,upgrade transformers
github.com/microsoft/LMOps,minillm/transformers/src/transformers/utils/hub.py,2023-06-14T11:44:35Z,add minillm
github.com/bentoml/BentoML,examples/sentence-embedding/prepare_model.py,2024-02-01T09:27:33Z,"feat: add e2e tests for new SDK (#4352)

* feat: add e2e tests for new SDK

Signed-off-by: Frost Ming <me@frostming.com>

* fix:test setup

Signed-off-by: Frost Ming <me@frostming.com>

* feat: add new sdk tests

Signed-off-by: Frost Ming <me@frostming.com>

* fix: typing compatibility

Signed-off-by: Frost Ming <me@frostming.com>

* fix: compatibility

Signed-off-by: Frost Ming <me@frostming.com>

* fix: adjust test data

Signed-off-by: Frost Ming <me@frostming.com>

* fix: change the verify data

Signed-off-by: Frost Ming <me@frostming.com>

* fixup

Signed-off-by: Frost Ming <me@frostming.com>

* fix: function signature and defaults

Signed-off-by: Frost Ming <me@frostming.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2024-02-12T17:21:11Z,"strengthened chat formatting validation (#960)

* strengthened chat formatting validation

* fix types

* made assert messages more descriptive

* used raise instead of assert, added type checks

* added list type check

* type error if no string content

* add test case for new validation

* relaxed type constraints to interface minimum

* use Mapping and Iterable

* fix mapping in type aliases too

* iterable -> sequence

* sequence -> list

* Mapping -> Dict

* use mapping again

* fixed another one

* updated message

* factored out duplicate functions

* dict -> mapping

* add sequence"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2024-02-09T01:24:39Z,"Add streams support (#946)

* add convert

* fix

* fix convert

* add jsonl

* revert setup

* test precommit

* pre-commit

* test pre-commit

* v0

* review comments

* temporarily trigger test

* test

* add convert

* fix

* v0

* fix

* fix MDS write

* streams support

* fake commit

* fix setup

* format

* add back arxiv

* trigger test

* review comments

* temporarily trigger test

* test

* add convert

* fix

* fix

* fix MDS write

* format

* trigger test

* fix

* format

* resolve conflicts

* add back jsonl

* fix yaml

* comments

* format

* comments

* comments

* add unit test

* comments

* comments

* merge

* format

* typo

* Update llmfoundry/data/finetuning/dataloader.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2024-02-08T06:58:15Z,"add finutuning with streaming dataset example (#945)

* add convert

* fix

* fix convert

* add jsonl

* revert setup

* test precommit

* pre-commit

* test pre-commit

* v0

* review comments

* temporarily trigger test

* test

* fix yaml

* comments

* comments

* comments

* add unit test

* comments

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2024-02-06T23:42:03Z,"Add finetuning streaming dataset conversion (#933)

* add convert

* fix

* fix convert

* add jsonl

* revert setup

* test precommit

* pre-commit

* test pre-commit

* review comments

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

* Update scripts/data_prep/convert_finetuning_dataset.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2024-01-26T14:47:19Z,"Adds support for chat formatted finetuning input data. (#884)

* fix conflicting formatting linting guidelines

* used older union operator for legacy support

* did the same thing in another place

* isort ignore specific lines

* fixes

* isort do not skip line

* address comments

* renamed some more things

* split tests and add some verification for tokenization split

* fix formatting

* added docstrings

* added end-to-end-test with HF dataset

* fix code style

* renamed file and fixed tests

* use chat template diff

* addressed comment

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

* fixed type of TokenizedExample

* use cast

* use _ALLOWED_{PROMPT, RESPONSE}_KEYS

* updated tests

* fix

* fix?

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

* Update llmfoundry/data/finetuning/tasks.py

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2024-01-05T02:36:54Z,Add safe_load option to restrict HF dataset downloads to allowed file types (#798)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-12-15T23:42:35Z,"Clean up the logs, bump datasets and transformers (#804)"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-12-02T01:27:51Z,"Add ""completion"" alias for response key (#771)"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-11-21T20:30:44Z,Catch exception raised in hf prep properly (#749)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-11-13T22:35:41Z,Better defaults for StreamingDataset subclasses (#723)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-11-10T00:40:26Z,"Combine filters into one, to avoid datasets error (#729)"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-11-09T15:39:12Z,"Attempt to fix a very occasional hang in datasets map/filter (#725)

* dont use lambdas
* tokenizer building distributed safety"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-11-06T22:01:42Z,Run HF dataset processing on local rank 0 first (#716)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-11-01T17:29:53Z,Add num_proc to map and filter calls (#706)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-09-26T00:51:53Z,Replace dashes with underscores in split name (#626)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-09-16T05:32:15Z,"Updated streaming args for StreamingDataset subclasses (#602)

* Fix streaming dataset setup for fine-tuning

Currently, when a StreamingFinetuningDataset is created using the
build_finetuning_dataloader method, a failure is returned as some
incorrect parameters are passed through to the constructor of
StreamingFinetuningDataset. This patch fixes the paramter mismatch and
adds test coverage for this case.

* updated StreamingTextDataset and StreamingFinetuningDataset with new streaming args, bumped streaming version

* updated StreamingTextDataset and StreamingFinetuningDataset with new streaming args, bumped streaming version

---------

Co-authored-by: Aiden Grossman <agrossman154@yahoo.com>
Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-09-14T16:42:24Z,Add lots of return types (#595)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-09-13T00:08:56Z,"Refactor logging (#234)

Replaces most print statements with proper logging. Deprecates the `verbose` argument in favor of using the `python_log_level` argument that is also used by composer."
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-09-05T22:44:15Z,Add handling for various types of malformed finetuning data (#576)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-08-25T04:07:43Z,"Fix propagation of `drop_last` and add error message when it would produce no batches (#549)

* add error message, text, and fix drop last

* pyright

* pyright

* pyright

* lots of fixes

* precommit

* precommit"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-08-02T18:20:04Z,Adding pyright to pre-commit (#477)
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-06-27T01:31:19Z,"Adds max seq len filter before finetuning ds (#359)

* attempt fix for hf side

* fix

* fix cpu count

* Apply suggestions from code review

Co-authored-by: Alex Trott <alex@mosaicml.com>

* lint

---------

Co-authored-by: Daniel King <daniel@mosaicml.com>
Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>
Co-authored-by: Alex Trott <alex@mosaicml.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-06-27T00:18:00Z,"Onboarding tutorial and related improvements (#205)

This PR includes a handful of onboarding/tutorial resources and improvements, with the majority of the change being a new TUTORIAL.md file that is meant to provide a more in depth explanation of the repo, guidance on example workflows, and FAQs.

A couple QOL features related to finetuning have snuck on board."
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-06-22T04:56:00Z,"Revert ""Filter out sequences where prompt is longer than max length, rather than dropping them on the fly later (#348)"" (#354)

This reverts commit 2167c0e6fd0a7b837c230f26e8be974bb2951be6."
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-06-22T00:44:54Z,"Filter out sequences where prompt is longer than max length, rather than dropping them on the fly later (#348)

* attempt fix for hf side

* fix

* fix cpu count"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-06-20T23:16:55Z,"Upgrade to `mosaicml-streaming==0.5.x` (#292)

* Changes to support streaming 050

* Renamed samples to choose in stream

* Create tasks-light.yaml

* Rename tasks-light.yaml to tasks_light.yaml

* remove tasks_light

* upgrade streaming to 050

* Update llmfoundry/data/text_data.py

Co-authored-by: Vitaliy Chiley <6439018+vchiley@users.noreply.github.com>

* updt to stream 0.5.1

* enable kwargs to pass to init direct

---------

Co-authored-by: Karan Jariwala <karankjariwala@gmail.com>
Co-authored-by: Jonathan Frankle <jonathanfrankle@gmail.com>
Co-authored-by: Vitaliy Chiley <6439018+vchiley@users.noreply.github.com>
Co-authored-by: Vitaliy Chiley <vitaliy@mosaicml.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-05-19T19:36:25Z,"Rename datasets to avoid hf conflict (#175)

* rename datasets to avoid hf conflict

* consistent HF datasets import

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-05-17T00:26:17Z,"Changed the keep_zip default to False to comply with StreamingDataset (#150)

* Changed the keep_zip default to False to comply with StreamingDataset

* keep_zip only accept boolean in StreamingDataset"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-05-04T20:15:38Z,"Overhaul finetuning preprocessing (#24)

Overhauls the way finetuning supports data preprocessing"
github.com/mosaicml/llm-foundry,llmfoundry/data/finetuning/tasks.py,2023-04-29T02:39:48Z,Refactor codebase for LLM only code
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/utils/marlin_utils.py,2024-02-19T10:37:13Z,"Fix bias materialization for Marlin (#554)

* fix bias materialization

* fix tests

* make things simpliert"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/utils/marlin_utils.py,2024-02-14T10:57:55Z,"Marlin repacking CUDA kernel (#539)

* wip

* fast marlin repacking

* give credit

Co-authored-by: =?UTF-8?q?=E6=A5=9A=E5=A4=A9=E7=BF=94?=
 <tianxiang.ctx@alibaba-inc.com>

---------

Co-authored-by: =?UTF-8?q?=E6=A5=9A=E5=A4=A9=E7=BF=94?= <tianxiang.ctx@alibaba-inc.com>"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/utils/marlin_utils.py,2024-02-13T16:06:07Z,"Use ruff for linting (#537)

* lint

* add back init

* remove pyproject.toml that automatically triggers build isolation

* install torch

* maybe use 3.9?

* debug

* upgrade setuptools

* maybe ubuntu 22.04?

* wheel

* working now?

* typog

* indent

* fix indent

* do not use powershell

* free space

* fix cuda path

* prints

* where is conda?

* should finally work

* fix

* final fixN

* arch ist

* typog

* add quality extra

* last fix"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/utils/marlin_utils.py,2024-02-12T13:05:01Z,"Untie weights for safetensors serialization (#536)

* safetensors can not handle tied weights

* add recursive getattr/setattr"
github.com/AutoGPTQ/AutoGPTQ,auto_gptq/utils/marlin_utils.py,2024-02-12T10:51:43Z,"updated marlin serialization (#522)

* updated marlin serialization

* Update marlin_utils.py

* stash

* updated serialization methods per fxmarty request

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* cleanup

* nits and add tests

---------

Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>"
github.com/huggingface/text-generation-inference,server/tests/utils/test_hub.py,2023-12-21T16:29:23Z,"Fix local load for peft (#1373)

local directory overloaded still needs the directory to locate the
weights files correctly.

# What does this PR do?

<!--
Congratulations! You've made it this far! You're not quite done yet
though.

Once merged, your PR is going to appear in the release notes with the
title you set, so make sure it's a great title that fully reflects the
extent of your awesome contribution.

Then, please replace this with a description of the change and which
issue is fixed (if applicable). Please also include relevant motivation
and context. List any dependencies (if any) that are required for this
change.

Once you're done, someone will review your PR shortly (see the section
""Who can review?"" below to tag some potential reviewers). They may
suggest changes to make the code even better. If no one reviewed your PR
after a week has passed, don't hesitate to post a new comment
@-mentioning the same persons---sometimes notifications get lost.
-->

<!-- Remove if not applicable -->

Fixes # (issue)


## Before submitting
- [ ] This PR fixes a typo or improves the docs (you can dismiss the
other checks if that's the case).
- [ ] Did you read the [contributor
guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),
      Pull Request section?
- [ ] Was this discussed/approved via a Github issue or the
[forum](https://discuss.huggingface.co/)? Please add a link
      to it if that's the case.
- [ ] Did you make sure to update the documentation with your changes?
Here are the
[documentation
guidelines](https://github.com/huggingface/transformers/tree/main/docs),
and
[here are tips on formatting
docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).
- [ ] Did you write any new necessary tests?


## Who can review?

Anyone in the community is free to review the PR once the tests have
passed. Feel free to tag
members/contributors who may be interested in your PR.

<!-- Your PR will be replied to more quickly if you can figure out the
right person to tag with @


@OlivierDehaene OR @Narsil

 -->"
github.com/huggingface/text-generation-inference,server/tests/utils/test_hub.py,2023-12-21T16:25:22Z,"feat: update exllamav2 kernels (#1370)

Co-authored-by: Nicolas Patry <patry.nicolas@protonmail.com>"
github.com/huggingface/text-generation-inference,server/tests/utils/test_hub.py,2023-12-18T09:20:08Z,"fix: fix offline (#1341) (#1347)

@oOraph

---------

Signed-off-by: Raphael Glon <oOraph@users.noreply.github.com>
Co-authored-by: Raphael Glon <oOraph@users.noreply.github.com>"
github.com/huggingface/text-generation-inference,server/tests/utils/test_hub.py,2023-03-07T17:52:22Z,feat(clients): Python client (#103)
github.com/huggingface/text-generation-inference,server/tests/utils/test_hub.py,2023-02-14T12:02:16Z,feat: add safetensors conversion (#63)
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2024-02-01T08:26:26Z,fix adding files to zip
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2024-01-30T15:11:43Z,"wave 0.26.3 and SQLAlchemy 2.0 (#591)

* wave 0.26.3

* Update requirements.txt

* README fix

---------

Co-authored-by: pascal-pfeiffer <pascal-pfeiffer@users.noreply.github.com>"
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2024-01-29T19:37:40Z,"Revert ""h2o-wave==1.0.0 and SQLAlchemy upgrade (#582)"" (#589)

This reverts commit 0093e3f8c6d9b30f8e930044e08446c8d69a3b13."
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2024-01-29T16:53:55Z,"h2o-wave==1.0.0 and SQLAlchemy upgrade (#582)

* h2o-wave = ""==1.0.0"" and minor upgrades

* Update requirements.txt

* SQLAlchemy

* Update requirements.txt

* replaced deprecated use_auth_token with token

* upd changed-filesv35 to changed-filesv41

* mapped_column

* use of __wave_submission_name__

* more __wave_submission_name__

* justify=""start"" footer

---------

Co-authored-by: pascal-pfeiffer <pascal-pfeiffer@users.noreply.github.com>"
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2024-01-26T09:28:10Z,allow to bypass config checks
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-11-29T11:05:39Z,improve problem type handling
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-11-14T14:08:56Z,Refactor classification ds
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-11-13T16:19:58Z,Fix download model
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-11-06T15:30:32Z,Download classification head if available
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-10-24T10:10:49Z,fix differential lr plots
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-10-24T09:04:16Z,Check config for issues
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-10-24T07:52:06Z,"deepspeed (#288)

* deepspeed

* shard

* full param deepspeed works by this commit

* offload optimizer & documentation

* format & fix save deepspeed weight

* format & update save_checkpoint

* update pipfile

* update pipfile

* zero init for transformers

* add some new config

* fix bug

* min 1e6

* update deepspeed config

* Update requirements.txt

* remove duplicate code

* throw warning when compile w/ deepspeed

* black

* integrate deepspeed into wrap_model_distributed

* remove unuse code

* style

* fix bug

* fix bug

* max token len to 16k

* deepspeed save lora

* update get optimizer

* fix check disk

* comment out offload CPU

* Pipfile.lock

* Update requirements.txt

* make black

* add default

* minor fix

* minor fix

* minor fix

* fix val loader

* potential val loader fix

* update

* lock

* Update requirements.txt

* improve model saving for deepspeed

* solved INFLIGHT problem

* update doc

* deepspeed default push to hub by cpu

* Revert ""improve model saving for deepspeed""

This reverts commit 62fc9c5052076c455b4fa3affe027c453bd0d8c5.

* remove unuse code

* Update requirements.txt

* deepspeed==0.11.1

* Update requirements.txt

* temp fix for deepspeed slow gen

* style

* style

* fix

---------

Co-authored-by: haqishen <haqishen@gmail.com>
Co-authored-by: Philipp Singer <killver@gmail.com>
Co-authored-by: psinger <psinger@users.noreply.github.com>"
github.com/h2oai/h2o-llmstudio,llm_studio/app_utils/sections/experiment.py,2023-08-28T07:30:04Z,"add integration tests for all problem types (#380)

* piplock

* mv app_utils

* fix imports

* add prep data test

* add tests for all three problem types

* Update requirements.txt

* BLEU until https://github.com/h2oai/h2o-llmstudio/issues/381 is fixed

* add coverage

* need_gpus decorator

* fix merge issue

* paths"
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-10-28T18:05:25Z,add Indonesian language
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-09-19T19:14:22Z,add Thai language
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-09-14T20:22:20Z,add Serbian and Croatian for [Feature Request]: New languages #446
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-08-17T19:09:50Z,Support arabic with m2m100
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-05-29T22:52:10Z,Update nllb.py
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-03-14T02:45:04Z,Rename ModelWrapper.forward to infer to avoid confusion with pytorch
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-03-09T14:06:13Z,Make huggingface_hub an optional dependency
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-03-09T00:58:22Z,Remove intersections in the renderer
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-03-07T22:54:23Z,Fix nllb translator
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-02-14T20:37:47Z,Furthen the usage of the logging module
github.com/zyddnys/manga-image-translator,manga_translator/translators/nllb.py,2023-02-09T22:58:37Z,"Refactor translate_demo and restructure project

Moved python files to manga_translator folder and created
MangaTranslator class which embodies the demo and batch mode.
This will make using this translator as a library easier."
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-27T14:55:23Z,support delete_original model files
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-25T22:17:48Z,add macos support
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-19T05:05:26Z,add prefetching
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-08T00:17:18Z,support hf token
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-05T18:52:23Z,add more download files validation
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-03T17:53:08Z,add support of chatglm
github.com/lyogavin/Anima,air_llm/airllm/utils.py,2023-12-03T00:11:27Z,"add safetensors model support, fix profiling, refactor code, fix typo"
github.com/marqo-ai/marqo,src/marqo/s2_inference/processing/yolox_utils.py,2022-12-13T22:45:12Z,"Visual search update release (#214)

* Visual search update (#210)

* add parametrisation for chunking, overlapping boxes and combined model+boxes

* add more tests

* integrate yolox and simple grid changes

* helper functions for opencv and yolox

* add yolox patch class and helper functions

* update to use opencv

* update model cache and add logging

* fix model caching and device selection

* device conflicts

* add attention based bb generation

* update bboxes and test yolo

* refactor and add attention based ViT for bb determination

* create dino specific utils file for vit attention

* include dino files

* split the image file into seperate utils

* refactor, split into seperate files and use a proper base class

* add more tests

* update and add more tests

* refactor and clean up

* add more packages

* clean up and refactor

* update tests

* docker and cloud versions

* change

* fix device for owl

* update types and dco strings

* rename file

* rename file

* move tests

* pytorch utils test

* add another error for model loading

* update functions to handle some edge cases and update types

* add more tests

* update the yolox utils to download the proper model

* add yolox specific tests

* update reqs and setup to be on the latest

* update dockerfile to be same as new one

* clean up

* add the example and app

* update file locations

* update demo

* bump model version

* update demo

* minor text edits

* update demo

* update demo

* better error handling

* update tests

* change to PIL error

* add more error types

* small fixes for errors

* error handling

* update tests

* remove models

* clean up, doc strings and formatting

* update tests

* minor formatting

Co-authored-by: Jesse Clark <jesse@s2search.io>

* update some function names after merge

* clean up and rename

* Pinning tox ci (#211)

* Branch aware ci tests (#209)

* set the MQ_API_TEST_BRANCH to the current branch

* setting github ref to just branch name

* Adding quotes around env var

* fixed syntax error

* parsing the github.ref string

* exporting just before running

* added image_to_test input

* fix: typo

* default image to test is now explicit

* updated documentation for image_to_test var

* Update unit_test_CI.yml

* tox pinned to 3.26

Co-authored-by: pandu-k <107458762+pandu-k@users.noreply.github.com>
Co-authored-by: Pandu Oliver Kerr <pandu@s2search.io>

* Update Dockerfile

remove space

* clean up

* move to headless opencv

* tidying up

* update error

* minor edits

* fix PR feedback and add more descriptions in the docstrings

* use literal type

* clean up, make the names more descriptive

* change logging level to debug for some messages

Co-authored-by: Jesse Clark <jesse@s2search.io>
Co-authored-by: pandu-k <107458762+pandu-k@users.noreply.github.com>
Co-authored-by: Pandu Oliver Kerr <pandu@s2search.io>"
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-30T00:03:09Z,"Add mergekit-moe script (#141)

Also incidentally adds support for merging Mixtral models."
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-23T23:16:10Z,"Computation Graph Overhaul (Again) (#127)

Refactor the internal computational graph to make writing new tasks easier.

This time for real."
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-22T20:57:46Z,Revert #67
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-22T19:55:04Z,Fix str/bytes issue
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-22T18:46:46Z,"Computational Graph Overhaul (#67)

Refactor the internal computational graph to make writing new tasks easier.

Huge, invasive change for minimal immediate benefit, but makes my life
easier down the road for implementing more complicated merge methods."
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-03T05:58:30Z,"Phi 2 (#66)

Add support for Phi 2 models."
github.com/arcee-ai/mergekit,mergekit/common.py,2024-01-02T20:01:24Z,Bump copyright date to 2024
github.com/arcee-ai/mergekit,mergekit/common.py,2023-12-30T05:36:56Z,Propagate trust_remote_code to .config()
github.com/arcee-ai/mergekit,mergekit/common.py,2023-12-03T20:35:50Z,Cleanup and add pre-commit hook
github.com/arcee-ai/mergekit,mergekit/common.py,2023-11-29T07:02:50Z,"Lazy Pytorch Unpickler (#13)

Adds a flag `--lazy-unpickle` to `mergekit-yaml` that lazily loads
individual tensors instead of whole shards.

With this flag enabled I'm able to do a linear merge of two 13b models
in 16GB of RAM.

It's a little hacky and has to touch pytorch internals - I can't
guarantee it'll work right for 100% of models. Do let me know if it
breaks anything."
github.com/arcee-ai/mergekit,mergekit/common.py,2023-11-11T22:34:18Z,Add option for trust_remote_code when merging LoRA
github.com/arcee-ai/mergekit,mergekit/common.py,2023-10-06T03:06:09Z,Create mergekit package
github.com/mosaicml/llm-foundry,llmfoundry/utils/model_download_utils.py,2024-01-25T01:32:44Z,No symlinks at all for HF download (#908)
github.com/mosaicml/llm-foundry,llmfoundry/utils/model_download_utils.py,2024-01-23T03:16:08Z,Add `tokenizer-only` flag to only download tokenizers from HF or oras (#895)
github.com/mosaicml/llm-foundry,llmfoundry/utils/model_download_utils.py,2024-01-18T21:58:10Z,"Update model download utils to support ORAS (#881)

* wip

* wip

* Accept registry file for hostname

* Make sure no sensitive info is surfaced in subprocess error

* Refactor model downloading

* Save HF hub files to local dir

* fallback

* Remove commented code

* Update logging

* Update HTP download args

* Use files for ORAS

* Update llmfoundry/utils/model_download_utils.py

Co-authored-by: Irene Dea <deaairene@gmail.com>

---------

Co-authored-by: Irene Dea <deaairene@gmail.com>"
github.com/mosaicml/llm-foundry,llmfoundry/utils/model_download_utils.py,2023-11-10T01:16:39Z,"Fix logging verbosity in HF model download script and repair symlinks  (#727)

* Make logs appear and disable InsecureRequestWarning for ignore_cert

* Clean up

* Repair symlinks after cache download

* Clean up logging

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/mosaicml/llm-foundry,llmfoundry/utils/model_download_utils.py,2023-11-06T22:31:27Z,"Add Hugging Face model download script (#708)

* Add Hugging Face model download script

* Decode response bytes to string

* Clean

* Move download functions to foundry utils

* Clean up script

* Add bs4 dependency

* Fix typing

* Doc formatting

* Doc formatting

* Fix weights preference logic

* Unit tests for weights preference logic in download_from_hf_hub

* Unit tests for download_from_cache_server

* Add retries and unit tests

* pyright

* code quality checks

* precommit

---------

Co-authored-by: Daniel King <43149077+dakinggg@users.noreply.github.com>"
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-08-12T06:46:20Z,add License notices
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-20T08:46:21Z,"Revert ""add license notices""

This reverts commit 37504733b4b6be9baf8f6e6e9711873da3e46b7e."
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-20T08:46:16Z,"Revert ""change contact notices the discord server""

This reverts commit dc0031e1acb1bec29e421f399fefd2623de486e8."
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-19T22:26:40Z,change contact notices the discord server
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-19T22:21:16Z,add license notices
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-19T17:47:25Z,CLEAN MORE
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-17T11:39:16Z,C1
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-05-02T01:51:25Z,Depth Revise Part 1
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-04-14T06:14:22Z,fix file name length to 09d instead of 07d
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-04-07T16:04:38Z,finish add
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-03-18T19:03:30Z,bugfix
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-03-18T18:53:00Z,add option to keep 3d models in vram between runs
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-03-05T20:30:22Z,align img filenames to be of length 09.extension
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-27T08:56:23Z,"Revert ""Revert ""Merge pull request #339 from deforum-art/bad_apple!!""""

This reverts commit 483a973e0a9fc4197fe0a824598786fef52646ee."
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-26T22:58:47Z,"Revert ""Merge pull request #339 from deforum-art/bad_apple!!""

This reverts commit 6215a44d793ebc9a2915135e6c6dc0fee7712471, reversing
changes made to 27b508bd42b2b62fe7ee4f049303144861c6ca52."
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-26T14:39:13Z,fixup reference in None mode
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-26T12:59:06Z,don't load models on None mode
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-26T12:07:24Z,add 'None' mode to just threshold grayscale
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-15T22:14:28Z,"don't threshold segmentation output

it's already pretty well defined, and the depth cutoff settings definitely shouldn't apply to it"
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-15T21:14:08Z,track mode in out filenames
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-15T21:13:51Z,customize max thresh value
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T21:00:43Z,don't dither blurred edges
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T20:15:54Z,mixed mode: combine char. silh. + env. depth
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T12:39:42Z,don't dither in non-thresholding mode
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T12:20:15Z,ARB: batch size of 1 for now
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T11:56:38Z,fixup anime return value
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T11:56:26Z,adapt_block_size to int
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T11:48:57Z,fixup threshold return value
github.com/deforum-art/sd-webui-deforum,scripts/deforum_helpers/vid2depth.py,2023-02-14T10:43:15Z,"add vid2depth

need fixing some thresh modes"
github.com/xorbitsai/inference,xinference/model/audio/core.py,2024-02-05T08:21:05Z,REF: Supports `pydantic` v2 (#983)
github.com/xorbitsai/inference,xinference/model/audio/core.py,2024-01-25T09:00:20Z,FEAT: Support audio model (#929)
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-11-11T14:38:10Z,"fix: safer dump of `vectors` in the HuggingFace Hub (#4203)

# Description

This PR solves an issue that was happening (and is still happening)
related to the naming we're using for the columns in the HuggingFace Hub
dataset, as we're exporting each of the fields and responses using their
names in Argilla, and appending `-suggestion` or whatever feels
necessary, but we can run into conflicts in any `field` is name as any
other `question`, named `metadata` or named `external_id`, as well as
the other way around for `question`.

So on, this PR fixes that for the upcoming `vectors`, as those are
usually named after the field that those refer to, so instead of dumping
those under the same name, we're dumping a Python dict in a column named
`vectors` where each key-value pair is a vector name and its value.
Similarly to what was done previously for the former Argilla datasets.

**Type of change**

- [x] Bug fix (non-breaking change which fixes an issue)

**How Has This Been Tested**

- [x] Add integration tests for duplicated name on `vectors_settings`
for a given vector and ensured that it's dumped and restored properly

**Checklist**

- [x] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [x] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [x] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: Paco Aranda <francis@argilla.io>
Co-authored-by: Jose Francisco Calvo <jose@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-11-07T13:57:32Z,"feature: Similarity search in Feedback Datasets (#3815)

<!-- Thanks for your contribution! As part of our Community Growers
initiative 🌱, we're donating Justdiggit bunds in your name to reforest
sub-Saharan Africa. To claim your Community Growers certificate, please
contact David Berenstein in our Slack community or fill in this form
https://tally.so/r/n9XrxK once your PR has been merged. -->

# Description

Please include a summary of the changes and the related issue. Please
also include relevant motivation and context. List any dependencies that
are required for this change.

Closes https://github.com/argilla-io/argilla/issues/3028

**Type of change**

(Please delete options that are not relevant. Remember to title the PR
according to the type of change)

- [ ] New feature (non-breaking change which adds functionality)
- [ ] Refactor (change restructuring the codebase without changing
functionality)
- [ ] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [ ] Test A
- [ ] Test B

**Checklist**

- [ ] I added relevant documentation
- [ ] I followed the style guidelines of this project
- [ ] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: Gabriel Martín Blázquez <gmartinbdev@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: José Francisco Calvo <josefranciscocalvo@gmail.com>
Co-authored-by: José Francisco Calvo <jose@argilla.io>
Co-authored-by: Alvaro Bartolome <alvaro@argilla.io>
Co-authored-by: Damián Pumar <damianpumar@gmail.com>
Co-authored-by: leiyre <leire@argilla.io>
Co-authored-by: Gabriel Martin <gabriel@argilla.io>
Co-authored-by: David Berenstein <david.m.berenstein@gmail.com>
Co-authored-by: frascuchon <paco@argilla.io>
Co-authored-by: Natalia Elvira <126158523+nataliaElv@users.noreply.github.com>
Co-authored-by: Daniel Vila Suero <daniel@argilla.io>
Co-authored-by: Sara Han <127759186+sdiazlor@users.noreply.github.com>
Co-authored-by: leire <leire@recogn.ai>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-11-07T08:30:58Z,"feat: Implement status bar with tqdm  when parsing records in from_huggingface (#4132)

# Description

It is a new feature for function from_huggingface. I implement a
progress bar with tqdm for the records parsing process.

Closes #3888 

**Type of change**

(Please delete options that are not relevant. Remember to title the PR
according to the type of change)

- [x] New feature (non-breaking change which adds functionality)
- [ ] Refactor (change restructuring the codebase without changing
functionality)
- [ ] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

1. Run `pip install -e .` in the repo after making changes.
2. Run from_huggingface in a ipynb file.
3. The progress bar of parsing record is shown.

**Checklist**

- [ ] I added relevant documentation
- [ ] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my
feature works
- [x] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [x] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: David Berenstein <david.m.berenstein@gmail.com>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-11-06T17:03:36Z,"feat: Add metadata properties to dataset card (#4044)

<!-- Thanks for your contribution! As part of our Community Growers
initiative 🌱, we're donating Justdiggit bunds in your name to reforest
sub-Saharan Africa. To claim your Community Growers certificate, please
contact David Berenstein in our Slack community or fill in this form
https://tally.so/r/n9XrxK once your PR has been merged. -->

# Description

Adds the metadata_properties of a FeedbackDataset to the dataset card
when pushed to the Hugging Face Hub

Closes #4007 

**Type of change**

(Please delete options that are not relevant. Remember to title the PR
according to the type of change)

- [x] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [x]
tests/unit/client/feedback/integrations/huggingface/card/test__dataset_card.py

**Checklist**

- [x] I added relevant documentation
- [x] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [x] I made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [x] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: David Berenstein <david.m.berenstein@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-10-25T14:12:04Z,"feat: update quickstart loaded datasets (#4038)

# Description

This PR removes loading the error analysis datasets from the
`load_data.py` script used by the Docker quickstart image and adds
loading the [Text Descriptives
Metadata](https://huggingface.co/datasets/argilla/text-descriptives-metadata)
dataset from Hugging Face.

Closes #<issue_number>

**Type of change**

- [x] New feature (non-breaking change which adds functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [ ] Test A
- [ ] Test B

**Checklist**

- [ ] I added relevant documentation
- [x] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: Francisco Aranda <francis@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-10-20T14:49:04Z,"fix: `FeedbackDataset` fields with `required=False` failing on `push_to_huggingface` (#4006)

# Description

This PR addresses an issue reported by @dvsrepo, that was preventing
from uploading a `FeedbackDataset` to the Hugging Face Hub via
`push_to_huggingface` when there were any optional fields not provided.

**Type of change**

- [x] Bug fix (non-breaking change which fixes an issue)

**How Has This Been Tested**

- [x] Add unit tests for `FeedbackDataset` with optional i.e.
`required=False` fields

**Checklist**

- [x] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: Francisco Aranda <francis@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-10-19T12:50:17Z,"feat: support for metadata filtering and sorting (#3830)

# Description

This PR adds a new feature to the `FeedbackDataset`s that allows to
create metadata properties that enables filtering the records based on
their metadata. Also, the option to sort the records based on
'inserted_at', 'updated_at' and metadata properties has been added.

Closes #3748 

**Type of change**

- [x] New feature (non-breaking change which adds functionality)

**How Has This Been Tested**

The awesome Argilla team has been testing this very hard :) 

**Checklist**

- [ ] I added relevant documentation
- [x] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [x] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: Francisco Aranda <francis@argilla.io>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: leiyre <leire@argilla.io>
Co-authored-by: Damián Pumar <damianpumar@gmail.com>
Co-authored-by: leire <leire@recogn.ai>
Co-authored-by: Alvaro Bartolome <alvaro@argilla.io>
Co-authored-by: José Francisco Calvo <jose@argilla.io>
Co-authored-by: José Francisco Calvo <josefranciscocalvo@gmail.com>
Co-authored-by: David Berenstein <david.m.berenstein@gmail.com>
Co-authored-by: frascuchon <paco@argilla.io>
Co-authored-by: Natalia Elvira <126158523+nataliaElv@users.noreply.github.com>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-09-25T08:55:55Z,"refactor: detach remote `pydantic.BaseModel` schemas (#3784)

# Description

This PR detaches the Argilla-oriented aka remote `pydantic.BaseModel`
schemas from the local ones, this way there's no need to maintain
combined schemas for both local and remote which may be confusing, as we
can now maintain separate schemas.

Besides that, in this PR we'll also tackle the automatic parsing from
Python dictionaries into each respective `pydantic.BaseModel` schema to
allow the users to either import and use those schemas or just use
Python dictionaries.

**Type of change**

- [X] Refactor (change restructuring the codebase without changing
functionality)
- [X] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

- [x] Add unit tests for the newly introduced schemas i.e.
`RemoteFeedbackRecord`, `RemoteSuggestionSchema`, and
`RemoteResponseSchema`; and methods i.e. `to_local`, `from_api`, and
`to_server_payload`
- [ ] Add integration tests for the newly introduced schemas i.e.
`RemoteFeedbackRecord`, `RemoteSuggestionSchema`, and
`RemoteResponseSchema`

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [X] My changes generate no new warnings
- [X] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Gabriel Martín Blázquez <gmartinbdev@gmail.com>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-09-14T09:45:13Z,"fix: add `draft` status for responses in the Python SDK (#3749)

# Description

This PR replaces the pre-defined `Literal`s for the response status in
both the Python SDK and the Python client, so as to use an `Enum`
instead. Besides that, also the `draft` status has been included as it
was previously missing, but as of
https://github.com/argilla-io/argilla/pull/3033 it was included in the
API and as of https://github.com/argilla-io/argilla/pull/3541 it was
also included in the UI.

Closes #3745 

**Type of change**

- [X] Bug fix (non-breaking change which fixes an issue)
- [X] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [X] Added `draft` as another use-case of the `ResponseSchema` unit
tests
- [x] Added responses with `draft` status in `from_argilla` integration
tests

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [X] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [x] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-09-13T15:50:21Z,"feat: allow `require_version` and `requires_version` to also accept list of requirements (#3555)

# Description

This feature extends the functionality of `require_version` and
`requires_version` to also accept list of requirements.

Closes #3554.

**Type of change**

(Please delete options that are not relevant. Remember to title the PR
according to the type of change)

- [x] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

Two new unit tests were added to check that both the function and the
decorator work as expected with the new addition.

**Checklist**

- [ ] I added relevant documentation
- [x] I followed the style guidelines of this project
- [x] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the `CHANGELOG.md` file (See
https://keepachangelog.com/)

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Alvaro Bartolome <alvarobartt@gmail.com>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-09-06T15:42:29Z,"fix: exclude `id` and `client` from `suggestions` in `DatasetCard` (#3718)

# Description

This PR addressed a bug internally reported by @gabrielmbmb, that was
happening when calling `argilla datasets push-to-huggingface` on a
`FeedbackDataset` from Argilla with suggestions, since recently we
included the `id` and `client` fields in the `RemoteSuggestionSchema` so
those were not properly serialised when generating a random dataset
entry for the `DatasetCard` to be uploaded to HuggingFace. This is
already patched, and the `DatasetCard` is properly generated.

**Type of change**

- [X] Bug fix (non-breaking change which fixes an issue)

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [X] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-08-21T17:16:10Z,"refactor: move `AllowedFieldTypes` and `AllowedQuestionTypes` to `argilla/client/feedback/schemas/types.py` (#3603)

# Description

This is a small PR that moves both `AllowedFieldTypes` and
`AllowedQuestionTypes` from `argilla/client/feedback/types.py` to
`argilla/client/feedback/schemas/types.py`, as it makes more sense to
define those under `schemas` rather than under `feedback`.

**Type of change**

- [X] Refactor (change restructuring the codebase without changing
functionality)

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [X] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-08-10T09:16:00Z,"fix: restore `suggestions` and `responses` as rows in `HuggingFaceDatasetMixin` (#3539)

# Description

This PR addresses the feature mentioned by @tomaarsen at
https://github.com/argilla-io/argilla/pull/3467, to basically export the
`responses` for the existing questions in the `FeedbackDataset` when
calling `push_to_huggingface` in a row-based format instead of using the
`Sequence` from 🤗`datasets`. This makes the dataset from the HuggingFace
Hub more readable, and also easier to use with other frameworks and/or
libraries.

```diff
- {""user_id"": [""A"", ""B""], ""value"": [1, 2], ""status"": [""C"", ""D""]}
+ [{""user_id"": ""A"", ""value"": 1, ""status"": ""C""}, {""user_id"": ""B"", ""value"": 2, ""status"": ""D""}]
```

Additionally, this PR also ensure that the backwards compatibility is
preserved with the previous versions, and assumes the new format as the
default one when calling `format_as(""datasets"")`.

Finally, this PR also solves an issue reported by @nataliaelv recently
that was affecting the `suggestions` when calling
`FeedbackDataset.from_argilla`, as those were just kept when there were
`responses`, otherwise, a `continue` statement was being called so the
`suggestions` were completely ignored.

**Type of change**

- [X] Bug fix (non-breaking change which fixes an issue)
- [X] New feature (non-breaking change which adds functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [X] Ran the following script and tested different combinations as the
connection to HuggingFace is mocked, but we should create a fake/testing
user at some point to avoid overloading `argilla-io`

```python
import argilla as rg

dataset = rg.FeedbackDataset(
    fields=[
        rg.TextField(
            name=""prompt"",
            required=True,
        ),
    ],
    questions=[
        rg.TextQuestion(
            name=""response-edit"",
            title=""Add or edit the response if necessary"",
            required=True,
        ),
    ],
)
dataset.add_records(
    rg.FeedbackRecord(
        fields={
            ""prompt"": ""This is the prompt!"",
        },
        suggestions=[
            {
                ""question_name"": ""response-edit"",
                ""value"": ""This is the suggestion!""
            }
        ],
    )
)
dataset.push_to_huggingface(""<REPO_ID>"")
dataset = rg.FeedbackDataset.from_huggingface(""<REPO_ID>"")
assert dataset.records[0].suggestions is not None
```

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [X] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [X] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Gabriel Martin <gabriel@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-27T14:48:09Z,"fix: import errors when importing from `argilla.feedback` (#3471)

# Description

This PRs fixes the `ModuleNotFoundError` and `ImportError` that occurred
when trying to import something from `argilla.feedback` module.

The first error was caused because in #3336 the telemetry was included
in the `ArgillaTrainer`, but in the `argilla.utils.telemetry` module
some optional dependencies used by the server were being imported.

The second one was caused because the module in which
`HuggingFaceDatasetMixin` (and from which `FeedbackDataset` is
inheriting) class lives was importing classes from the
`argilla.client.feedback.config` module, which was importing `pyyaml` in
its root causing the `ImportError`.

Closes #3468 

**Type of change**

- [x] Bug fix (non-breaking change which fixes an issue)

**How Has This Been Tested**

I've created a wheel of this branch, installed in a new virtual
environment and I was able to import something `argilla.feedback` module
without errors.

**Checklist**

- [ ] I added relevant documentation
- [x] follows the style guidelines of this project
- [x] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [x] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Francisco Aranda <francis@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-16T06:20:40Z,"Feat/3347 feature add unification support for the rankingquestion (#3364)

<!-- Thanks for your contribution! As part of our Community Growers
initiative 🌱, we're donating Justdiggit bunds in your name to reforest
sub-Saharan Africa. To claim your Community Growers certificate, please
contact David Berenstein in our Slack community or fill in this form
https://tally.so/r/n9XrxK once your PR has been merged. -->

# Description

- renamed `typing.py` to `types.py` to avoid import errors
- added `RankingQuestionStrategy`
- added `RankingQuestionUnification`
- added `RankingQuestion`support for the `.for_text_classification`
method for the `TrainingTaskMapping`

Closes #3347 

**Type of change**

(Please delete options that are not relevant. Remember to title the PR
according to the type of change)

- [X] New feature (non-breaking change which adds functionality)
- [X] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [x]
`tests/client/feedback/test_schemas.py:test_ranking_question_strategy`
- [x]
`tests/client/feedback/training/test_schemas.py:test_task_mapping_for_text_classification`

**Checklist**

- [X] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [X] I made corresponding changes to the documentation
- [X] My changes generate no new warnings
- [X] I have added tests that prove my fix is effective or that my
feature works
- [X] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Alvaro Bartolome <alvaro@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-14T13:40:09Z,"fix: add `DeprecatedDatasetConfig` for backwards compatibility & improve `warnings` (#3416)

<!-- Thanks for your contribution! As part of our Community Growers
initiative 🌱, we're donating Justdiggit bunds in your name to reforest
sub-Saharan Africa. To claim your Community Growers certificate, please
contact David Berenstein in our Slack community or fill in this form
https://tally.so/r/n9XrxK once your PR has been merged. -->

# Description

This PR addresses the bug fix reported by @tomaarsen at #3414, so that
we use `DeprecatedDatasetConfig` instead of `DatasetConfig` and to make
`from_json` a `classmethod`, to make sure that previously uploaded
`FeedbackDataset`s to the HuggingFace Hub can still be loaded with
`FeedbackDataset.from_huggingface`.

Additionally, as reported by @nataliaElv the warning messages when
adding `suggestions` to a `FeedbackRecord` could be improved, so we've
kept just the necessary and adding an `Ignore this exception ...` in
cases where warning is not needed.

Closes #3414

**Type of change**

- [X] Bug fix (non-breaking change which fixes an issue)

**How Has This Been Tested**

(Please describe the tests that you ran to verify your changes. And
ideally, reference `tests`)

- [X] Run
`FeedbackDataset.from_huggingface(""argilla/stackoverflow_feedback_demo"")
- [X] Update unit tests to catch updated warnings

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [X] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Gabriel Martin <gabriel@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-14T09:27:27Z,"feat: add `suggestions` in `FeedbackRecord` (#3370)

# Description

As of the recent addition of the `suggestions` in the Argilla API at
https://github.com/argilla-io/argilla/issues/3277, we make sure that's
covered in both the SDK and the Python client.

So on, this PR adds the following:

* `suggestions` included in `FeedbackRecord`
* Update `FeedbackRecord` to ""listen"" for updates (for the moment just
applies to `suggestions`, but may eventually be extended to
`external_id`, `metadata`, and `responses`)
* Add `add_suggestions` function in the SDK
* Add `include=responses` and `include=suggestions` as default in
`get_records`
* `add_question` and `add_field` now return the schema, `QuestionSchema`
and `FieldSchema`, respectively (to get the Argilla ID of those,
required to log `suggestions` as we use the Argilla Question ID)
* Extend `pydantic.BaseModel`s to add the `id` attribute for anything
Argilla-related
* Constrain `pydantic.BaseModel`s to disallow extra fields and have more
control over those
* Handle `suggestions` on both pull and push from Argilla
* Handle `suggestions` on both pull and push from HuggingFace

Additionally, I've also included some missing type-hints, improved
`question_by_name` and `field_by_name` methods, fix some return
type-hints, rename ""`FeedbackTask` dataset"" occurrences to
""`FeedbackDataset`"", and some other minor fixes.

Closes https://github.com/argilla-io/Team/issues/115

**Type of change**

- [X] New feature (non-breaking change which adds functionality)

**How Has This Been Tested**

- [X] Add unit tests for the newly included `suggestions` attribute in
`FeedbackRecord`
- [X] Add unit tests for the `add_suggestions` function in the SDK
- [X] Add unit tests for `FeedbackDataset.records` related
functions/methods

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [X] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [x] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: gabrielmbmb <gmartinbdev@gmail.com>
Co-authored-by: Gabriel Martin <gabriel@argilla.io>
Co-authored-by: Francisco Aranda <francis@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-12T07:50:20Z,"style: rename `MixIn` to `Mixin` (#3386)

# Description

This PR aligns the defined `Mixin` classes to follow the same naming
convention, since for some we were appending `MixIn` while for some
others `Mixin`, even though both work equally, we've (@gabrielmbmb and
myself) internally decided to use `Mixin` instead. So now all the
occurrences of `MixIn` are renamed to `Mixin`.

**Type of change**

- [X] Refactor (change restructuring the codebase without changing
functionality)"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-12T07:17:50Z,"fix: `HuggingFaceDatasetMixIn` dependencies and usage (#3381)

# Description

This PR fixes some issues recently found in the
`HuggingFaceDatasetMixIn` as described below:

* Records with more than one response with an empty `user_id` i.e.
`user_id=None` could be pushed to the HuggingFace Hub, and when pulling
it we were assuming that all the users had a valid `user_id`, so now we
are just keeping the first `user_id=None` for each question, joining
them and discarding the rest
* `HuggingFaceDatasetMixIn` dependencies were being imported in the top
of the file, which was leading to conflicts, as `datasets` and
`huggingface_hub` are optional dependencies, and as the
`HuggingFaceDatasetMixIn` was being used as part of `FeedbackDataset`,
an `ImportError` was being automatically raised if `datasets` and/or
`huggingface_hub` were not installed, even though those were not used
* `HuggingFaceDatasetMixIn` is now properly used, without defining
wrapping methods, and directly using the methods defined in the MixIn
itself
* Add `Config` to manage the configuration for the available
integrations (for the moment just HuggingFace), and check the
dependencies once, not on every function call (similar approach to what
🤗`datasets` does)

**Type of change**

- [X] Bug fix (non-breaking change which fixes an issue)
- [X] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

- [X] Add unit tests to catch the warnings raised, and to make sure
everything's working as expected

**Checklist**

- [ ] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [ ] I made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [X] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [ ] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Gabriel Martin <gabriel@argilla.io>"
github.com/argilla-io/argilla,src/argilla/client/feedback/integrations/huggingface/dataset.py,2023-07-04T12:10:53Z,"refactor: add `HuggingFaceDatasetMixIn` under `integrations` (#3326)

# Description

To avoid the increasing size of `argilla/client/feedback/dataset.py`,
I've decided to detach the integrations from the `FeedbackDataset` class
and create a MixIn class to contain all those methods specific to the
integrations within the `FeedbackDataset`, in this case for 🤗
`Datasets`.

Besides that, I've also renamed the `FeedbackDatasetConfig` to
`DatasetConfig`, and included some methods to dump a YAML file from now
on, instead of a JSON file, since the YAML file is more readable. So now
we upload `argilla.yaml` when pushing a `FeedbackDataset` to the
HuggingFace Hub via `push_to_huggingface`.

**Type of change**

- [X] Refactor (change restructuring the codebase without changing
functionality)
- [X] Improvement (change adding some improvement to an existing
functionality)

**How Has This Been Tested**

- [X] Re-run unit tests
- [x] Catch `DeprecationWarning`s

**Checklist**

- [X] I added relevant documentation
- [X] follows the style guidelines of this project
- [X] I did a self-review of my code
- [X] I made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [x] I have added tests that prove my fix is effective or that my
feature works
- [ ] I filled out [the contributor form](https://tally.so/r/n9XrxK)
(see text above)
- [X] I have added relevant notes to the CHANGELOG.md file (See
https://keepachangelog.com/)

---------

Co-authored-by: Gabriel Martin <gabriel@argilla.io>"
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-12-07T17:12:34Z,"Added Azure OpenAI support
Optionnal waiting time between document insertion queries
Added Embedding/Querying model choice (required for Azure OpenAI)
Fixed bug in streaming, when resposne choice list is empty. Might only occur with Azure OpenAI
Updated doc"
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-12-05T10:38:06Z,Add BASE_URL env
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-12-05T10:24:34Z,Fix Docker config issue
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-29T11:21:01Z,fix weaviate embedded client
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-24T13:48:36Z,Fix basic linting errors
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-15T20:32:40Z,add pdfreader and tokenchunker
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-13T10:26:41Z,dont set suggestions in production
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-10T11:07:30Z,Adjust github reader
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-09T22:30:17Z,Add Cohere Support
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-09T14:45:22Z,Improve Weaviate Embedded use
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-08T15:59:14Z,Fix docker and readme
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-07T09:54:52Z,Add new openai models
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-06T12:32:40Z,improve import logging
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-06T12:03:44Z,Add installation packages
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-06T11:09:19Z,Add more status info and production environment
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-03T11:51:42Z,Improve suggestion system and frontend
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-02T23:38:35Z,Add github and pdfreader
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-02T21:40:00Z,Add Cohere Embedder
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-11-01T21:53:48Z,Add availability coloring to config modules
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-27T15:42:24Z,Add LLama Generator
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-26T09:28:05Z,Add copy and cached tag
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-25T14:34:22Z,Add streaming functionality
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-24T14:36:47Z,Add generators
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-23T12:31:48Z,Add retriever
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-19T11:35:45Z,Add Sentence Transformer
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-18T11:32:45Z,Improve document explorer and add CRUD and filter
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-10-17T17:44:05Z,Improve error handling and debug in UI
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-09-29T10:09:33Z,Add status page and embedder
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-09-12T19:57:18Z,Add Chunker Architecture with two chunkers
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-09-11T21:58:52Z,Implement SimpleReader and finish Reader section
github.com/weaviate/Verba,goldenverba/verba_manager.py,2023-09-09T01:24:05Z,Add READER architecture
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-02-05T08:21:05Z,REF: Supports `pydantic` v2 (#983)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-25T11:08:46Z,FEAT: Support orion series models (#933)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-24T02:52:19Z,ENH: Move multimodal to LLM (#917)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-22T06:35:51Z,ENH: Launch model by `version` (#896)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-17T07:26:30Z,"ENH: Add ""tools"" in model ability (#904)"
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-17T02:17:13Z,BUG: Fix tool calls on custom model (#899)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-10T09:25:34Z,REF: Add `model_hub` property in `EmbeddingModelSpec` (#877)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2024-01-05T06:49:14Z,ENH: Custom model uses vLLM (#861)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-29T03:44:22Z,ENH: Replace uuid with model name for `model_uid` (#831)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-29T03:37:45Z,FEAT: Support vllm gptq (#832)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-22T03:22:36Z,BUG: Xinference does not release custom model name when registering failed (#790)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-22T02:17:50Z,"FEAT: Support Mixtral-8x7B-v0.1 models (#782)

Co-authored-by: ChengjieLi <chengjieli23@outlook.com>"
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-22T02:05:44Z,FEAT: Support tool message (#794)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-21T07:23:04Z,ENH: qwen switch to llama cpp (#778)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-14T03:05:00Z,FEAT: Supports `qwen-chat` 1.8B (#757)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-12-12T08:22:32Z,BUG: Fix `cached` tag on UI (#748)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-30T10:39:25Z,ENH: User can just specify a string for prompt style when registering custom LLM models (#682)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-30T06:41:29Z,ENH: Remove `xorbits` dependency (#699)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-29T05:23:04Z,BUG: Fix xinference start failed if invalid custom model found (#690)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-24T02:24:55Z,FEAT: Supports `qwen.cpp` for `qwen-chat` with `ggml` format (#675)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-24T01:56:20Z,FEAT: Support registering custom embedding model (#667)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-22T09:03:58Z,BUG: Fix custom model missing config json (#674)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-16T06:29:16Z,FEAT: Support gptq quantization (#645)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-09T08:48:35Z,ENH: running model location & accelerators (#626)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-11-08T09:32:31Z,ENH: cache status (#616)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-10-26T04:18:37Z,"BUG: When change model revision, xinference still uses the previous model (#573)"
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-10-19T02:24:48Z,ENH: Download embedding models from ModelScope (#532)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-10-10T02:37:27Z,TST: fix tiny llama (#513)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-27T04:26:20Z,ENH: validate model URI on register (#476)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-26T13:41:48Z,ENH: Skip download if model exists (#495)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-22T09:55:35Z,FEAT: Support download models from modelscope (#475)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-21T02:35:28Z,FEAT: incorporate vLLM (#445)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-19T04:12:33Z,BUG: stop auto download from self-hosted storage for locale zh_CN (#465)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-15T06:48:04Z,FEAT: Support gguf (#446)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-12T09:00:30Z,BUG: no error raised on unsupported fmt (#443)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-08T12:07:48Z,ENH: caching from self-hosted storage (#419)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-09-01T09:58:30Z,BUG: Make context_length optional in model family (#394)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-31T08:12:52Z,EHN: auto retry download on network errors (#405)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-23T11:03:15Z,BUG: xinference cache dir doesn't exist (#380)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-22T06:59:36Z,ENH: including default context length into model family (#374)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-17T11:58:02Z,BUG: custom model related bugs (#364)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-16T03:32:48Z,ENH: cache from URI (#350)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-08T09:23:56Z,ENH: Include model revision (#320)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-08T07:07:26Z,ENH: auto detect device in pytorch model (#322)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-08-04T09:48:40Z,FEAT: custom model (#290)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-07-31T05:28:22Z,BUG: empty legacy model dir (#276)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-07-28T12:16:41Z,ENH: handle legacy cache (#266)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-07-28T09:37:09Z,BUG: delete tqdm_class in snapshot_download (#258)
github.com/xorbitsai/inference,xinference/model/llm/llm_family.py,2023-07-28T07:17:16Z,REF: model family (#251)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2023-05-21T10:58:05Z,"[egs] Add a new pre-trained model (X-UMXL) (#665)

* [Fix] Update ""egs/musdb18/X-UMX/requirements.txt""

* [Fix] Bug of X-UMX and README.md

* [egs] Add X-UMX Large (X-UMXL) to the list of pretrained models

* Apply black"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2022-10-24T15:54:12Z,"[hub] Upgrade deprecated huggingface_hub.cached_download (#645)

* Replace huggingface_hub.cached_download with huggingface_hub.hf_hub_download

* Reintroduce cache_dir"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2021-07-01T16:29:26Z,[hub] Add library version and name for Hugging Face download stats (#524)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2021-05-06T20:11:17Z,"[src&egs] X-UMX Official baseline for Music Demixing Challenge (#490)

Co-authored-by: Pariente Manuel <pariente.mnl@gmail.com>

Co-authored-by: Manuel Pariente <pariente.mnl@gmail.com>"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2021-02-13T09:59:29Z,"hub] Use huggingface_hub deps, remove inlined HF code (#409)

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-12-11T19:50:45Z,[hub] Use API filter for faster model list (#390)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-12-08T10:40:48Z,[hub] List asteroid models HF's hub (#382)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-12-07T17:56:12Z,"[hub] Support for huggingface model hub :tada: (#377)

Co-authored-by: Pariente Manuel <pariente.mnl@gmail.com>"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-12-03T11:22:53Z,[hub] Add mhu-coder's model
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-11-30T14:03:32Z,"[docs] Fix docstrings (#365)

Co-authored-by: Jonas Haag <jonas@lophus.org>

Co-authored-by: Jonas Haag <jonas@lophus.org>"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-10-22T09:03:29Z,[src] BC-breaking: Load models without sample_rate (#285)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-10-02T15:40:48Z,[black] Fix black 20.8b1 update (#267)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-10-01T10:11:28Z,[black] Update black to 20.8b1 (#265)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-09-25T11:00:02Z,[hub] Add tmirzaev's model in the string-retrievable ones.
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-08-25T11:43:51Z,[models] Add 16k popcornell/DPRNNTasNet_WHAM_enhancesingle enhancement
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-08-24T08:27:26Z,[models] Add pretrained DeMask name to URL mapping
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-08-21T14:49:32Z,"[models] Add groadabike's pretrained model's URL (#228)

Signed-off-by: Gerardo Roa Dabike <gerardo.roa@gmail.com>
(cherry picked from commit d81dec76d5eb99e9635e0c5ce237b5820606e306)

Co-authored-by: Gerardo Roa Dabike <gerardo.roa@gmail.com>"
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-08-13T07:21:11Z,[black] Flake8 compatibility + Black strings (#198)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-08-12T13:47:18Z,[black] Change formatting with black using default config and line-length 100 (#197)
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-08-10T12:38:36Z,[hub] Add Brij's LibriMix enhancement model
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-06-22T20:44:35Z,[models] Update available models
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-06-03T11:05:01Z,[hub] Update pretrained models hashtable
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-06-03T08:53:23Z,[hub] Update pre-trained models hashtable
github.com/asteroid-team/asteroid,asteroid/utils/hub_utils.py,2020-05-29T14:44:06Z,[src&tests] Pretrained model loading (#126)
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-21T10:53:21Z,增加对hf-mirror支持
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-19T07:57:31Z,测试hf_download
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-18T15:38:41Z,移动config到hf上
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-18T08:53:54Z,删除check_checkpoint_config_path
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-18T08:06:49Z,修改check_checkpoint_config_path逻辑
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-17T16:42:57Z,修改hf_download的逻辑
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-16T17:09:05Z,增加句子分类trainertrainer
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-16T14:45:01Z,增加PipelineBase基类
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-16T10:53:31Z,添加FillMask的pipeline用于mlm预测
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-02-15T15:06:58Z,添加参数备注，开始允许下载
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-30T02:01:41Z,debug generate speed
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-29T07:23:09Z, entity_extract_rule
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-27T14:48:52Z,modify load_variable
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-27T06:37:34Z,test
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-22T16:09:46Z,debug save pretrained
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-22T10:57:11Z,add copy_tree
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-20T15:58:56Z,add test
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-19T10:52:35Z,cal generate speed
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-12T09:46:30Z,debug from_pretrained
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-12T06:46:09Z,debug save_pretrained
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2024-01-04T15:00:21Z,add streamlit example
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2023-12-22T06:32:52Z,modify chat module
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2023-12-20T04:18:20Z,import_utils
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2023-12-14T10:34:45Z,fix import err
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2023-12-14T06:46:38Z,fix ChatWebDemo
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2023-12-13T10:48:55Z,add chat module
github.com/Tongjilibo/bert4torch,bert4torch/snippets/misc.py,2023-12-12T15:59:26Z,start add openai api
github.com/Nerogar/OneTrainer,modules/module/WDModel.py,2024-01-20T22:48:52Z,add option to add generated captions as new line
github.com/Nerogar/OneTrainer,modules/module/WDModel.py,2024-01-12T11:31:28Z,Update WDModel to support GPU execution
github.com/Nerogar/OneTrainer,modules/module/WDModel.py,2023-11-11T22:21:24Z,initial wuerstchen-v2 support
github.com/Nerogar/OneTrainer,modules/module/WDModel.py,2023-08-21T14:30:33Z,wd14 tagging in caption ui
github.com/27182812/ChatGLM-LLaMA-chinese-insturct,src/transformers/utils/hub.py,2023-03-28T03:36:48Z,add llama
github.com/longyuewangdcu/Chinese-Llama-2,transformers/src/transformers/utils/hub.py,2023-07-24T08:30:29Z,add transformer we used
github.com/Toni-SM/skrl,skrl/utils/huggingface.py,2023-07-16T20:58:59Z,Remove unused imports and apply isort
github.com/Toni-SM/skrl,skrl/utils/huggingface.py,2023-07-09T11:47:36Z,Log info when downloading model from Hugging Face Hub
github.com/Toni-SM/skrl,skrl/utils/huggingface.py,2023-01-17T11:36:14Z,Improve function docstring
github.com/Toni-SM/skrl,skrl/utils/huggingface.py,2023-01-16T21:54:54Z,Add utility for download models from Hugging Face
github.com/JunzheJosephZhu/HiFA,main.py,2023-12-12T19:56:56Z,update requirements
github.com/JunzheJosephZhu/HiFA,main.py,2023-12-12T18:21:03Z,first commit
github.com/tgxs002/HPSv2,hpsv2/utils.py,2024-02-06T05:24:34Z,update evaluate
github.com/tgxs002/HPSv2,hpsv2/utils.py,2024-02-06T04:24:25Z,fix downloads
github.com/tgxs002/HPSv2,hpsv2/utils.py,2023-10-20T14:07:07Z,to huggingface api
github.com/tgxs002/HPSv2,hpsv2/utils.py,2023-08-22T09:51:51Z,Refine utils.py
github.com/tgxs002/HPSv2,hpsv2/utils.py,2023-08-22T07:50:41Z,"Fix some bugs
Fix proxy bug and load the model to the specified device."
github.com/tgxs002/HPSv2,hpsv2/utils.py,2023-08-13T17:18:05Z,Improve score and simplify import of package
github.com/tgxs002/HPSv2,hpsv2/utils.py,2023-08-02T06:54:12Z,Implement Pypi package
github.com/chaoyi-wu/Finetune_LLAMA,Python_Package/transformers-main/src/transformers/utils/hub.py,2023-03-21T01:56:17Z,combine_with_newest_huggingface
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2024-02-06T04:24:25Z,fix downloads
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-10-20T14:07:07Z,to huggingface api
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-10-14T12:19:43Z,lazy utils.get_available_models()
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-09-07T12:54:45Z,Modify file name
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-08-22T07:50:41Z,"Fix some bugs
Fix proxy bug and load the model to the specified device."
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-08-13T17:18:05Z,Improve score and simplify import of package
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-08-03T05:57:11Z,"Refactor README.md, Improve score(), move assets/"
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-08-02T09:05:33Z,"refactor score() and model loading, optimize print format"
github.com/tgxs002/HPSv2,hpsv2/__init__.py,2023-08-02T06:54:12Z,Implement Pypi package
github.com/intake/intake,intake/readers/catalogs.py,2024-02-26T20:57:49Z,relax get_reader
github.com/intake/intake,intake/readers/catalogs.py,2024-02-26T20:51:45Z,Sort out stac
github.com/intake/intake,intake/readers/catalogs.py,2024-02-23T21:15:42Z,"Expose more recommend/to_reader/pipeline things

Also clean up STAC a bit (more to come)"
github.com/intake/intake,intake/readers/catalogs.py,2024-02-01T20:23:25Z,"""catalog user"" docs"
github.com/intake/intake,intake/readers/catalogs.py,2024-01-27T01:17:05Z,more docs
github.com/intake/intake,intake/readers/catalogs.py,2023-12-06T15:18:04Z,Small corrections + example notebook
github.com/intake/intake,intake/readers/catalogs.py,2023-12-01T22:00:58Z,"Make GUI work, add V2 docs and allow real names in category entries."
github.com/intake/intake,intake/readers/catalogs.py,2023-11-28T20:01:39Z,GUI compat and attribute lookup safety
github.com/intake/intake,intake/readers/catalogs.py,2023-11-23T19:13:03Z,"Mode doc, docstrings, convenience and fixes"
github.com/intake/intake,intake/readers/catalogs.py,2023-11-20T21:37:30Z,"Lots of changes, compat and docs"
github.com/intake/intake,intake/readers/catalogs.py,2023-11-13T15:57:02Z,Catalog doc strings
github.com/intake/intake,intake/readers/catalogs.py,2023-11-10T22:37:05Z,DOI to comcept-id and doc
github.com/intake/intake,intake/readers/catalogs.py,2023-11-10T21:01:35Z,add earthaccess catalog/reader
github.com/intake/intake,intake/readers/catalogs.py,2023-11-06T15:47:02Z,Format and move to pyproject
github.com/intake/intake,intake/readers/catalogs.py,2023-10-24T19:52:29Z,Compat and tab helper; some more formats
github.com/intake/intake,intake/readers/catalogs.py,2023-10-11T15:12:48Z,Readd config and entrypoints; add MS buildings example
github.com/intake/intake,intake/readers/catalogs.py,2023-10-07T01:56:16Z,Some backport and TF example cat
github.com/intake/intake,intake/readers/catalogs.py,2023-10-05T00:43:19Z,"Add hug, sklearn and torch sets"
github.com/intake/intake,intake/readers/catalogs.py,2023-10-03T19:36:57Z,Add hugging
github.com/intake/intake,intake/readers/catalogs.py,2023-09-29T19:44:55Z,Merge Readers and Converters
github.com/intake/intake,intake/readers/catalogs.py,2023-09-27T18:31:08Z,type annotations
github.com/intake/intake,intake/readers/catalogs.py,2023-09-15T21:01:31Z,First search and graph play
github.com/intake/intake,intake/readers/catalogs.py,2023-09-02T01:53:59Z,thredds merge source
github.com/intake/intake,intake/readers/catalogs.py,2023-09-01T02:12:11Z,tidy
github.com/intake/intake,intake/readers/catalogs.py,2023-08-31T21:04:16Z,merge stac bands
github.com/intake/intake,intake/readers/catalogs.py,2023-08-31T02:07:38Z,STAC catalog
github.com/intake/intake,intake/readers/catalogs.py,2023-08-24T13:12:28Z,maybe a little green
github.com/intake/intake,intake/readers/catalogs.py,2023-08-23T01:07:13Z,A little SQL love
github.com/intake/intake,intake/readers/catalogs.py,2023-08-15T15:49:24Z,lazy
github.com/MendelXu/SAN,predict.py,2023-03-22T03:00:31Z,update code
github.com/aihao2000/stable-diffusion-reference-only,app.py,2023-11-12T15:46:46Z,add resize function
github.com/aihao2000/stable-diffusion-reference-only,app.py,2023-11-10T06:45:16Z,update pipeline file name
github.com/aihao2000/stable-diffusion-reference-only,app.py,2023-11-09T08:44:15Z,add gradio webui
github.com/aihao2000/stable-diffusion-reference-only,scripts/stable_diffusion_reference_only_on_tab.py,2024-02-03T17:15:19Z,add switch device
github.com/aihao2000/stable-diffusion-reference-only,scripts/stable_diffusion_reference_only_on_tab.py,2023-11-13T07:09:29Z,fix path
github.com/aihao2000/stable-diffusion-reference-only,scripts/stable_diffusion_reference_only_on_tab.py,2023-11-12T15:46:46Z,add resize function
github.com/aihao2000/stable-diffusion-reference-only,scripts/stable_diffusion_reference_only_on_tab.py,2023-11-10T06:45:16Z,update pipeline file name
github.com/aihao2000/stable-diffusion-reference-only,scripts/stable_diffusion_reference_only_on_tab.py,2023-11-09T15:15:18Z,Add plugin support for A1111 SD-WebUI
github.com/aihao2000/stable-diffusion-reference-only,scripts/stable_diffusion_reference_only_on_tab.py,2023-11-09T14:42:46Z,add A1111 web ui  extension script
github.com/tgxs002/HPSv2,hpsv2/img_score.py,2023-10-20T14:07:07Z,to huggingface api
github.com/tgxs002/HPSv2,hpsv2/img_score.py,2023-09-07T12:54:45Z,Modify file name
github.com/declare-lab/tango,mustango/diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-11-18T05:15:59Z,Add Mustango
github.com/tgxs002/HPSv2,hpsv2/evaluation.py,2024-02-06T08:51:26Z,update
github.com/tgxs002/HPSv2,hpsv2/evaluation.py,2024-02-06T05:24:34Z,update evaluate
github.com/tgxs002/HPSv2,hpsv2/evaluation.py,2023-10-20T14:07:07Z,to huggingface api
github.com/tgxs002/HPSv2,hpsv2/evaluation.py,2023-09-28T13:06:28Z,"optimize dataloading, fix a bug"
github.com/tgxs002/HPSv2,hpsv2/evaluation.py,2023-09-07T12:54:45Z,Modify file name
github.com/litus-ai/classy,classy/scripts/model/upload.py,2022-03-22T14:53:09Z,"[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci"
github.com/litus-ai/classy,classy/scripts/model/upload.py,2022-03-22T14:52:01Z,import/export commands + docs + update to upload
github.com/litus-ai/classy,classy/scripts/model/upload.py,2022-01-19T15:15:06Z,further pre-commits added
github.com/litus-ai/classy,classy/scripts/model/upload.py,2022-01-19T14:17:03Z,black pre-commit added
github.com/litus-ai/classy,classy/scripts/model/upload.py,2021-09-29T08:32:46Z,small update to upload + custom repo name
github.com/litus-ai/classy,classy/scripts/model/upload.py,2021-09-29T08:31:04Z,classy download + upload
github.com/SqueezeAILab/KVQuant,gradients/src/transformers/trainer.py,2024-02-06T09:26:27Z,First Commit
github.com/SqueezeAILab/KVQuant,gradients/src/transformers/utils/hub.py,2024-02-06T09:26:27Z,First Commit
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-10-19T14:55:57Z,Fix cache version file creation (#19750)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-10-10T13:19:33Z,"Stop relying on huggingface_hub's private methods (#19392)

* Leverage hfh for move cache

* Style"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-30T19:13:39Z,"Fix cached lookup filepath on windows for hub (#19178)

* Update hub.py commit_hash extraction

Add safety mechanism for windows systems to unify logic (replace double backslashes with /)

* Fix string quotetype

* Aaaa circleci is messing with me.

* Switch to using as_posix() method from pathlib

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-29T12:58:39Z,"Use `hf_raise_for_status` instead of deprecated `_raise_for_status` (#19244)

* Use  instead of  from huggingface_hub

* bump huggingface_hub to 0.10.0 + make deps_table_update"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-26T22:01:00Z,"Fix cached_file in offline mode for cached non-existing files (#19206)

* Fix cached_file in offline mode for cached non-existing files

* Add tests

* Test with offline mode"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-19T19:27:18Z,Don't warn of move if cache is empty (#19109)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-16T19:01:57Z,replace logger.warn by logger.warning (#19068)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-15T13:39:59Z,Move cache: expand error message (#19051)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-13T17:11:24Z,Re-add support for single url files in objects download (#19014)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-12T16:09:37Z,"Align try_to_load_from_cache with huggingface_hub (#18966)

* Align try_to_load_from_cache with huggingface_hub

* Fix tests"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-06T16:34:37Z,"Further reduce the number of alls to head for cached objects (#18871)

* Further reduce the number of alls to head for cached models/tokenizers/pipelines

* Fix tests

* Address review comments"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-09-02T14:30:06Z,"Clean up utils.hub using the latest from hf_hub (#18857)

* Clean up utils.hub using the latest from hf_hub

* Adapt test

* Address review comment

* Fix test"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-10T19:46:03Z,Properly move cache when it is not in default path (#18563)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-10T15:55:18Z,"Use commit hash to look in cache instead of calling head (#18534)

* Use commit hash to look in cache instead of calling head

* Add tests

* Add attr for local configs too

* Stupid typos

* Fix tests

* Update src/transformers/utils/hub.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

* Address Julien's comments

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-09T19:15:01Z,Clean up comment
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-08T14:22:27Z,New cache fixes: add safeguard before looking in folders (#18522)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-08T12:48:10Z,"Clean up hub (#18497)

* Clean up utils.hub

* Remove imports

* More fixes

* Last fix"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-06T07:42:55Z,"`transformers-cli login` => `huggingface-cli login` (#18490)

* zero chance anyone's using that constant no?

* `transformers-cli login` => `huggingface-cli login`

* `transformers-cli repo create` => `huggingface-cli repo create`

* `make style`"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-05T17:29:38Z,Typo reported by Joel Grus on TWTR (#18493)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-05T17:24:53Z,Forgot one new_ for cache migration
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-05T17:14:00Z,"Move cache folder to huggingface/hub for consistency with hf_hub (#18492)

* Move cache folder to just huggingface

* Thank you VsCode for this needless import

* Move to hub

* Forgot one"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-05T14:12:40Z,"Use new huggingface_hub tools for download models (#18438)

* Draft new cached_file

* Initial draft for config and model

* Small fixes

* Fix first batch of tests

* Look in cache when internet is down

* Fix last tests

* Bad black, not fixing all quality errors

* Make diff less

* Implement change for TF and Flax models

* Add tokenizer and feature extractor

* For compatibility with main

* Add utils to move the cache and auto-do it at first use.

* Quality

* Deal with empty commit shas

* Deal with empty etag

* Address review comments"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-08-01T16:07:30Z,"Rewrite push_to_hub to use upload_files (#18366)

* Rewrite push_to_hub to use upload_files

* Adapt the doc a bit

* Address review comments and clean doc"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-07-19T09:53:53Z,"[From pretrained] Allow download from subfolder inside model repo (#18184)

* add first generation tutorial

* [from_pretrained] Allow loading models from subfolders

* remove gen file

* add doc strings

* allow download from subfolder

* add tests

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* apply comments

* correct doc string

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-07-13T16:43:08Z,"Make sharded checkpoints work in offline mode (#18125)

* Make sharded checkpoints work in offline mode

* Add test"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-07-13T14:53:25Z,"Revert ""Make sharded checkpoints work in offline mode""

This reverts commit 3564c6578630a3bef29d2c7c36c7d29b68acd874."
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-07-13T14:51:56Z,Make sharded checkpoints work in offline mode
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-07-11T16:45:06Z,Add filename to info diaplyed when downloading things in from_pretrained (#18099)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-06-22T05:04:35Z,Flax sharded (#17760)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-06-21T16:01:08Z,"TF Sharded (#17713)

* initial commit

* update modeeling tf utils

* quality

* clean and update args

* update

* remove potential bug

* code quality

* update

* update max shard

* update tests for sharding from pretrained

* fix remaining test

* make style

* h5py if tf available

* update and fix test

* fix test

* style

* modified push to hub to support shard for TF

* quick fix

* update code

* merge branch main and style

* Apply suggestions from code review

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* update based on reviews

* update doc

* update and style

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update based on reviews

* fix typo

* style

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-06-21T15:51:18Z,"Prepare transformers for v0.8.0 huggingface-hub release (#17716)

* Prepare CI for v0.8.0

* pin hfh (revert before merge)

* Revert ""pin hfh (revert before merge)""

This reverts commit a0103140e1c77b810ffcb735192968bc03be3e1f.

* Test rc3

* Test latest rc

* Unpin to the RC

Co-authored-by: Sylvain Gugger <Sylvain.gugger@gmail.com>"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-06-10T13:41:53Z,"🐛 Properly raise `RepoNotFoundError` when not authenticated (#17651)

* Raise RepoNotFoundError in case of 401

* Include changes from revert-17646-skip_repo_not_found

* Add a comment

* 💄 Code quality

* 💚 Update `get_from_cache` test

* 💚 Code quality & skip failing test"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-06-08T15:34:05Z,Fix telemetry URL (#17608)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-06-07T15:57:52Z,"Add examples telemetry (#17552)

* Add examples telemetry

* Alternative approach

* Add to all other examples

* Add to templates as well

* Put framework separately

* Same for TensorFlow"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-05-12T20:25:55Z,"Black preview (#17217)

* Black preview

* Fixup too!

* Fix check copies

* Use the same version as the CI

* Bump black"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-04-29T16:26:45Z,"Revert ""Updating variable names. (#16445)"" (#17011)

This reverts commit 4f3a14e3c235c8b6b8cd2f5bc448a0cffacddf61."
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-04-29T15:44:28Z,Updating variable names. (#16445)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-04-25T19:15:00Z, Fix issue probably-meant-fstring found at https://codereview.doctor (#16913)
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-03-23T19:56:49Z,"Make Transformers use cache files when hf.co is down (#16362)

* Make Transformers use cache files when hf.co is down

* Fix tests

* Was there a random circleCI failure?

* Isolate patches

* Style

* Comment out the failure since it doesn't fail anymore

* Better comment"
github.com/kssteven418/BigLittleDecoder,src/transformers/utils/hub.py,2022-03-23T14:26:33Z,"Reorganize file utils (#16264)

* Split file_utils in several submodules

* Fixes

* Add back more objects

* More fixes

* Who exactly decided to import that from there?

* Second suggestion to code with code review

* Revert wront move

* Fix imports

* Adapt all imports

* Adapt all imports everywhere

* Revert this import, will fix in a separate commit"
github.com/commune-ai/commune,commune/modules/hf/hf.py,2024-02-25T11:40:20Z,key
github.com/commune-ai/commune,commune/modules/hf/hf.py,2024-01-14T19:32:09Z,libertune
github.com/commune-ai/commune,commune/modules/hf/hf.py,2023-11-27T22:30:59Z,update
github.com/commune-ai/commune,commune/modules/hf/hf.py,2023-10-31T21:10:53Z,update
github.com/commune-ai/commune,commune/modules/hf/hf.py,2023-08-19T18:59:54Z,hf
github.com/wxjiao/ParroT,transformers/src/transformers/utils/hub.py,2023-04-14T05:54:56Z,training scripts of full model and lora
github.com/wxjiao/ParroT,transformers/src/transformers/utils/hub.py,2023-04-14T05:49:30Z,delete old transformers
github.com/wxjiao/ParroT,transformers/src/transformers/utils/hub.py,2023-04-06T13:47:11Z,uploaded
github.com/kohjingyu/fromage,demo/app.py,2023-02-22T23:27:37Z,Add demo link and script
github.com/xijiu9/Train_Transformers_with_INT4,SingleDivide/transformersLocal/utils/hub.py,2023-06-22T18:54:32Z,first commit
github.com/mkshing/svdiff-pytorch,inference.py,2023-04-12T07:52:20Z,first commit of v0.2.0
github.com/mkshing/svdiff-pytorch,inference.py,2023-04-08T14:08:09Z,first commit
github.com/yegcjs/DiffusionLLM,transformers/src/transformers/utils/hub.py,2023-08-24T15:00:43Z,first commit
github.com/MikeGu721/EasyLLM,installs/transformers-install/src/transformers/utils/hub.py,2023-04-08T07:03:56Z,First Commit
github.com/coreweave/kubernetes-cloud,online-inference/bloom-176b-deepspeed/downloader/download.py,2022-09-27T19:46:00Z,"Online Inference: BLOOM with DeepSpeed

* Start BLOOM with DeepSpeed

* Custom InferenceService w/o kfserving

* Update image; server script patch; pin requirements"
github.com/skshadan/TTS-RVC-API,app/routers/tts.py,2023-09-01T07:34:51Z,"text-to-speech using RVC

done"
github.com/ruvnet/Surfer,venv/lib/python3.10/site-packages/sentence_transformers/util.py,2023-04-13T04:31:43Z,Initial commit
github.com/HillZhang1999/ICD,transformers/src/transformers/trainer.py,2023-12-23T08:01:08Z,add transformers
github.com/OpenBMB/BMTools,bmtools/tools/gradio_tools/tools/gradio_tool.py,2023-05-29T06:20:42Z,add gradio tools
github.com/douhaohaode/xtts_v2,TTS/tts/layers/bark/hubert/hubert_manager.py,2023-11-12T07:47:13Z,first commit
github.com/SepidehHosseinian/Python-Essentials-for-MLOps,venv/lib/python3.7/site-packages/datasets/inspect.py,2023-05-23T15:36:09Z,install datasets
github.com/EdVince/whisper-trtllm,transformers/src/transformers/trainer.py,2023-08-22T07:50:00Z,add:transformers
github.com/predibase/lorax,server/lorax_server/utils/sources/hub.py,2024-01-17T20:45:09Z,Added pbase adapter_source and expose api_token in client (#181)
github.com/predibase/lorax,server/lorax_server/utils/sources/hub.py,2023-11-16T01:20:58Z,Rename tgi and text-generation to lorax in rust (#19)
github.com/predibase/lorax,server/lorax_server/utils/sources/hub.py,2023-11-15T22:41:32Z,Rename to lorax (#16)
github.com/KevinWang676/Bark-Voice-Cloning,bark/hubert/hubert_manager.py,2023-06-11T22:17:39Z,Add files via upload
github.com/thu-coai/PICL,transformers/src/transformers/utils/hub.py,2023-01-14T14:00:04Z,init
github.com/ictnlp/TruthX,transformers/src/transformers/trainer.py,2024-02-27T13:46:43Z,first commit
github.com/guxm2021/ALT_SpeechBrain,speechbrain/pretrained/fetching.py,2022-09-29T16:04:28Z,upload speechbrain
github.com/cure-lab/MagicDrive,third_party/diffusers/scripts/convert_k_upscaler_to_diffusers.py,2024-01-25T06:28:16Z,"setup third-party to track changes

diffusers from v0.17.1 (afcca39)
xformers from v0.0.19 (8bf59c9)"
github.com/dvlab-research/Video-P2P,gradio_utils/trainer.py,2023-03-27T11:04:22Z,update local gradio
github.com/shikiw/OPERA,transformers-4.29.2/src/transformers/utils/hub.py,2023-11-30T11:07:38Z,new update
github.com/HillZhang1999/ICD,transformers/src/transformers/utils/hub.py,2023-12-23T08:01:08Z,add transformers
github.com/junzhezhang/DeformToon3D,external/VToonify/vtoonify_model.py,2023-09-29T05:59:31Z,code release
github.com/EdVince/whisper-trtllm,transformers/src/transformers/utils/hub.py,2023-08-22T07:50:00Z,add:transformers
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2024-02-27T17:07:35Z,"mamba and dual representation infer


Former-commit-id: 316553da45af92255853072397930d0c33c7ab34
Former-commit-id: 8cb294d046d4e208732f1ee55235b662c92b10cb"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-12-21T14:15:30Z,"Gradient clipping experiments


Former-commit-id: 62383edd1f7cb272ff4f18980d709b93ce53155a
Former-commit-id: ddc112cf292f72cbbafd91e678ab99a382a1ee7b"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-12-10T22:45:06Z,"Editing API


Former-commit-id: 935b569db634911befd1e4b93515024e8264bbe5
Former-commit-id: d7b525c929b056cdc864e417e961910ed1bdf45b"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-11-14T21:06:54Z,"torchutil + bucketing


Former-commit-id: 67e788f2458ed505e76fdf4dd10236b0410fb290
Former-commit-id: a75fc3ad172e49dffde13e614527c4a22bc42991"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-11-03T18:02:58Z,"representation utilities and local checkpoints


Former-commit-id: b9f4f392850f6fa095874c90efd744f99d6f614e
Former-commit-id: c4c4431a657e3ff27a821a8fcaba69d9cb74ed06"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-10-11T03:44:54Z,"torchutil integration


Former-commit-id: 494907fe7fa0c4525ad7ea7c16fb70381164e0e3
Former-commit-id: 05051ad69297311cc21918ac8fc7f65a10d04e1d"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-10-08T18:37:23Z,"move models to huggingface


Former-commit-id: dbf811e7f7b14865804ea610d476e7e622785292
Former-commit-id: 85dfec684698a9ae917671bc89af586c1721451d"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-10-05T13:58:24Z,"Class-balanced integration


Former-commit-id: 84181f70673398fb0a08f5f9349a388806cd491c
Former-commit-id: 34b9dc2939bcf0e53e79bb35fc0d16975f36e7bc"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-09-25T14:21:55Z,"Code-complete refactor


Former-commit-id: 839b17dfdd70a68ddaf99736e252b83e42048e03
Former-commit-id: ee11644d523ecf020d7cb21a5b482b89b7474e10"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-08-14T13:07:04Z,"Bugfixes and Charsiu


Former-commit-id: 9c784d7b660d3b300c9f2262b3b4f0bcc486398c
Former-commit-id: 955b227c47be709582f8fab06fa3a3061bd1a74b"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-07-30T04:51:08Z,"import sorting


Former-commit-id: 2ce4a5027e66f0d04a049cc3ef45163f3052203f [formerly e904c8605a55bddf70f9d3cbef06f7b6d679b355]
Former-commit-id: 17c624144b17faa9e55ef30f5f369a08d2d31ff2"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-07-29T06:29:09Z,"the great refactorening 2


Former-commit-id: 26f2af3c805366b3a2eb2190ee3b39e60e93df2f [formerly b07cc099fd0b1884ef2eb6d79df6cf4519f3c484]
Former-commit-id: 12915305735842ee60799ecc8e5e6f64cf0593ca"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2023-03-01T15:52:20Z,"model refactor and eval debugging


Former-commit-id: 5a1465e401743757125f1f7610b24b4e2689a886 [formerly ee424a509bee38b9e0be7b592cecffb06b218f56]
Former-commit-id: c8ba82e8b9286934cdbabc050d5cf5db7bc71331"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2022-11-17T01:07:21Z,"bug fixes in pipeline, download charsiu labels


Former-commit-id: 18f1a86164f56dec0aac3a760c5ecfdd09129fe9"
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2022-09-01T19:17:30Z,Progress on preprocessing
github.com/interactiveaudiolab/ppgs,ppgs/load.py,2022-08-11T20:33:06Z,Finished template
github.com/dki-lab/Pangu,allennlp/common/file_utils.py,2023-06-27T11:20:29Z,upload
github.com/ictnlp/TruthX,transformers/src/transformers/utils/hub.py,2024-02-27T13:46:43Z,first commit
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2023-03-02T08:45:42Z,"[Refactor] Relative imports wherever we can (#21880)

* initial commit

* update

* second batch

* style

* fix imports

* fix relative import on pipeline"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2023-02-22T08:14:54Z,Apply ruff flake8-comprehensions (#21694)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2023-02-06T23:10:56Z,"Update quality tooling for formatting (#21480)

* Result of black 23.1

* Update target to Python 3.7

* Switch flake8 to ruff

* Configure isort

* Configure isort

* Apply isort with line limit

* Put the right black version

* adapt black in check copies

* Fix copies"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2023-01-27T17:09:49Z,"Little cleanup: let huggingface_hub manage token retrieval (#21333)

* Let huggingface_hub manage token retrieval

* flake8

* code quality

* adapt in every PushToHubMixin children

* add explicit return type"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2023-01-24T15:37:10Z,"Use `logger.info` instead of `print` to emit a logging message in `hub.py` (#21273)

use logger.info() instead of print() to emit a debug message"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-11-28T15:35:52Z,"Safetensors offload (#20321)

* INtegrate safetensos in weight offloading

* Use safetensors checkpoint for offload when available

* Make naming consistent

* Make load faster

* Quality

* Add default"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-11-04T21:25:02Z,Update hub.py (#20075)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-10-19T14:55:57Z,Fix cache version file creation (#19750)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-10-10T13:19:33Z,"Stop relying on huggingface_hub's private methods (#19392)

* Leverage hfh for move cache

* Style"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-30T19:13:39Z,"Fix cached lookup filepath on windows for hub (#19178)

* Update hub.py commit_hash extraction

Add safety mechanism for windows systems to unify logic (replace double backslashes with /)

* Fix string quotetype

* Aaaa circleci is messing with me.

* Switch to using as_posix() method from pathlib

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-29T12:58:39Z,"Use `hf_raise_for_status` instead of deprecated `_raise_for_status` (#19244)

* Use  instead of  from huggingface_hub

* bump huggingface_hub to 0.10.0 + make deps_table_update"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-26T22:01:00Z,"Fix cached_file in offline mode for cached non-existing files (#19206)

* Fix cached_file in offline mode for cached non-existing files

* Add tests

* Test with offline mode"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-19T19:27:18Z,Don't warn of move if cache is empty (#19109)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-16T19:01:57Z,replace logger.warn by logger.warning (#19068)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-15T13:39:59Z,Move cache: expand error message (#19051)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-13T17:11:24Z,Re-add support for single url files in objects download (#19014)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-12T16:09:37Z,"Align try_to_load_from_cache with huggingface_hub (#18966)

* Align try_to_load_from_cache with huggingface_hub

* Fix tests"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-06T16:34:37Z,"Further reduce the number of alls to head for cached objects (#18871)

* Further reduce the number of alls to head for cached models/tokenizers/pipelines

* Fix tests

* Address review comments"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-09-02T14:30:06Z,"Clean up utils.hub using the latest from hf_hub (#18857)

* Clean up utils.hub using the latest from hf_hub

* Adapt test

* Address review comment

* Fix test"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-10T19:46:03Z,Properly move cache when it is not in default path (#18563)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-10T15:55:18Z,"Use commit hash to look in cache instead of calling head (#18534)

* Use commit hash to look in cache instead of calling head

* Add tests

* Add attr for local configs too

* Stupid typos

* Fix tests

* Update src/transformers/utils/hub.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

* Address Julien's comments

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-09T19:15:01Z,Clean up comment
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-08T14:22:27Z,New cache fixes: add safeguard before looking in folders (#18522)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-08T12:48:10Z,"Clean up hub (#18497)

* Clean up utils.hub

* Remove imports

* More fixes

* Last fix"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-06T07:42:55Z,"`transformers-cli login` => `huggingface-cli login` (#18490)

* zero chance anyone's using that constant no?

* `transformers-cli login` => `huggingface-cli login`

* `transformers-cli repo create` => `huggingface-cli repo create`

* `make style`"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-05T17:29:38Z,Typo reported by Joel Grus on TWTR (#18493)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-05T17:24:53Z,Forgot one new_ for cache migration
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-05T17:14:00Z,"Move cache folder to huggingface/hub for consistency with hf_hub (#18492)

* Move cache folder to just huggingface

* Thank you VsCode for this needless import

* Move to hub

* Forgot one"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-05T14:12:40Z,"Use new huggingface_hub tools for download models (#18438)

* Draft new cached_file

* Initial draft for config and model

* Small fixes

* Fix first batch of tests

* Look in cache when internet is down

* Fix last tests

* Bad black, not fixing all quality errors

* Make diff less

* Implement change for TF and Flax models

* Add tokenizer and feature extractor

* For compatibility with main

* Add utils to move the cache and auto-do it at first use.

* Quality

* Deal with empty commit shas

* Deal with empty etag

* Address review comments"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-08-01T16:07:30Z,"Rewrite push_to_hub to use upload_files (#18366)

* Rewrite push_to_hub to use upload_files

* Adapt the doc a bit

* Address review comments and clean doc"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-07-19T09:53:53Z,"[From pretrained] Allow download from subfolder inside model repo (#18184)

* add first generation tutorial

* [from_pretrained] Allow loading models from subfolders

* remove gen file

* add doc strings

* allow download from subfolder

* add tests

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* apply comments

* correct doc string

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-07-13T16:43:08Z,"Make sharded checkpoints work in offline mode (#18125)

* Make sharded checkpoints work in offline mode

* Add test"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-07-13T14:53:25Z,"Revert ""Make sharded checkpoints work in offline mode""

This reverts commit 3564c6578630a3bef29d2c7c36c7d29b68acd874."
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-07-13T14:51:56Z,Make sharded checkpoints work in offline mode
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-07-11T16:45:06Z,Add filename to info diaplyed when downloading things in from_pretrained (#18099)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-06-22T05:04:35Z,Flax sharded (#17760)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-06-21T16:01:08Z,"TF Sharded (#17713)

* initial commit

* update modeeling tf utils

* quality

* clean and update args

* update

* remove potential bug

* code quality

* update

* update max shard

* update tests for sharding from pretrained

* fix remaining test

* make style

* h5py if tf available

* update and fix test

* fix test

* style

* modified push to hub to support shard for TF

* quick fix

* update code

* merge branch main and style

* Apply suggestions from code review

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* update based on reviews

* update doc

* update and style

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update based on reviews

* fix typo

* style

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-06-21T15:51:18Z,"Prepare transformers for v0.8.0 huggingface-hub release (#17716)

* Prepare CI for v0.8.0

* pin hfh (revert before merge)

* Revert ""pin hfh (revert before merge)""

This reverts commit a0103140e1c77b810ffcb735192968bc03be3e1f.

* Test rc3

* Test latest rc

* Unpin to the RC

Co-authored-by: Sylvain Gugger <Sylvain.gugger@gmail.com>"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-06-10T13:41:53Z,"🐛 Properly raise `RepoNotFoundError` when not authenticated (#17651)

* Raise RepoNotFoundError in case of 401

* Include changes from revert-17646-skip_repo_not_found

* Add a comment

* 💄 Code quality

* 💚 Update `get_from_cache` test

* 💚 Code quality & skip failing test"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-06-08T15:34:05Z,Fix telemetry URL (#17608)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-06-07T15:57:52Z,"Add examples telemetry (#17552)

* Add examples telemetry

* Alternative approach

* Add to all other examples

* Add to templates as well

* Put framework separately

* Same for TensorFlow"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-05-12T20:25:55Z,"Black preview (#17217)

* Black preview

* Fixup too!

* Fix check copies

* Use the same version as the CI

* Bump black"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-04-29T16:26:45Z,"Revert ""Updating variable names. (#16445)"" (#17011)

This reverts commit 4f3a14e3c235c8b6b8cd2f5bc448a0cffacddf61."
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-04-29T15:44:28Z,Updating variable names. (#16445)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-04-25T19:15:00Z, Fix issue probably-meant-fstring found at https://codereview.doctor (#16913)
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-03-23T19:56:49Z,"Make Transformers use cache files when hf.co is down (#16362)

* Make Transformers use cache files when hf.co is down

* Fix tests

* Was there a random circleCI failure?

* Isolate patches

* Style

* Comment out the failure since it doesn't fail anymore

* Better comment"
github.com/cedrickchee/transformers-llama,src/transformers/utils/hub.py,2022-03-23T14:26:33Z,"Reorganize file utils (#16264)

* Split file_utils in several submodules

* Fixes

* Add back more objects

* More fixes

* Who exactly decided to import that from there?

* Second suggestion to code with code review

* Revert wront move

* Fix imports

* Adapt all imports

* Adapt all imports everywhere

* Revert this import, will fix in a separate commit"
github.com/mkshing/e4t-diffusion,e4t/utils.py,2023-04-01T12:24:09Z,fix domain-tuning
github.com/mkshing/e4t-diffusion,e4t/utils.py,2023-03-31T06:35:04Z,fix
github.com/mkshing/e4t-diffusion,e4t/utils.py,2023-03-25T20:44:00Z,fix
github.com/mkshing/e4t-diffusion,e4t/utils.py,2023-03-25T20:35:31Z,big changes for better results
github.com/mkshing/e4t-diffusion,e4t/utils.py,2023-03-18T12:22:31Z,minor fixes
github.com/mkshing/e4t-diffusion,e4t/utils.py,2023-03-16T02:03:23Z,first commit
github.com/Nerogar/OneTrainer,modules/module/HPSv2ScoreModel.py,2023-10-25T16:38:57Z,load HPSv2 with the correct precision
github.com/Nerogar/OneTrainer,modules/module/HPSv2ScoreModel.py,2023-10-24T17:39:29Z,HPSv2 support for AlignProp
github.com/DeepLink-org/AIChipBenchmark,llm/Alpaca-Lora/trainer.py,2023-09-01T06:01:30Z,Add tgs
github.com/zhoujx4/NLP-Series-sentence-embeddings,sentence_transformers/util.py,2021-12-28T14:31:31Z,using sbert reconstruct
github.com/xbmxb/RAG-query-rewriting,rl/RL4LMs/rl4lms/envs/text_generation/transformersllm/utils/hub.py,2023-10-21T10:47:12Z,morecode
github.com/mhh0318/Cocktail,annotator/SAN/predict.py,2023-06-02T12:44:47Z,gradio demo
github.com/mhh0318/Cocktail,annotator/SAN/predict.py,2023-05-30T15:11:44Z,Add annotations
github.com/linto-ai/linto-stt,whisper/stt/processing/alignment_model.py,2023-11-30T16:49:13Z,fix coding style
github.com/linto-ai/linto-stt,whisper/stt/processing/alignment_model.py,2023-11-29T17:49:00Z,Isolate what is specific to Whisper in a folder
github.com/runpod/serverless-workers,workers/EveryDream/cog_example/EveryDream2trainer/utils/huggingface_downloader.py,2023-02-03T18:25:05Z,feat: added EveryDream2Train Repo
github.com/jialuli-luka/PanoGen,Stable-Diffusion/diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-05-30T22:14:18Z,commit message
github.com/mkshing/svdiff-pytorch,svdiff_pytorch/utils.py,2023-04-13T01:09:32Z,cosine
github.com/mkshing/svdiff-pytorch,svdiff_pytorch/utils.py,2023-04-12T07:52:20Z,first commit of v0.2.0
github.com/mkshing/svdiff-pytorch,svdiff_pytorch/utils.py,2023-04-08T14:08:09Z,first commit
github.com/Ascend/ModelZoo-PyTorch,PyTorch/built-in/foundation/LLaMA-13B/transformers_modify/trainer.py,2023-11-24T07:15:55Z,"!5865 更新新版本LLaMA-13B(fsdp训练)
Merge pull request !5865 from zhangbin/master"
github.com/Ascend/ModelZoo-PyTorch,PyTorch/built-in/foundation/LLaMA-13B/transformers_modify/trainer.py,2023-08-25T09:27:31Z,"fix bugs while doing inference, update README.md"
github.com/Ascend/ModelZoo-PyTorch,PyTorch/built-in/foundation/LLaMA-13B/transformers_modify/trainer.py,2023-07-05T06:48:30Z,Add modifications to adapt NPU devices
github.com/Ascend/ModelZoo-PyTorch,PyTorch/dev/perf/speechbrain-tdnn/speechbrain/pretrained/fetching.py,2023-06-25T09:50:02Z,"ECAPA-TDNN NPU

NPU迁移

NPU迁移

NPU适配"
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-09-18T14:41:31Z,Remove some hook_mlp_in things based on new TL
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-07-06T13:53:32Z,More upd
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-06-04T17:47:45Z,Make the edge stuff different
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-06-04T12:59:24Z,Rename transformer_lens -> ACDC
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-06-04T12:43:49Z,Move tasks too
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-06-01T17:12:35Z,"Change back to transformer_lens install

Change folder

Oh I forgot pyproject"
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-16T06:13:26Z,16heads should just work now
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-16T04:01:17Z,Merge remote-tracking branch 'upstream/more-rocs' into other-code
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-15T19:04:01Z,Cleanup
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-15T18:28:24Z,workign 16 heads induction
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-15T18:03:59Z,and so it begns'
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-15T00:25:30Z,argh
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-14T21:06:24Z,Merge remote-tracking branch 'upstream/main' into other-code
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-14T13:44:46Z,Add the ipdated return tensor
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-13T19:29:16Z,change name of data class
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-13T05:19:34Z,Move induction to new format
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-13T02:30:33Z,Set device explicitly
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-13T01:59:49Z,Make a test out of this
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-13T01:40:31Z,Add all references to sixteen_heads?
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-13T01:08:49Z,All the things work but it is broken
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-12T23:44:16Z,Fix a couple bugs
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-12T22:54:58Z,Begin to merge 16 Heads
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-12T21:05:27Z,Merge remote-tracking branch 'upstream/main' into fig-4-exp
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-05-08T23:29:44Z,deletions:
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-29T19:52:03Z,Progress
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-27T00:33:45Z,Add stuff with layer 1 correct..
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-26T21:45:57Z,num examples
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-26T12:23:06Z,Changes to allow for 16 Heads
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-22T16:02:34Z,Fix somwe plotting and setup final train run
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-18T18:57:55Z,More progress
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-16T23:10:24Z,ACDC in process of getting more metrics
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-16T05:25:29Z,Update loading of data so it's nicer
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-06T13:50:11Z,Fix some bad shuffling
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-06T12:27:08Z,"Warning: edge count borken, investigatin..."
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-05T14:02:53Z,Add README
github.com/ArthurConmy/Automatic-Circuit-Discovery,acdc/induction/utils.py,2023-04-05T13:40:13Z,Do renaming properly
github.com/FMInference/H2O,h2o_flexgen/benchmark/third_party/transformers/src/transformers/utils/hub.py,2023-06-18T09:46:29Z,add h2o in flexgen
github.com/THUDM/SwissArmyTransformer,examples/eva2/transform_param.py,2023-04-11T14:00:49Z,v.0.3.1 refactor SwissArmyTransformer as sat
github.com/THUDM/SwissArmyTransformer,examples/eva2/transform_param.py,2023-03-31T09:38:44Z,update chatglm and eva2 inference
github.com/THUDM/SwissArmyTransformer,examples/eva2/transform_param.py,2023-03-30T13:22:43Z,eva2 model
github.com/SqueezeAILab/KVQuant,deployment/transformers/src/transformers/trainer.py,2024-02-16T20:56:11Z,Deployment Support
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-16T21:11:37Z,"BREAKING: change CUDA offload and fix xformers forward-only detection.

vram_optimisation_level now goes to 5, if you were using 3 before you should use 4 or 5"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-15T12:17:10Z,"Only transfer unet and inpaint_unet to CUDA when actually used, and unload after generation, to reduce VRAM usage"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-15T10:24:23Z,Fix xformers not working backwards on most GPUs
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-15T07:46:44Z,Improve clone_model to significantly reduce amount of temporary RAM used
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-15T04:41:42Z,Significant refactor of model manager. Much cleaner and less repetition now.
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-12T10:27:00Z,Add modified sample_dpmpp_2m from birch-san that works better at low step counts
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-10T03:42:32Z,Update to Stable Diffusion V2.1 / Diffusers 0.10.2 / Transformers 4.25.1
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-05T10:17:26Z,Add tiling mode
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-04T04:13:42Z,"Allow setting hires fix out-of-square fraction, and expose hires settings over GRPC"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-03T04:43:44Z,"Now happy with graft & hires code structure, also restored LPW and fixed ETA default in supported schedulers"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-12-01T22:08:28Z,"Fix graft mode, fix hi-res mode when used with graft mode (but Im not really happy with it yet)"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-28T18:55:13Z,Start breaking down unified_pipeline into smaller files
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-25T02:15:56Z,"Enable attention slicing for SD2, and allow adding ignore_patterns to engines.yaml to avoid downloading unneeded files"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-25T00:56:21Z,Update SD2 support to use official models
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-24T10:46:52Z,Support k-diffusion samplers with velocity unets like SD2
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-24T09:17:16Z,First pass at SD2 support (txt2img models only at this stage)
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-23T10:58:28Z,"Add more sigma control, and expose kdiffusion schedulers and settings over GRPC protocol"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-20T09:37:41Z,Replace UnifiedPipeline with new version (finally)
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-20T06:54:44Z,"Bring internal kschedulers up to Diffuser 0.7 scheduler API, and standardise on timestep everywhere possible"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-20T01:43:54Z,Allow using CFG guidance channel or mixed channel as basis for CLIP loss calculation
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-19T08:00:38Z,"Fix CLIP for Diffusers K schedulers, fix k-diffusion dependancies, expose Kerras Rho"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-17T08:20:05Z,"Basic t2i, i2i, ei, rwei modes all work with new KDiffusion & Diffusers"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-14T06:56:13Z,Add support for RiversHaveWings SDUpscaler model
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-11T00:30:42Z,Fix engine listing when models are present
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-09T08:36:24Z,Fix NSFW flag mode
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-09T07:28:08Z,"If loading model fails, delete any cached files for that model and try again, to work around corrupted or partial downloads"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-07T08:04:44Z,Add DPMSolver++ scheduler
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-06T06:46:42Z,"BREAKING internal api change - PipelineWrapper.generate refactored to not take params object, just all as parameters like the internal pipeline"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-05T11:42:36Z,Significantly reduce CPU ram use by the non-active models
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-05T09:51:36Z,"Major refactor to engines.yaml, upgrade to Diffusers 0.7.1, use accelerate to do cpu_offload"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-11-03T09:44:04Z,"Add ToMe support (optimised UNet), big improvement to CLIP guided speed and memory usage"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-28T10:11:26Z,Once a year a cricket must slough its skin
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-27T10:27:29Z,"Make CLIP guidance work with DPM2/2A and add Training Free Structured Diffusion. Known bugs: FP32 only, and BATCH_MAX 1 only"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-26T11:36:07Z,"Add CLIP guided mode. Makes generation much slower, takes loads of VRAM, and doesnt really improve results. Not sure if I'll keep it."
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-26T08:42:39Z,"Refactor model loading - you need to explictly request a refresh to check and refresh the cache, allow model borrowing, tweak graft inpainting with graft_factor"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-25T10:39:58Z,"First pass at Grafted Inpainting, allowing Runwayml inpainting to help improve other models (like Waifu Diffusion)"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-23T09:19:35Z,"Clean up new inpainting code, and fix bugs"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-23T07:06:01Z,First pass at integrating Runway inpainting - lots of bugs still
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-22T12:08:43Z,GRPC server now accepts multiple Text prompts with different Weights
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-22T07:42:28Z,Remove debug stacktrace being printed during auto batchmax detection
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-22T07:39:35Z,Use batches when possible to give over-all speedup
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-22T07:39:35Z,"Add initial version of batch independance, and allow individual model overrides in engine.yaml"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-13T07:52:22Z,"Add remaining k_schedulers, fix a bunch of Diffusers 0.4.1 related bugs, and add a Docker file"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-12T11:25:34Z,"Change how vramO=3 works, now _much_ faster and similar vram need. Also fix old schedulers initial sigma"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-10T11:30:41Z,Make VRAM optimisation level 2 & 3 work across modes
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-10T09:54:49Z,Fix old Hlky schedulers with Diffusers 0.4.1
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-10T07:42:21Z,"Update Diffusers compatibility to 0.4.1, and fix version in requirements since it looks like backwards compatibility will be a thing for a while"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-07T03:29:30Z,Use xformers fast attention when xformers is installed
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-05T05:14:53Z,"Refactor so server starts before pipelines are loaded, and will return ready: False until each pipeline is ready"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-04T11:17:34Z,"In inpainting mode, when strength is exactly 1, mask original image back into results to prevent slight changes in the masked section"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-10-04T10:04:40Z,First version of image adjustment pipeline on Artifacts. See sdgrpcserver/proto/generation.proto for details
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-27T10:58:31Z,Allow specifying where the models are located as a command line arg
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-27T07:41:51Z,"Move requirements to requirements.txt, and upgrade grpc version to latest"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-26T10:24:22Z,"BREAKING CHANGE: reverse strength meaning between 1 and 2 for outpainting. 1 now means dont change protected area, going above that allows more and more changes to protected area to ensure good outpaint seam"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-26T00:10:23Z,"Massive improvement to outpainting (plus ETA for DDIM, cancel & progress for API)"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-23T12:00:59Z,"Improvement to outpainting, and include Hlkys euler_a which handles outpainting discontinuity much better"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-22T12:23:20Z,First version of a modification to unified pipeline that does pretty nice outpainting based on Parlances method
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-22T09:17:56Z,"Add masked generation support (regular inpainting at strength < 1, seamless outpainting at strength == 1)"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-21T11:50:38Z,"Fix passing through sampler, will now work (for DDIM, PLMS, K_LMS)"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-21T11:11:46Z,"Fix a few bugs, add NSFW filtering control, enable very-low-vram mode, pass all standard parameters through to generation"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-21T07:41:30Z,Support more standard request parameters
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-21T07:41:18Z,"Fix CPU mode usage, add a couple of command line arguments to control pipelines, and enable KLMS in inpaint pipeline"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-20T12:03:42Z,"Add Unified Pipeline that handles txt2img, img2img and inpainting"
github.com/hafriedlander/stable-diffusion-grpcserver,sdgrpcserver/manager.py,2022-09-20T09:59:06Z,"Create basic structure, allow multiple engines, and handle loading and unloading into cuda"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2024-02-28T14:00:35Z,"Support Gemma model (#1631)

* support Gemma model

* fix black

* set layer_norm_use_residual as optional

---------

Co-authored-by: thucpham <minhthuc.pham@systrangroup.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2024-02-12T17:37:28Z,"LLaMa: get tokens in the range of the vocab size (#1621)

Co-authored-by: thucpham <minhthuc.pham@systrangroup.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-29T18:01:51Z,"Adding PhiConfig (#1568)

* adding phiconfig
---------

Co-authored-by: Michael Feil <michael.feil@michaelfeil.eu>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-28T11:46:47Z,"check alignment_heads in gen config before using (#1565)

Co-authored-by: thucpham <minhthuc.pham@systrangroup.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-20T09:39:17Z,"Better HF-to-CT2 conversion for Whisper model (#1546)

* Better HF-to-CT2 conversion for Whisper model
* Use lang_ids from gen config if available
* Fix the case when there is no lang_to_ids in gen config"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-17T12:22:49Z,"fixed decoder_start_token_id for T5 (#1552)

* fixed decoder_start_token_id for T5, pad_token as default for decoder_start
---------

Co-authored-by: Ehsan Jahanbakhsh <ehsan.jahanbakhsh.bashirloo@gmail.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-08T17:17:22Z,"whisper-large-v3 compatibility (#1530)

* expose n_mels
openai whisper large-v3 introduces change from 80 to 128 in mel input feature.
exposing n_mels is required to propagate the input size to the audio feature extractor
* fix guessing is_multilingual for large-v3
* alignement heads for large-v3
see https://github.com/OpenNMT/CTranslate2/pull/1530#issuecomment-1801243243
* add num_languages property to whisper models
* update comment documentation
---------

Co-authored-by: Valentin Berkes <vberkes@ubiqus.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-07T12:39:59Z,"Support conversion for distil-whisper (#1529)

Previous code was assuming same number of encoder and decoder layer.
Removed this assumptions and obtain the number of layer separately."
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-07T07:52:40Z,"Minimal support for Mistral 7B model. (#1528)

* minimal support for Mistral: loader and rotary length (no sliding so far)"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-11-03T11:29:00Z,"Support Transformers in the Wav2Vec2 Encoder for the ASR Inference (#1520)

* Support Transformers in the Wav2Vec2 Encoder for the ASR Inference
* change ONEAPI_VERSION to 2023.2.0
Co-authored-by: hkwon <homin.kwon@sri.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-09-15T13:19:02Z,"Added converter for MixFormerSequentialForCausalLM (#1485)

* Added converter for MixFormerSequentialForCausalLM

* Format code

* Removed manual check from auto_map field

* Set rotary_interleave to False"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-08-31T07:57:26Z,"Implement converter for FalconConfig (#1405) (#1449)

* Implement converter for FalconConfig (#1405)

* Apply black

* Fix c++ Alibi test

* Set rotary_dim to 0

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

* Improve scale_alibi parameter description

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

* Improve scale_alibi parameter description

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

* Update src/layers/attention.cc

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

* Fix c++ Alibi test

* Remove Falcon test

---------

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-08-29T10:19:41Z,Make the RoPE base period configurable (#1445)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-08-29T07:55:50Z,"Implement linear RoPE scaling (#1442)

* Implement linear RoPE scaling

* Fix black formatting"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-08-04T07:06:35Z,"Implement DistilBERT converter (#1399)

* Implement DistilBERT converter

* Update docs/guides/transformers.md

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>

---------

Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-08-02T13:53:09Z,"By default, keep the same FP precision when converting models (#1389)

* By default, keep the same FP precision when converting models

* Update docstrings with int8_float32

* Update function get_supported_compute_types

* Load Transformers models in the correct dtype

* Update quantization.md

* Add compute_type property to model instances

* Check quantization argument"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-31T15:24:10Z,Update Llama converter to accept extra tokens in the vocabulary (#1380)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-27T08:15:26Z,Remove vocabulary workaround in the Llama converter (#1369)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-20T14:33:26Z,Set the RMS norm epsilon value in the configuration of Llama models (#1357)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-19T13:40:24Z,"Update converter for meta-llama/Llama-2-*-hf models (#1354)

* Update converter for meta-llama/Llama-2-*-hf models

* Fix black formatting"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-17T12:18:04Z,"Revert ""Fix/falcon renaming (#1345)"" (#1346)

This reverts commit 16ac475c8ff107a1b9577e94bec726168068f97a."
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-17T08:39:23Z,"Support bfloat16 execution on the GPU (#1316)

* Support bfloat16 execution on the GPU

* Fix incorrect variable name

* Update README

* Remove unused str

* Fix compilation of convert for older architectures

* Fix check for BF16 support

* Do not use __hmax function

* Skip test on Windows

* Register Torch tensors in the Transformers converter

* Import optional modules at the top of the file

* Fix tests

* Remove unnecessary import

* Fix the fallback table"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-13T12:08:01Z,"Fix/falcon renaming (#1345)

* fix: rename RW to Falcon

* fix: update all variable names

* format: black"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-07-11T07:58:35Z,"Support Trust Remote Code for Tokenizer as well (#1336)

* support_tokenizer_trust_remote_code

* Match_Black_Styling

* Review_fix

* Black_styling_fix"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-06-21T10:20:56Z,"Unit test for llama gptbig codegen (#1298)

* falcon: add additional vocab

* add unit tests for llama, gptbig, and codegen

* update test

* format with black

* also adding the vocab extension to Bert

* reformat with black

* llama test

* update unittest

* update

* Remove diff

---------

Co-authored-by: michaelfeil <me@michaelfeil.eu>
Co-authored-by: Guillaume Klein <guillaumekln@users.noreply.github.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-06-15T10:02:38Z,"Add an XLMRoberta Config to the HF transformers converter (#1290)

* Add an XLMRoberta Config to the HF transformers converter

* Fix styling/formatting issues

* Reformat transformers.py with Black

---------

Co-authored-by: Vasil Filipov <vasil.filipov@sensika.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-06-15T09:04:42Z,"Support conversion of Falcon-40B (#1282)

* Support conversion of Falcon-40B

* Fix missing argument"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-06-06T11:18:39Z,"Initial support for encoder-only models (BERT) (#1256)

* Initial support for encoder-only models (BERT)

* Cleanup class comment

* Make a synchronous copy of StorageView inputs"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-06-05T12:25:40Z,"remove use_fast arg for loading tokenizers (#1270)

Co-authored-by: Caroline Dockes <carolined@speechmatics.com>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-06-05T09:21:09Z,"Add conversion code for Falcon models (#1260)

* Add conversion code for Falcon models

* Update documentation"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-05-26T14:14:30Z,"Implement multi-query attention for GPTBigCode (#1246)

* Implement multi-query attention for GPTBigCode

* Increase the spec revision"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-05-26T12:30:30Z,List supported configurations in alphabetical order in the error (#1247)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-05-26T10:26:08Z,Integrate the HF LLaMa converter (#1242)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-05-26T09:59:27Z,"Add a converter for GPTBigCode (#1245)

* initial conversion

* refactor converter

* rename class and reformat

---------

Co-authored-by: Michael Feil <michael.feil@michaelfeil.eu>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-05-23T08:40:12Z,"Adding support for transformers - Salesforce/CodeGen architecture (#1230)

* initial commit of converter

* format code with flake8

* update comments, formatting

* reformat with black - just to make the CI happy V1

* reformat with black - v2

* add experimental config for codegen-2-2B

* update code for ctranslate2

* refactor difference between codegen2 and codegen1

* Update transformers.py

* reformat

* resolve comments

* format with black

---------

Co-authored-by: Michael Feil <michael.feil@michaelfeil.eu>"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-05-22T10:53:43Z,Support the MPT model from MosaicML (#1228)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-04-21T14:40:18Z,Support GPT-NeoX architecture (#1180)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-04-17T13:24:02Z,Expose flag low_cpu_mem_usage of Transformers method from_pretrained (#1173)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-04-17T13:23:28Z,Also load weights as FP16 when converting to int8_float16 (#1172)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-04-17T07:15:49Z,Add alternative rotary implementation that slices the head dimensions (#1168)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-04-06T13:13:05Z,"Implement rotary embeddings and support the GPT-J model (#1158)

* Implement rotary embeddings and support the GPT-J model

* Fix typo

* Increment the TransformerDecoderSpec revision

* Fix condition to recompute the sin/cos embeddings

* Remove parameter rotate_every_two

* Remove unrelated changes

* Remove apply_residual attribute

* Minimize diff"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-03-16T10:16:12Z,Fix error when converting a Whisper model from a path (#1131)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-03-15T09:00:17Z,Support BLOOM language models (#1128)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-03-14T18:06:23Z,"Add method Whisper.align to implement word-level timestamps (#1120)

* Add method Whisper.align to implement word-level timestamps

* Reword error message

* Add comment about missing GPU operations

* Move list of alignment heads at the end of the file

* Move MedianFilter to dedicated file

* Implement generalized LayerNorm on CPU"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-03-06T09:36:55Z,"Immediately load HF models in FP16 if it is the target conversion type (#1110)

* Immediately load HF models in FP16 if it is the target conversion type

* Exclude int8_float16"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-03-02T09:38:28Z,"Add option to copy any HF model files in the converted model directory (#1106)

* Add option to copy any HF model files in the converted model directory

* Check for existing files

* Reformat file"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-02-28T10:02:10Z,Add methods in TransformersConverter to customize from_pretrained call (#1102)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-02-08T15:15:31Z,"Implement variants of the GELU activation (#1065)

* Implement variants of the GELU activation

* Fix clang error

* Use FMA instruction in Tanh approximation"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-01-24T08:39:41Z,Workaround the incorrect <unk> ID in M2M100Tokenizer.get_vocab (#1057)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2023-01-02T10:42:42Z,Apply SmoothQuant for OPT models (#1038)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-12-29T09:35:16Z,Support T5 models (#1027)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-12-28T16:31:43Z,Read decoder_layers parameters for BART-like models (#1032)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-12-07T11:27:08Z,"Generalize the TransformerSpec constructor (#1006)

* Generalize the TransformerSpec constructor

* Fix test"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-11-21T16:04:56Z,"Remove some unnecessary fields in the Whisper configuration (#986)

* Remove some unnecessary fields in the Whisper configuration

* Increase spec revision"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-11-17T14:30:21Z,Fix timestamp tokens in the Whisper vocabulary (#984)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-11-02T11:29:47Z,"Integrate the Whisper model from OpenAI (#956)

* Integrate the Whisper model from OpenAI

* Reformat test file

* Install cuDNN devel package

* Return Numpy tensors in example

* Push missing __init__.py file

* Add datasets module in test requirements

* Add decoded audio test file in the repo

* Enable REORDER primitive"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-10-28T15:51:13Z,Move model-specific logic out of the base Transformers conversion class (#954)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-10-26T14:33:05Z,Add config.json file in the model directory (#948)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-07-29T16:49:10Z,Fix conversion of NLLB models without tokenizer_class in config (#889)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-07-27T13:54:45Z,"Add support for NLLB multilingual models (#878)

* Add support for NLLB multilingual models

* Update requirements.txt

* Fix tokenizer class check

* Update Transformers version"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-07-27T10:39:33Z,"Add conversion for Pegasus summarization models (#883)

* Add conversion for Pegasus summarization models

* Fix formatting

* Update README"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-07-06T13:56:23Z,"Remove <pad> token when converting MarianMT models (#865)

* Remove <pad> token when converting MarianMT models

* Reformat test file"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-06-23T08:11:53Z,Add missing final layer norm in OPT model (#850)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-06-21T14:23:53Z,Keep verbose mode enabled for Transformers' tokenizer (#848)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-06-13T13:38:46Z,Add missing logits bias for some Transformers model (#833)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-05-31T10:21:42Z,"Fix conversion of facebook/bart-large-cnn (#817)

* Fix conversion of facebook/bart-large-cnn

* Fix formatting"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-05-25T12:22:11Z,"Reorder Python imports with isort (#812)

* Reorder Python imports with isort

* Set working directory"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-05-17T15:56:17Z,"Support OPT models via the Transformers converter (#807)

* Support OPT models via the Transformers converter

* Update Python version in tests

* Fix wheel name

* Minor formatting"
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-05-16T08:31:40Z,MarianMTLoader: normalize_before = False (#804)
github.com/OpenNMT/CTranslate2,python/ctranslate2/converters/transformers.py,2022-05-06T16:55:03Z,"Add a converter for Hugging Face Transformers (#797)

* Add a converter for Hugging Face Transformers

* Update README

* Restrict testing to Linux runner"
github.com/kuutsav/llm-toys,llm_toys/hf/transformers/utils/hub.py,2023-07-15T14:30:57Z,updated hf refs
github.com/D8-Dreambooth/stable-diffusion-plus,core/helpers/captioners/wolf.py,2023-05-19T22:24:57Z,"Fixes and changes and tagging, oh my."
github.com/THUDM/ImageReward,sdwebui/image_reward.py,2023-05-23T05:30:06Z,Smoothen installation in SD Web UI script.
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-22T02:54:28Z,"set_max_key_frames_env (#10)


- add midas depth and env for MAX_KEYFRAME (c962acd2ca442aebd3c83d20cc91ebabc2b1ab75)


Co-authored-by: Radamés Ajna <radames@users.noreply.huggingface.co>"
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-20T04:16:17Z,"fix_enable_any_model_hf (#8)


- simple update to enable download any model file from the hub (38bfc1d9aab9d3b64304fc00a8de540c5bc033c6)


Co-authored-by: Radamés Ajna <radames@users.noreply.huggingface.co>"
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-19T02:56:37Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-18T01:56:02Z,fix bug
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-17T01:23:49Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T15:57:50Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T12:53:49Z,update
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T12:34:49Z,update
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T11:31:25Z,update
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T10:43:14Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T10:42:03Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T10:40:46Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T10:35:27Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T09:56:07Z,update
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T08:46:48Z,Update app.py
github.com/pravdomil/Rerender-A-Video,app.py,2023-06-16T08:15:01Z,"merge (#1)


- first commit (eab2e368258e9e9b159c3ad6abbc89227cdf3976)"
github.com/pravdomil/Rerender-A-Video,global_state.py,2023-07-25T09:30:24Z,next
github.com/pravdomil/Rerender-A-Video,global_state.py,2023-07-24T13:54:13Z,next
github.com/pravdomil/Rerender-A-Video,flow/flow_utils.py,2023-06-16T09:03:29Z,Update flow/flow_utils.py
github.com/pravdomil/Rerender-A-Video,flow/flow_utils.py,2023-06-16T08:58:50Z,Update flow/flow_utils.py
github.com/pravdomil/Rerender-A-Video,flow/flow_utils.py,2023-06-16T08:52:38Z,Update flow/flow_utils.py
github.com/pravdomil/Rerender-A-Video,flow/flow_utils.py,2023-06-16T08:15:01Z,"merge (#1)


- first commit (eab2e368258e9e9b159c3ad6abbc89227cdf3976)"
github.com/SepidehHosseinian/Python-Essentials-for-MLOps,venv/lib/python3.7/site-packages/transformers/utils/hub.py,2023-05-23T15:15:56Z,install transformers
github.com/suu990901/LLaMA-InfoEntropy-Loss,transformers/trainer.py,2023-11-04T09:18:48Z,init
github.com/suu990901/LLaMA-InfoEntropy-Loss,transformers/utils/hub.py,2023-11-04T09:18:48Z,init
github.com/skeskinen/bert.cpp,models/download-ggml.py,2023-04-26T17:01:12Z,Initial commit
github.com/Ascend/ModelZoo-PyTorch,PyTorch/contrib/audio/tdnn/speechbrain/pretrained/fetching.py,2023-07-10T07:05:29Z,"!5157 【需求】【PyTorch】【Tdnn】训推一体
* 新增训练脚本，修改相应文件
* 修改文件，添加license，添加readme
* tdnn模型上传"
github.com/Ascend/ModelZoo-PyTorch,PyTorch/contrib/audio/tdnn/speechbrain/pretrained/fetching.py,2022-03-18T07:08:55Z,init
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2024-02-14T07:06:32Z,To fix LLAMA-V2-70B-FT-HF (8x) for eager mode (#709)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2024-02-12T06:34:09Z,"Upgrade to Transformers 4.37 (#651)

Co-authored-by: Sayantan Sarkar <sasarkar@habana.ai>
Co-authored-by: Libin Tang <litang@habana.ai>
Co-authored-by: Jimin Ha <jha@habana.ai>
Co-authored-by: Yeonsil Yoon <yyoon@habana.ai>
Co-authored-by: Sayantan Sarkar <supersarkar@gmail.com>"
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2024-01-23T18:09:33Z,Add changes to support FSDP (#598)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2024-01-03T18:11:00Z,Adding support for bf16_full_eval (#610)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-12-29T15:24:37Z,Fix crash if gaudi_config is not passed to GaudiTrainer (#613)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-12-19T08:15:17Z,"In peft, only the trainable parameters need to be saved (#576)"
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-12-14T09:06:11Z,Integrate Habana flash attention to Llama2-70B finetune (#596)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-12-12T10:42:29Z,Support for FlashAttention in Llama2 (#584)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-30T22:58:23Z,Upgrade to SynapseAI 1.13 (#563)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-30T21:54:03Z,Add workaround for GPT2 gaudi config for autocast
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-24T13:23:44Z,Remove HMP from optimum-habana (#349)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-21T21:23:00Z,Fix save DS scheduler (#549)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-17T09:32:40Z,Add infra to enable/disable dynamic shapes feature through gaudi_config (#513)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-16T16:48:52Z,"Fix for attn_softmax_bf16 when generation_config is None (#531)

* Enable llama attention softmax in bf16

* apply attn_softmax_bf16 only for llama

* separte 2 if blocks

* Fix CI tests error from DummyModel

* Fix for attn_softmax_bf16 when generation_config is None

* Fix typo"
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-15T17:24:39Z,Enable llama attention softmax in bf16 (#521)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-07T09:04:34Z,Upgrade to Transformers 4.34 (#475)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-11-02T16:42:05Z,Add maximum hpugraphs and disable_tensor_cache arguments to GaudiTrainer (#493)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-10-26T12:02:26Z,Enable/disable gradient_checkpointing as per training_args.gradient_checkpointing value (#484)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-10-21T19:17:11Z,Update GPT2-XL notebook (#481)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-10-09T07:55:39Z,Remove `sharded_ddp` (#456)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-09-27T17:35:39Z,No need to wrap DDP when using Fast DDP (#430)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-09-25T08:09:08Z,Makes the record_shapes of the profiler changeable. (#418)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-09-19T20:03:11Z,Upgrade to Transformers 4.33 (#412)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-09-12T17:10:39Z,Add support for autocast custom ops in `GaudiTrainer` (#308)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-08-24T20:09:11Z,Upgrade to Accelerate v0.22 (#362)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-08-23T09:09:30Z,Upgrade to Transformers v4.32 (#354)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-08-17T09:43:58Z,Upgrade to Synapse 1.11 (#333)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-08-13T09:36:01Z,Upgrade to Transformers v4.31 (#312)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-07-28T01:02:16Z,"Revert ""Upgrade to Transformers v4.31"""
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-07-26T08:40:17Z,Fix tests
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-07-25T10:37:54Z,Make style
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-07-25T10:09:19Z,Add support for DeepSpeed
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-07-24T16:41:50Z,[skip ci] Update `GaudiTrainer` and `GaudiTrainingArguments`
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-28T22:08:12Z,Add Bridgetower example (#283)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-22T15:28:08Z,Enable/Optimize flan t5 xxl on deepspeed z3 (#257)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-16T17:03:57Z,Add support for HPU graphs for training and Fast DDP (#200)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-16T06:48:42Z,Improve DeepSpeed support (#272)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-15T20:20:25Z,Add test and doc for Torch Autocast (#269)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-14T07:09:11Z,Enable usage of PyTorch autocast on Gaudi during training (#226)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-07T23:21:46Z,Fix profiling in GaudiTrainer (#260)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-06-06T20:58:57Z,Added an option to remove log/save/evaluate time from throughput calculation (#237)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-05-30T21:45:29Z,Enable profiling (#250)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-04-26T08:19:22Z,Enable asynchronous data copy to get a better performance (#211)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-04-17T17:21:44Z,Upgrade to SynapseAI 1.9.0 (#193)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-04-15T19:12:59Z,Add mark_step between fwd and bwd for better performance (#189)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-04-14T23:06:09Z,Upgrade to Transformers 4.28 (#202)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-03-16T09:58:57Z,Update to Transformers 4.27 (#181)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-03-09T16:57:07Z,Enable HPU graphs for distributed runs and generation (#179)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-03-05T22:37:31Z,Add copyrights (#180)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-25T17:59:07Z,Improve data sampling for training in lazy mode (#152)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-25T10:14:52Z,Deprecate the usage of `hmp_opt_level` rather than remove it (#173)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-22T08:08:12Z,Remove O1/O2 in Gaudi config (#169)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-12T22:05:20Z,Update CI baseline for speech recognition (#164)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-08T22:54:34Z,Update to SynapseAI v1.8.0 (#160)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-08T08:22:36Z,Reformat files (#161)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-02-01T17:48:10Z,Update the CLM and MLM examples (#156)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-01-31T20:53:29Z,Add support for inference through HPU graphs in GaudiTrainer (#151)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2023-01-24T22:29:00Z,Update to Transformers 4.26 (#143)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2022-12-29T22:22:24Z,Add support for multi-node training (#116)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2022-12-13T00:25:01Z,Enable DeepSpeed activation checkpointing (#142)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2022-12-10T10:38:03Z,Update to Diffusers 0.10.0 (#139)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2022-12-02T10:14:44Z,Update to Transformers 4.25.1 (#136)
github.com/huggingface/optimum-habana,optimum/habana/transformers/trainer.py,2022-11-30T23:06:04Z,Add support for Stable Diffusion (#131)
github.com/SqueezeAILab/KVQuant,deployment/transformers/src/transformers/utils/hub.py,2024-02-16T20:56:11Z,Deployment Support
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-09-05T19:37:03Z,Update megatron example so that it would support latest changes in NeMo
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-08-03T10:03:30Z,Introduce strict mode for validate inference callable outputs against model config
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-04-25T11:16:08Z,Prompt learning added to NeMo example
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-03-16T13:57:16Z,Llm examples update logging
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-03-14T12:07:07Z,Fixes for cluster deployment of nemo_megatron_gpt_multinode example
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-03-13T11:48:47Z,NeMo example with Kubernetes deployment on single and multi node
github.com/triton-inference-server/pytriton,examples/nemo_megatron_gpt_multinode/helpers.py,2023-03-09T13:50:54Z,Update NeMo GPT example
github.com/AutoGPTQ/AutoGPTQ,tests/test_serialization.py,2024-02-19T10:37:13Z,"Fix bias materialization for Marlin (#554)

* fix bias materialization

* fix tests

* make things simpliert"
github.com/AutoGPTQ/AutoGPTQ,tests/test_serialization.py,2024-02-15T14:39:46Z,"Make all tests pass (#546)

* fix tests

* all tests pass

* typog"
github.com/AutoGPTQ/AutoGPTQ,tests/test_serialization.py,2024-02-13T16:06:07Z,"Use ruff for linting (#537)

* lint

* add back init

* remove pyproject.toml that automatically triggers build isolation

* install torch

* maybe use 3.9?

* debug

* upgrade setuptools

* maybe ubuntu 22.04?

* wheel

* working now?

* typog

* indent

* fix indent

* do not use powershell

* free space

* fix cuda path

* prints

* where is conda?

* should finally work

* fix

* final fixN

* arch ist

* typog

* add quality extra

* last fix"
github.com/AutoGPTQ/AutoGPTQ,tests/test_serialization.py,2024-02-12T10:51:43Z,"updated marlin serialization (#522)

* updated marlin serialization

* Update marlin_utils.py

* stash

* updated serialization methods per fxmarty request

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* Update _base.py

* cleanup

* nits and add tests

---------

Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-27T22:43:47Z,"revert fe changes for ccsr, license agpl -> gpl"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-27T07:29:15Z,"add ccsr, fix hotshot motion attn"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-26T23:07:01Z,proper face id implementation
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-26T04:49:46Z,add face id
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-23T05:10:39Z,fix #131 for real this time
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-21T20:00:17Z,further fix #131
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-19T21:02:16Z,fix vae not downloading for pipelines othger than base
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-19T19:54:31Z,dont pass null vae to from_pretrained
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-19T14:35:22Z,convert preview vae
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-19T14:17:38Z,dont unload controlnets when changhing ip adapter
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-19T04:55:39Z,"improve front-end controls, remove debug logs"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-19T03:43:29Z,"too many bug fixes to count, vastly improved model load"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-18T05:33:27Z,"remove logs and debugs, fix gpu index"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-18T04:26:39Z,"add unimatch, fix inpainting bug, better error for no prompt, fix inpaint not hiding itself"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-17T19:51:59Z,revert OF
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-17T01:48:45Z,remove unneeded code for now
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-17T01:41:38Z,"add optical flow algos, better viz"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-16T01:04:56Z,"rename frontend pieces, fix motion vector bugs, add MV mode instead of checkboxes"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-13T22:50:32Z,"improve RAM/VRAM requirements for DragNUWA, point to safetensors uploads"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-13T02:28:55Z,pass typecheck/importcheck hundreds more changes to nuwa
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2024-01-11T04:17:15Z,"add dragnuwa, add motion vector editor to front end and back end, numerous changes"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-27T19:33:55Z,"fix opencv version, generic llm invocations"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-27T02:29:22Z,"bug fixes, multi-server"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-25T00:05:59Z,"fix tiling bugs, time to build"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-24T04:53:29Z,Merge branch 'main' of github.com:painebenjamin/app.enfugue.ai
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-24T04:53:25Z,"many bug fixes, add dpo injection"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-23T04:28:02Z,download mm
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-22T01:56:16Z,add ip-adapter-full
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-22T00:26:39Z,"add face isolate, add fix for overblown animations"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-20T00:22:18Z,fix type changes after freeinit
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-19T02:17:09Z,expose realtime
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-18T03:27:01Z,fix frontend layout views
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-17T04:52:16Z,"adjust setup, fix sparse controlnet loading and other issues, add sparse controlnet to frontend/backend"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-16T05:10:05Z,"add support for animatediff v3, sparse controlnet, adjust defaults for xl inpainting, add decode chunk size input, make cropped inpainting default enabled, fill alpha with perlin noise when outpainting, remove unneeded vae scale adjustment, fix refiner bug, fix lora unloading not unloading animator pipeline, offload diffusion pipelines when using SVD/LLM, fix typo with segmind vega support, fix bug when using consistency decoder and a checkpoint file, adjust caption upsampler conversation"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-13T00:52:45Z,"remove tensorflow FILM implementation and supporting code, add torch version, improve SVD integration"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-12T03:07:53Z,add SVD
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-11T02:19:15Z,add compel parser
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-07T22:03:22Z,"change default inpainting, confirm when layer is unused"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-12-07T00:43:03Z,add caption upsampler to frontend
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-25T22:14:27Z,closes #114
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-24T18:46:37Z,"add caption upsampler, add performance test"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-23T03:44:39Z,unload pipeline on error
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-23T01:57:40Z,fix IP adapters
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-21T19:37:35Z,"improved interpolations with long videos, add better logging at end of plan, hopefully fix scaling issue"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-20T15:38:17Z,"fix pose detect error, fix inpainting error, add more sizes"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-20T02:01:23Z,change qrcode xl
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-19T01:36:47Z,"add detailer, add one-stop script"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-17T05:10:28Z,"fix inpainting bugs, add size dropdown, add civitai metadata auto downloader, add advanced scheduler config"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-14T03:59:18Z,"fix lora-compatibles in animatediff, add detail mask drawer in openpose and dwpose, hide -animator diffusers caches, improve mask dilation"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-13T23:09:28Z,"lcm, consistency decoder"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-13T02:58:36Z,lcm scheduler
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-10T01:44:57Z,"bug fixes for hotshot+controlnet, inpainting mask erroenously sending when not requested, more debugging"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-09T19:44:47Z,fix animator incorrectly uses base pipeline xl/notxl
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-07T21:44:44Z,fix tests
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-07T05:13:12Z,move FILM to subprocess
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-06T21:05:02Z,add FILM to invocation handler
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-06T03:41:09Z,"fix tests, return filters to working order"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-05T05:42:44Z,"typecheck passes, remove superfluous imports"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-05T03:56:42Z,"fix some issues in the frontend, possibly passing tests"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-04T23:03:05Z,"add ip adapter controller to sidebar, fix mask input, move invoke to fixed position, fix ip adapter merge"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-04T03:51:43Z,"add prompt travel controller, fixes for motion lora and better defaults"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-03T01:13:13Z,"fix tests, remove superfluous modules, add inpainter help module"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-11-02T03:43:26Z,"UI redesign, layeredinvocation dataclass nearly complete, fixing tests then will remove old diffusionplan structure"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-29T04:41:09Z,"move sidebar header around, add returns for xl pidi/qr"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-29T04:37:32Z,"not giving up yet, improve upscling when safety checking disabled, move log view to prepare for layers, add several more logs"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-28T04:36:28Z,"add sync to empty cache command, add denormalize to chunked animated intermediates, add motion scaling passthrough, normalize control images, ip adapter images and init images"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-27T02:44:54Z,"increment pibble version, fix animation images being reverted to png, fix logging issues, standardize lora loading"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-26T04:19:30Z,"add reset motion scale, fixes to tweaks menu, image2video, fix missing scheduler, fix chunk utils, add video encoding endpoints, add video encode endpoints and results"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-25T02:22:26Z,"adds animation playback to frontend, animation repeat, tile x/y, control animation speed, also add animation scale and animation timescale"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-22T01:12:36Z,"numerous FE changes for animations, fixes to backend callbacks"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-21T04:16:26Z,fixes after main merge
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-21T02:16:32Z,Merge branch 'main' into ad
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-19T12:57:24Z,fix inpainter not downloading when needed
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-19T04:35:17Z,add default xl inpainter to notice
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-19T02:08:24Z,"add offset noise, clean up XL Inpainter creation"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-16T22:52:06Z,"add opensimplex requirement, fix edge case where tensorrt is installed but the rest of the requirements are not, fix latent scaling test, fix issue with loading json files in frontend, fix issue with denoising strength slider not appearing"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-15T23:42:43Z,"improve rendering of tooltips, add relative directory to model inputs, add more columns to history table, add notification when download successfully started, count pending downloads as active, add tooltip for default freeu factors, return diffusers caches in addition to checkpoints, add notification when downloading vae weights, unload inpainter as well as main pipeline when main pipeline model changes and no inpainter set, add better logging for when an explicit configuration file is used, add better logs when errors occur that could be due to 1.5/xl mismatch, fix bug where table would generated tooltips stating [object Object]"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-15T04:05:04Z,"round out schedulers, remove logs, add slight chunk to preview"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-15T00:31:12Z,add 9-channel xl inpaint merging and saving
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-13T04:34:10Z,add frontend notifications for support model downloads (finally)
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-11T01:15:05Z,why did i suddenly have to fix a lot of type errors at once?
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-11T00:12:41Z,"add frontend controls helper, standardize tooltip copying, correct typo, make default no chunking, reduce default steps, move tensor utilities, add mask test, change gaussian default parameters"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-10T01:53:40Z,"add motion module parameter, fix sdxl prompt travel"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-09T23:33:50Z,fix device alignment issue
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-09T23:24:29Z,"switch to tiny autoencoder during preview, reorganize torch utilities"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-06T21:02:16Z,fix TRT device alignment issue
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-06T01:29:06Z,fix default size not working with sdxl default model
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-05T22:04:43Z,fix device alignment issue
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-04T19:58:35Z,"fix animatediff unet name, add offload prior to interpolation"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-04T03:28:25Z,add hotshot-xl
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-04T01:30:45Z,merge
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-01T21:53:12Z,dont refine ip adapter
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-10-01T00:11:00Z,"add filename to download, add interpolator to manager"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-30T01:24:00Z,merge
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-30T01:18:32Z,"change default time period to year, standardize download toggle/format"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-30T00:56:31Z,"add motion lora constants, fix some merge issues"
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-28T13:18:14Z,merge main into AD
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-28T00:26:23Z,fix passing ip images
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-28T00:13:18Z,add multi-ip-image
github.com/painebenjamin/app.enfugue.ai,src/python/enfugue/diffusion/manager.py,2023-09-27T17:27:22Z,"fix sdxl controlnet loading from safetensors/pth, fix qr code test, add offline mode"
github.com/wandb/weave,weave/ecosystem/huggingface/hfmodel.py,2023-05-29T22:19:47Z,"Timeseries fixes (#818)

* Timeseries fixes

* Fix assignment of function of union

* Fixes for Time series

* Fix tests

* Update frontend

* Update timeseries panel op names

* Refactor how panels are defined. Much nicer (only distribution done)

* Fix distribution and comments

* Fix function quoting issues

* Much simpler Panel API

* Fix tests

* Fix test

* Fix lint

* Update frontend

* Update notebooks

* Fix notebooks to use new panel style

* Update frontend and fix tests

* Fix tests

* Commit monitor3 so I don't lose it

* Use new API in PanelTimeSeries

* Fix scenario compare notebook

* Fix more

* Update FE

* Revert ""Update FE""

This reverts commit ca972c3766cfb3743286bb9459c21d520046a005."
github.com/wandb/weave,weave/ecosystem/huggingface/hfmodel.py,2023-05-22T23:09:55Z,"Timeseries plot fixes, vectorization + some unrelated materialization fixes (#792)

* Little stuff

* Don't cache None results

* use object context for non-async/lambda ops

* Speed up PIL save with lower compress_level

* Fix getting input refs from cached list output

* Fixes TimeSeries plot and make it work with arrow

* Update notebook for arrow

* More vectorization fixes for timeseries plot

* Fix tests

* More updates"
github.com/wandb/weave,weave/ecosystem/huggingface/hfmodel.py,2022-08-22T22:06:20Z,"Untangle all circular deps (#118)

* Add object attribute access op

* Serialize all ObjectType attr types

* Inference logs for HF model (with bug)

* Make used_by and inference logs work with new __getattr__, and more!

* Move geom into ecosystem

* Make all const nodes to_json() work, remove redundancy in to_json

We no longer store Const types in Op arguments in the graph. Instead just
create the Const types right before calling a callable output type. WeaveJS
will need to do the same.

* Type system changes for performance.

- Don't include object_type in RefType, this results in type explosion
- Add type merging back for TypedDict

* Run._inputs -> Run.inputs

* Run._history -> Run.history

* Run._prints -> Run.prints

* Run._state -> Run.state

* Run._op_name -> Run.op_name

* Run._id -> Run.id

* Remove more boilerplate from run_obj

* Get rid of inline import in async_demo.py

* A notebook to visualize the DAG of Weave module deps

* Reorgnize some imports

* Clean up a couple more imports

* Clean up weave_internal a bit

* Remove inline import in OpDef

* Remove inline import

* Factor out engine ops

* Move to_arrow* out of storage, into ops_primitives/arrow.py

* Move read_path into ops

* Remove inline import of ops_domain

* Remove inline imports

* Remove inline show imports

* Get rid of relative imports in ops_*

* Remove inline import

* Refactor context to remove circular dependencies.

* Remove inline refs in execute and run_obj

* Move capture_weave_server_logs

* use_internal -> use

* Add some type information.

* Remove dependencies on graph so it can depend on storage

* Remove uri -> ref dependency

* Fix weave_types -> mappers_python dep (last one!)

* Fix lint

* Fix lint

* Split up ops

* Move used_by into trace.py

* Split run into ops/object, removing cycle

* Include description in module deps viz

* Start moving stuff from execute to trace interface

* Remove storage references from execute

* Remove artifacts_local references from execute

* Put trace behind class interface

* Remove unused stuff

* Fix notebook crash

* Fix a notebook, remove engine dependency on ops/decorators

* Fix huggingface datasets notebook

* Fix tests

* Remove use_frontend_devmode from notebooks

* Fix huggingface_datasets"
github.com/wandb/weave,weave/ecosystem/huggingface/hfmodel.py,2022-07-15T04:46:53Z,"MVP model card readme (#81)

adding a basic model card from the README.md on HF as the default model view
try to parse out and drop the header/metadata, otherwise return full markdown contents

Co-authored-by: Anastasia Svetlichnaya <stacey@Anastasias-MacBook-Pro.local>"
github.com/wandb/weave,weave/ecosystem/huggingface/hfmodel.py,2022-07-14T00:00:26Z,"Speed up hugginface models, use chart for classifier output (#72)

* Speed up hugginface models, use chart for classifier output

* A couple fixes"
github.com/wandb/weave,weave/ecosystem/huggingface/hfmodel.py,2022-07-11T22:34:05Z,"Deeper HuggingFace integration (#62)

* Add HuggingFace datasets, and shap text model visualization

* Move shap transformers pipeline construction to shap

* Improve model types

* Switch to using pipelines in huggingface

* Split huggingface module up

* Refactor hf models into separate files, setup for different model kinds

* Use type refine in Python + nominal subtyping

* Add huggingface text generation model

* Use ops as accessors for model attributes

* Make all attributes private + fixes

* Add working huggingface notebooks

* Change mnist.py to torchvision/datasets

* Throw exception when trying to use unsupported hf model type

* Update frontend bundle"
github.com/baaivision/vid2vid-zero,gradio_demo/runner.py,2023-04-11T14:40:05Z,add local gradio demo
github.com/UMass-Foundation-Model/CoVLM,transformers/src/transformers/trainer.py,2023-11-01T14:42:53Z,init commit
github.com/UMass-Foundation-Model/CoVLM,transformers/src/transformers/utils/hub.py,2023-11-01T14:42:53Z,init commit
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-11-30T08:47:39Z,update conversion utils
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-07-21T19:34:25Z,update conversion for llama-70B
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-19T07:55:47Z,update versions
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-19T07:50:48Z,update utils
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-19T07:06:58Z,bump version
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T21:28:20Z,update conversion utils
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T21:23:51Z,update conversion docstings
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T21:22:26Z,update convert
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T21:16:59Z,update convert
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T21:10:09Z,update readme
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T21:05:32Z,add conversion update
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T20:59:28Z,refactor generate
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T20:27:38Z,add ctranslated converter
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T12:45:32Z,adapt contains arg
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T12:38:18Z,update docstring
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T12:36:47Z,update converter
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-18T11:35:06Z,add sentence transformer integration
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-16T06:46:42Z,update converter
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-06-15T22:09:20Z,"New release (#8)

* new new_release

* format with black

* update converter

* update converter

* update test

---------

Co-authored-by: michaelfeil <me@michaelfeil.eu>"
github.com/michaelfeil/hf-hub-ctranslate2,conversion_utils/convert.py,2023-05-19T17:23:56Z,Add convert.py
github.com/michaelfeil/hf-hub-ctranslate2,hf_hub_ctranslate2/util/utils.py,2023-06-15T22:09:20Z,"New release (#8)

* new new_release

* format with black

* update converter

* update converter

* update test

---------

Co-authored-by: michaelfeil <me@michaelfeil.eu>"
github.com/michaelfeil/hf-hub-ctranslate2,hf_hub_ctranslate2/util/utils.py,2023-05-18T23:28:07Z,reorganization from _private into _util
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2024-02-16T13:59:39Z,"Integrate new cache system for training (#472)

* Integrate new cache system for training

* ci: reduce export and pipelines test frequency

This runs export and pipelines tests in dedicated pipelines with
stricter path filters to avoid running them on every change.

---------

Co-authored-by: David Corvoysier <david@huggingface.co>"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2024-01-23T16:05:50Z,Initial support for Pipeline Parallelism (#279)
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-12-18T16:04:23Z,"Save function fix (#329)

* Add a safetensors  function compatible with

* Add custom _maybe_move_to_cpu

* Fix

* Add docstring

* Fix test

* Fix test

* Apply suggestions"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-11-24T17:23:00Z,"Push after running `neuron_parallel_compile` (#354)

* Cleanup after precompilation

* Apply suggestions

* Use the same default as the Neuron compiler

* Adding support for pushing after doing neuron_parallel_compile"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-11-24T13:45:31Z,"Fix `neuron_parallel_compile` compatibility with the cache system (#352)

* Cleanup after precompilation

* Apply suggestions

* Use the same default as the Neuron compiler

* Reformat comment"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-11-14T10:40:37Z,"Fix broken tests (#274)

* Fix tests

* Fixes test_runner

* Skip generate tests as long as #262 has not been merged

* Wont fail if secondary caches dont not have write access

* Remove support for old neuron compilation cache naming

* Update test_trainium_common.yml

* Add cleanups to CI

* Experiment with new mixin class

* Remove comment in workflow

* Skipping GPTNeoX test as it is flaky

---------

Co-authored-by: Guillaume LEGENDRE <glegendre01@gmail.com>"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-09-22T17:05:55Z,"Update `tests/test_examples.py` for AWS team (#242)

* Minor changes to test examples

* Update example

* Update default value for USE_VENV

* Add llama

* Remove comment"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-09-08T14:21:22Z,"Llama V2 support (#211)

* Add support for GQA in ParallelSelfAttention

* Add test

* Fix

* Rework on tests and workflows

* Make test parallel

* Fix pushing to the cache issue when doing neuron parallel compile

* Remove symlink fix since it might hide a bigger bug

* Add neuron tools installation

* Test for neuron-ls issue

* Add docstring

* Fix test

* Ignore T5ForSequenceClassification

* Apply suggestions"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-09-04T16:27:41Z,"flan-t5 fix: `T5Parallelizer`, `NeuronCacheCallback` and `NeuronHash` refactors (#207)

* Shard relative attention bias

* Fix T5 parallelization

* Remove unused code

* Refactor NeuronCacheCallback and NeuronHash

* Fix

* Remove train_batch_size and eval_batch_size properties

* Restoring key to its initial value

* Change setup.py"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-07-21T16:12:01Z,"Multiple fixes related to TP and Zero-1 + Tests (#146)

* Fix

* [WIP] tests

* Tests for parallelization utils

* Add tests"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-07-13T14:05:10Z,"Tensor Parallelism fix (#125)

* Fix gradient clipping

* Fix data loader preparation

* Should work with Transformers <= 4.31

* [WIP] LLama training

* [WIP] Lazy loading of model when doing TP

* TP is working

* Add docstring

* Add missing file

* Reformatting

* Fix model saving

* Fix regex"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-07-05T16:17:06Z,"Rename to Trainium references to Neuron (#122)

* Rename code

* Rename docstrings and prints

* Rename tests

* Rename docs

* Rename tools

* Update examples"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-07-04T16:44:35Z,"Fixes the cache after update (#119)

* Fix cache for new versions

* Unspecified attributes for NeuronHash

* Make trainium test"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-07-04T11:47:36Z,"Tensor Parallelism training with `neuronx_distributed` (#104)

* [WIP] TP integration

* Styling

* Tiny fixes

* [WIP] TP integration

* TP with openllama_3b

* Saving works

* [WIP] Not training

* Cleanup

* Add gating to prevent TP training for now

* Apply suggestions"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-06-23T15:37:05Z,"Prepare release (#106)

* Disable FSDP for now

* Update docs

* Tiny change"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-06-20T10:23:39Z,"`accelerate` integration and FSDP (#98)

* [WIP] add accelerate subpackage

* [WIP] NeuronAccelerator

* Extend the NeuronAccelerator

* Styling

* [WIP] refactoring the TrainiumTrainer

* Cleanup

* Further refactorization

* Docstrings and cleanup

* Refactor patching mechanism

* Ignore if Accelerator is not defined in trainer

* Fix import

* Fix training with accelerate

* [WIP] evaluation with FSDP

* Fix test"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-05-31T16:42:15Z,"`optimum-cli neuron cache list` command (#85)

* optimum-cli neuron cache list command

* Update help

* Styling

* Add test

* Styling

* Add staging tests"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-05-30T08:47:58Z,"Cache registry (#72)

* [WIP] registry file

* Add test

* Styling

* Handle concurrency on the registry

* Styling

* Fix tests"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-05-25T08:47:45Z,"Log push warning once (#71)

Fix logging issue"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-05-23T16:08:22Z,"Add last line for licenses (#69)

add last lin"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-05-14T17:10:00Z,"optimum-cli neuron cache add command (#51)

* [WIP] optimum-cli neuron cache add command

* [WIP] compilation utils

* Add tests

* Actually add tests

* Trigger CI

* Fix setup

* Test

* Test

* Update pip

* Add repository variables

* Make run example a trainium test

* Remove staging test from run example

* Install python3.8-venv

* Install python3.8-venv

* Add test

* Fix test

* Remove print

* Commented tests

* Styling

* Fix

* Fix tests

* Styling

* Fix

* Fix image classification

* Use cache repo for compilation tests

* Fix

* Add None check"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-04-28T16:05:01Z,"`optimum-cli` Trainium cache (#49)

* optimum-cli neuron cache commands

* Add tests

* Add tests

* Fix issues

* Add documentation

* Fix tests and workflow

* Add login

* Change doc

* Fix tests

* Fix import

* Fix tests

* Styling

* Fix tests

* Apply suggestions"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-04-28T12:41:39Z,"Auto load cache tool (#26)

* Refactor test_examples.py to use it

* [WIP] CLI

* Tool to fill cache

* [WIP] caching filling tool

* [WIP] tool

* Fixed issue with HF_HOME

* Styling

* Apply minor changes

* Fix login in test_examples

* Make test examples trainium tests

* Update workflow

* Update workflow to add token

* Add logging to files

* Fix secret usage

* debug

* Styling"
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-04-14T15:51:24Z,Change the Hub cache repo (#35)
github.com/huggingface/optimum-neuron,optimum/neuron/utils/cache_utils.py,2023-04-14T13:36:22Z,"Compilation caching system connected to the HF Hub (#24)

* [WIP] caching system

* caching system

* Styling

* Handle cache_stats

* Caching system working

* [WIP] tests

* Update

* Update test_common.yml

* [WIP] tests

* test_cache_utils.py done

* [WIP] test_trainers.py

* Move xm import inside compute_hash

* Cleaning

* Add workflows on Tranium instances

* Add tests that checks if writing rights are there

* Rename workflow

* Trigger CI

* Fix for CI

* Trigger CI

* Fix for CI

* Remove print

* Fix for CI

* Test something

* Not including the exporters tests

* Apply suggestions

* Disable python installation since we use the AMI

* New hashing approach, without saving any file to disk

* Small fix

* Fix for the multiple worker setup

* Add tests

* Fix issues with multiple workers

* Working for multiple workers

* Finalizing tests

* Cleaning

* Trigger CI

* Make tests inferentia tests

* Add requires helper functions

* Add dummy compiler version

* Styling

* Fix bf16 patching

* Fix tests

* Fix teardown"
github.com/drboog/ProFusion,diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-05-23T01:02:06Z,update code and examples
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-20T11:05:15Z,Remove unnecessary verbose
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-12T01:50:40Z,Passthrough adatpers
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-10T20:44:03Z,Merge branch 'master' into save_all_adapters
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-10T20:40:31Z,Formatting
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-10T20:40:15Z,Add method to override and specify adapters
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-10T20:23:31Z,Passthrough the arg
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-10T20:18:52Z,Add hf_hub_subdir to loading fns
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-09T22:04:53Z,Remove unused
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-09T22:04:41Z,Remove unused
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-09T22:03:37Z,Update the docs
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-09T19:39:57Z,"Add scaling pass value to config, default is now 0"
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-09T19:38:01Z,Add loading from hf hub
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-07T15:20:44Z,Ensure use_cache is false
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-04T22:43:11Z,Move a util fn
github.com/EricLBuehler/xlora,src/xlora/xlora_utils.py,2024-02-03T23:18:20Z,Add some examples and add a convenience fn
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-11-19T16:17:57Z,Update app.py
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-11-19T15:36:33Z,"Update app.py

add download by filename"
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-11T15:04:29Z,update
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-11T13:16:37Z,init
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-11T12:04:33Z,update
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-10T16:51:14Z,init
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-10T16:38:18Z,init
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-10T16:30:27Z,init
github.com/kevin-meng/HuggingfaceDownloadShare,app.py,2023-09-10T15:40:06Z,init
github.com/amiradridi/Job-Resume-Matching,venv/Lib/site-packages/sentence_transformers/util.py,2022-08-17T16:06:35Z,skills semantic similarity implementation
github.com/AMAAI-Lab/mustango,diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-11-15T20:12:15Z,MusTango Inference and Demo
github.com/ahdbilal/Databricks-GPU-Serving-Examples,examples/llama2-7b-chat.py,2023-09-01T11:17:15Z,input example
github.com/ahdbilal/Databricks-GPU-Serving-Examples,examples/llama2-7b-chat.py,2023-08-29T16:06:25Z,Update llama2-7b-chat.py
github.com/ahdbilal/Databricks-GPU-Serving-Examples,examples/llama2-7b-chat.py,2023-08-21T08:54:39Z,Update llama2-7b-chat.py
github.com/ahdbilal/Databricks-GPU-Serving-Examples,examples/llama2-7b-chat.py,2023-08-17T03:00:11Z,add back llama with fix for new huggingface llama behavior
github.com/SillyTavern/SillyTavern-extras,modules/voice_conversion/rvc/hubert/hubert_manager.py,2023-08-09T01:38:13Z,Add module managing RVC extension to convert audio sent by ST using voice model
github.com/KU-CVLAB/DreamMatcher,diffusers/scripts/convert_k_upscaler_to_diffusers.py,2024-02-15T16:00:15Z,Code release
github.com/KU-CVLAB/DreamMatcher,diffusers/src/diffusers/commands/fp16_safetensors.py,2024-02-15T16:00:15Z,Code release
github.com/neelnanda-io/1L-Sparse-Autoencoder,scratch.py,2023-10-16T18:06:55Z,Public comment written
github.com/kwaroran/abg-comfyui,__init__.py,2023-07-31T02:26:43Z,[fix] misspelling
github.com/kwaroran/abg-comfyui,__init__.py,2023-07-31T02:24:14Z,[fix] misspelling
github.com/kwaroran/abg-comfyui,__init__.py,2023-07-31T02:13:08Z,first commit
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2024-02-07T20:03:18Z,Update modeldownload.py
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2023-12-07T18:10:43Z,Remove the auto-added python header below licenses
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2023-11-29T01:21:16Z,Adding license headers
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2023-11-27T08:27:22Z,"Add support for starting and stopping models

Having already figured out how to manage the process in the test
definitely came in handy here 😂"
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2023-11-27T08:27:22Z,Add remove command
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2023-11-26T20:22:05Z,"Use the hugging face cache instead of /model

Now that we're using the huggingface hub library, we can use the user's
local cache instead of a file in the root dir.

Also added the script required to setup the files properly for the
default user when using the built image with cloud workstations.

The image test output is pretty verbose now but it feels impossible to
debug otherwise."
github.com/GoogleCloudPlatform/localllm,llm-tool/modeldownload.py,2023-11-26T20:22:05Z,"Add support for download command

Using library from hugging face that I discovered while investigating
how FastChat interacts with hugging face. Comes with a nice progress
bar! Also does it's own caching in the user's directory which makes a
lot more sense than making a directory at /. Could eventually make this
cache configurable if we wanted to.

Fell down a rabbit hole for a while trying to see if we could just use
https://github.com/huggingface/transformers which FastChat uses and
seems to manage quite a bit more for us. For now just going to stick to
the simple version but might be worth investigating later."
github.com/jiawei-ren/dreamgaussian4d,diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-12-28T08:22:09Z,init
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-11-15T15:28:32Z,"update quantize task

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-11-08T01:01:51Z,"update torch

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-11-08T00:31:31Z,"clean up main fine tuning deepspeed example

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-31T20:44:21Z,"update training and resource config

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-28T20:27:46Z,"clean up configuration

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-23T18:53:07Z,"debug 13b, 70b full fine-tuning

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-21T15:47:02Z,"update secret default

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-21T15:37:29Z,"clean up repo

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-18T23:06:05Z,"revert deepspeed installation

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-18T19:14:25Z,"clean up configuration

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-16T20:18:38Z,"updates to qlora, deepspeed configs

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-14T20:02:33Z,"update

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-14T15:46:39Z,"add qlora config files

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-13T21:38:35Z,"add 4bit finetuning

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-08-09T19:33:07Z,"add llama2 fine-tuning

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-20T21:30:03Z,"add local run example

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-20T19:25:49Z,"update readme, bump cache

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-19T23:38:10Z,"code cleanup

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-13T00:58:32Z,"clean up code

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-12T15:53:35Z,"fix up workflows

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-12T14:58:14Z,"wip

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-12T02:29:59Z,"quantized model

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-11T19:12:21Z,"add quantize model step

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-11T04:58:18Z,"debugging training on wiki

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-11T03:34:17Z,"add dataset to train task

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-11T03:32:54Z,"add get_data

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-11T01:42:11Z,"wip

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-10T20:27:19Z,"wip tmp dockerfile

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-10T19:16:39Z,"wip

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-09T13:10:10Z,"more lora script cleanup

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-08T21:49:30Z,"fix lora script

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/unionai-oss/llm-fine-tuning,fine_tuning/llm_fine_tuning.py,2023-06-08T18:59:39Z,"wip refactor

Signed-off-by: Niels Bantilan <niels.bantilan@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-03-01T10:12:55Z,Some cleaning (#2070)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-29T15:02:23Z,do not list all models (#2061)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-28T12:51:16Z,More optimized tests (#2054)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-22T18:21:39Z,"Add `revision_exists` helper (#2042)

* Add revision_exists helper

* add to main"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-22T14:12:19Z,Fix getting widget_data from model_info (#2041)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-20T12:11:52Z,"Deprecate `ModelFilter/DatasetFilter` (#2028)

* Deprecate DatasetFilter and ModelFilter classes + modify list_models method

Moved all attributes from ModelFilter class to list_models arguments and added a filter query builder to build a query.
Updated list_models to take both filter as an Iterable and also update the filter list based on other arguments in the method

* Reformat code

* Reformat Code

* Update checks in  to be consistent

* Add build_dataset_filter method and modified list_dataset

* Update list_models and list_dataset methods to use set for filters to avoid duplication

* Update warning to use FutureWarning instead of DeprecatedWarning

* Update search helper classes docstrings to follow HF doc-builder syntax

* Modify warnings to be consistent

* Move comments to inline to fix mypy issues

* Move model filter builder to

* Move dataset filter builder to list_datasets

* Address comments and remove stacklevel argument from warnings

* Apply suggestions from code review

Fix warning docstring

Co-authored-by: Lucain <lucainp@gmail.com>

* Update warnings and add deprecation decorator to tests

* Apply suggestions from code review

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-15T15:49:24Z,"[HfFileSystem] Copy non lfs files (#1996)

* copy non lfs files

* mypy

* add test

* fix test

* Apply suggestions from code review

Co-authored-by: Lucain <lucainp@gmail.com>

* fix import

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-02-07T15:39:14Z,update name of dummy dataset user (#2019)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-01-15T14:54:01Z,"Fix inconstent `warnings.warn`  in repocard.py (#1980)

* replace warnings.warn by logger.warn in repocard.py

* fix tests"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-01-09T09:33:40Z,Fail early on invalid metadata (#1934)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-01-09T09:32:51Z,Fix pagination when listing discussions (#1962)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2024-01-02T13:10:07Z,Remove PRODUCTION_TOKEN (#1937)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-12-19T09:04:10Z,Harmonize commit return type (#1921)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-12-15T14:07:42Z,"Deprecate `HfApi.list_files_info` (#1910)

* Deprecate `HfApi.list_files_info`

* Style

* Fix test

* Mypy fix

* Add missing import

* Last fix :)

* Apply suggestions from code review

Co-authored-by: Lucain <lucainp@gmail.com>

* Style

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-12-15T09:48:08Z,"Manage access requests programmatically (#1905)

* first draft + docstrings

* add tests

* add AccessRequest to docs

* feedback

* document 403 error if not a write or admin role

* refacto raises sections in docstrings"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-12-14T10:46:19Z,skip flaky test
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-12-12T11:26:08Z,"Login/authentication enhancements (#1895)

* Login enhancements

* Apply suggestions from code review

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* example

* handle google colab errors

* fix contrib test

* fix 1 test

* fix tetst

* fix test

---------

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-30T16:57:05Z,Remove respect_gitignore parameter (#1876)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-28T15:39:53Z,"Fix git credential parsing regex (#1870)

* fix git credential parsing regex

* retry on timeouts in tests

* fix list_collections test

* test in test

* style

* remove print"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-28T10:56:04Z,"Respect `.gitignore` file in commits (#1868)

* Respect .gitignore file in commits

* add tests

* do not respect gitignore in

* add param in upload_fike"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-27T10:19:46Z,"add list_collections endpoint, solves #1835 (#1856)

* add list_collections function, solves #1835

* update the collections guide for list_collections function

* add unit tests for list_collections

* finalize the pr for list_collections

* fix style + test

---------

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-24T15:06:07Z,"Parse safetensors metadata (#1855)

* first draft

* make quality

* docs

* tests + better errors

* add parameter count

* Use file_exists instead of list_repo_files

* fix optional __metadata__ + fix __metadata__ type + fix scalar tensors

* fix file_exists and repo_exists on gated repos

* add comment

* more robust"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-24T12:15:57Z,"Create branch if missing in hugginface-cli upload (#1857)

* Create branch if missing in hugginface-cli upload

* make test more robust"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-23T16:52:48Z,style
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-23T16:48:23Z,robustness
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-22T16:13:37Z,"✨ Add filters to HfApi.get_repo_discussions (#1845)

* ✨ Add filters to HfApi.get_repo_discussions

* 💄 make style

* ⏪ Revert extraneous change

* 🩹 Mention filters in the documentation

* 👌 Literal type annotation

* ✅ Add some tests

* 💄 Code quality

* Apply suggestions from code review

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-22T09:28:57Z,fix list_space_author test
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-13T17:23:45Z,"Add `include_pull_requests` to list_repo_refs (#1822)

* Add  to list_repo_refs

* switch to a not gated repo in test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-13T16:00:51Z,"[FIX] Catch TypeError when parsing card data from ModelInfo (#1821)

* [FIX] Catch TypeError when parsing card data from ModelInfo

* fix tests

* fix test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-10T14:27:40Z,Add support for createdAt field (#1816)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-10T14:23:01Z,"Faster `HfFileSystem.find` (#1809)

* Remove `HfFileSystem.exists` override

* Add `list_repo_tree` to the API

* Rename `BlobLastCommitInfo` to `LastCommitInfo`

* Add `get_paths_info` to the API

* Improve HfFileSystem tests

* Faster `HfFileSystem.find`

* Tests

* Update src/huggingface_hub/hf_api.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Address the rest of comments

* Fix comment

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-06T09:34:15Z,Fix SpaceInfo initialization + add test (#1802)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-11-02T14:11:25Z,"Replace `ReprMixin` with dataclasses (#1788)

* Define dataclasses

* Update docs

* Update tests

* Fixes

* Remove InitVar

* Style

* Apply suggestions from code review

Co-authored-by: Lucain <lucainp@gmail.com>

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-10-26T07:55:20Z,"Removed GeneralTags, ModelTags and DatasetTags (#1761)

* removed tags from endpoint tests

* removed tags from endpoints

* removed tags from hf_api

* removed tags from docstrings in endpoint_helpers

* removed tags from hf_api

* removed model search argument from test_hf_api

* removed ModelSearchArguments and DataSearchArguments

* removed DatasetSearchArguments and ModelSearchArguments

* removed DatasetSearchArguments and

* removed ModelSearchArguments and DatasetSearchArguments from the docs

* Revert ""removed DatasetSearchArguments and""

This reverts commit ce6b91ba162ce75af86d42afc4985b4cbf0429a3.

* removed tags from __init__.py

* ran make style

* Removed ## How to explore filter options ? section

* Revert ""removed tags from __init__.py""

This reverts commit ad1a31cbd05cb8d4e82d1d95b4eb464d327c3d92.

Reverting removal get_dataset_tags and get_model_tags for comment 2

* Revert ""removed DatasetSearchArguments and ModelSearchArguments""

This reverts commit fbf6dd040e0c6c4756c24d520157f978050d1da8.

* Revert ""removed tags from __init__.py""

This reverts commit ad1a31cbd05cb8d4e82d1d95b4eb464d327c3d92.

* Revert ""removed tags from hf_api""

This reverts commit 2cefee189f9b36530dfbd275c23a23b3a377ae1c.

* Revert ""removed tags from hf_api""

This reverts commit dd3b8f13c00a2ef1c056742a1c17fdbda4f25448.

* Removed attribute dictionary from imports
and removed model search argument class

* Complete removed class AttributeDictionary(dict):

* Removed attribute dictionary tests

* Updating ModelTags and DatasetTags
so that they just return the raw dictionary

* Removed final DatasetTags import

* Removed 'ModelTags' import

* Ran make style

* fix: remove useless token (#1765)

* Retry on ConnectionError/ReadTimeout when streaming file from server (#1766)

* Retry on ConnectionError/ReadTimeout when streaming file from server

* add test

* fix testing utils

* Adding `InferenceClient.get_recommended_model` (#1770)

* Moved logger info to InferenceClient, so get_recommended_model function can bypass that

* Added get_recommended_model to InferenceClient

* Ran make style to generate the async client

* Added tests of get_recommended_model

* Update src/huggingface_hub/inference/_client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Fixed ordering of logger info and _get_recommended_model, for model string to have been populated

* Removed _get_recommended_model private function, in favor of get_recommended_model in InferenceClient

* Fixed wording of ValueError to use 'model' not 'task'

* Ran make style for AsyncInferenceClient

---------

Co-authored-by: Lucain <lucainp@gmail.com>

* Fix document link for manage-cache (#1774)

* Fix document link for manage-cache

* Use redirects in _redirects.yml

* Update docs/source/en/package_reference/file_download.md

---------

Co-authored-by: Lucain <lucainp@gmail.com>

* Minor doc fixes (#1775)

* Don't use `api` in `list_repo_refs` example.

* Minor typo fssepc -> fsspec

* Use `.item_object_id` instead of `._id`

* Ran make style

---------

Co-authored-by: Remy <remy@huggingface.co>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: James Braza <jamesbraza@gmail.com>
Co-authored-by: liuxueyang <liuxueyang457@gmail.com>
Co-authored-by: Pedro Cuenca <pedro@huggingface.co>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-10-17T13:37:32Z,"Fix Space runtime on static Space (#1754)

* Fix Space runtime on static Space

* comment"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-10-12T15:36:48Z,"Make `@retry_endpoint` a default for all test (#1725)

* Make @retry_endpoint a default for any test

* simplificaiton

* works"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-10-06T08:15:28Z,"Add list_repo_likers method to HfApi (#1715)

* update list_repo_likers function

Signed-off-by: Issam Arabi <issam@cs.toronto.edu>

* add test for list_repo_likers

* Update list_repo_likers description

Co-authored-by: Lucain <lucainp@gmail.com>

* optimize list_repo_likers implementation

Co-authored-by: Lucain <lucainp@gmail.com>

* make style + import at root

---------

Signed-off-by: Issam Arabi <issam@cs.toronto.edu>
Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-10-05T10:58:35Z,"Fix LFS tests after password auth deprecation (#1713)

* fix LFS tests after password auth deprecation

* fix import"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-10-04T09:07:26Z,"Preupload lfs files before commiting (#1699)

* first draft for preupload lfs files

* free up memory after upload

* add tests

* doc

* doc

* make private methods private

* add example

* Apply suggestions from code review

Co-authored-by: Mario Šaško <mario@huggingface.co>

---------

Co-authored-by: Mario Šaško <mario@huggingface.co>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-25T11:47:00Z,"Add `url` attribute to Collection class (#1695)

* Add url attribute to Collection class

* Update src/huggingface_hub/hf_api.py

Co-authored-by: Daniel van Strien <davanstrien@users.noreply.github.com>

---------

Co-authored-by: Daniel van Strien <davanstrien@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-25T08:30:07Z,"Add Collection API (#1687)

* Add Collection API

* add unit tests

* collections

* add guide (wip)

* completed guide

* fix collection tests

* uncomment

* document 500 limit

* delete

* tpyo

* better formatting

* docs

* fix test

* Apply suggestions from code review

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* requested changes

---------

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-19T11:32:47Z,"Fixes filtering by tags with list_models and adds test case (#1673)

* Fix tags filter in list_models and add test case

* Remove key tags in query dict

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-05T16:43:40Z,"Implement `super_squash_history` in `HfApi` (#1639)

* Implement super_squash_history endpoint

* Add squash_history option to commit scheduler

* add super squash to HfSummaryWriter as well

* make quality

* style doc

* fix test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-05T16:42:04Z,"Add `missing_ok` option in `delete_repo` (#1640)

* Allow missing_ok in delete_repo

* make style"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-04T14:12:59Z,"Fix fsspec tests in ci (#1635)

* fix warnings + typoes

* Raise on NotImplementedError in fsspec

* unskip test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-09-04T09:53:54Z,"Add settings for creating and duplicating spaces (#1625)

* Add settings for creating and duplicating spaces

* Add tests for create_repo

* Address pr review points

* Add duplicte_space test case

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-30T12:59:02Z,"Added support for space variables (#1592)

* Added support for space variables

* Changed variable payload to be cond on description

* Addressed PR review comments.

* Addressed PR review comments

* Update init and reference doc with dataclasses

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-29T15:05:17Z,"Fix ci tests (#1630)

* fix gated repo test

* fix like repo test

* fix VCR test text_to_image default

* make quality

* more robust test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-28T14:18:02Z,"Check if repo or file exists (#1591)

* Implemented check for existence of repo or file

* Corrected doc string for file_exists

* Performed contribution guide code formatting

* Additional update to file_exists doc string

* Addressed some PR review comments

* token setting logic in file_exists

* Updated test cases

* Removed debug prints

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-16T16:58:50Z,"Added support for secret description (#1594)

* Added support for secret description

* Changed secret payload to be cond on description

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-11T10:07:41Z,"Support factory reboot when restarting a Space (#1586)

* Implement factory reboot for Spaces

* fix"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-11T09:40:45Z,"Revert ""Implement factory reboot for Spaces""

This reverts commit 95c14666884a6fb1c78e0dcf35ab3388817d31c4."
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-11T09:38:38Z,Implement factory reboot for Spaces
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-08-08T07:36:18Z,"Add download alias for `hf_hub_download` to `HfApi` (#1580)

* accept endpoint in hf_hub_download

* Add download aliases + test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-07-26T15:26:19Z,"Request Persistent Storage (#1571)

* Implemet feature

* Update src/huggingface_hub/hf_api.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Update src/huggingface_hub/hf_api.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Update src/huggingface_hub/hf_api.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Add tests and guide

* Style

* typo

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-07-21T09:43:36Z,FIX style issues by pinning black version
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-06-06T15:08:00Z,"add CommitOperationCopy (#1495)

* add CommitOperationCopy

* Add support for CommitOperationCopy in _multi_commits

* refacto test comments

* update __init__.py

* update test

* docs and docstrings

* Apply suggestions from code review

Co-authored-by: Lucain <lucainp@gmail.com>

* fix fetch_lfs_files_to_copy

* style

* fix test

* style

* fix test again

* minor

* minor

* Apply suggestions from code review

* do not support CommitOperationCopy in multicommit

* do not support CommitOperationCopy in multicommit

---------

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-05-31T14:10:00Z,fix pause_and_restart test
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-05-17T16:33:03Z,"Run `HfApi` methods in the background (`run_as_future`) (#1458)

* POC to run HfApi methods in the background

* Renamed detach to threaded + fix repr

* Complete Refacto

* fix python37

* useless changes

* add test

* update CI

* first step to revert to as_future=True flad

* Make create_commit, upload_file and upload_folder future-compatible

* Finally settle with a solution + tests + docs

* add legacy script for reference

* fix tests

* fix typing in 3.7

* fix typing for 3.7

* minor changes

* make style

* ciode qualiryt"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-05-15T16:36:02Z,"Remove deprecated code + adapt tests (#1450)

* Remove deprecated code + adapt tests

* code quality

* fix test"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-05-08T18:10:42Z,Fix discussion URL on datasets and spaces (#1465)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-05-08T09:56:13Z,Add expand parameter to list_repo_files (#1451)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-04-18T19:10:33Z,"Implement `list_files_info` + tests (#1435)

* Implement get_files_info + tests

* add list_repo_files test

* fix docs?

* remove lastCommit for now + rename to get_paths_infos

* use expand=True in hffs

* docs"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-04-17T15:10:12Z,"New endpoint: `create_commits_on_pr` (#1375)

* Add delete_patterns option to upload_folder + tests + adapt mixins

* adapt upload guide

* fix test python3.7

* First draft for a chunked commit endpoint

* rename it

* tpyo

* big refacto

* doc

* documentation

* fix docs"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-04-17T14:52:28Z,"[Feat] Add `sleep_time` for Spaces (#1438)

* Implement Space sleep_time + docs + tests

* document return values

* make quality

* remove useless -CPU_BASIC_SLEEP_TIME"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-04-06T12:48:47Z,"[hot-fix] Malicious repo can overwrite any file on disk (#1429)

* Add regression test

* add protections + fix tests

* fix widnwso test

* fix widnwso test

* FIX resolving path without following symlinks

* increase pause time in test

* fix windows test

* Update src/huggingface_hub/file_download.py"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-04-04T10:52:31Z,fix move repo test
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-24T13:53:12Z,"Raise issue if trying to upload `.git/` folder + ignore `.git/` folder in `upload_folder` (#1408)

* More constrained

* error message

* ignore .git folder

* Add tests

* add docstring

* docs

* Update docs/source/guides/upload.mdx

Co-authored-by: lewtun <lewis.c.tunstall@gmail.com>

* Update src/huggingface_hub/hf_api.py

---------

Co-authored-by: lewtun <lewis.c.tunstall@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-24T09:55:52Z,"feat: add `hf_transfer` upload (#1395)

* feat: add `hf_transfer` upload

* feat: update `hf_transfer.upload` function args

* fix: wording `downloading` -> `uploading`

* refacto: use kwargs for every function arg

Co-authored-by: Lucain <lucainp@gmail.com>

* fix: print warning and fallback to default upload

* refacto: run `make style` & `make quality`

* fix: do not use thread_map when using hf transfer

* refacto: use normal assign for use_hf_transfer

rather than using unnecessary compound assignment

Co-authored-by: Lucain <lucainp@gmail.com>

* refacto: update hf_transfer to support only multipart

* docs: update doc string as lfs_upload was removed

* refacto: update chunk size err msg

Co-authored-by: Lucain <lucainp@gmail.com>

* feat: update hf_transfer API

* feat: move completion call here

* refacto: run make style

* feat: hf_transfer API update

* refacto: extract common operations to functions

* Moved LFS stuff to lfS.py

* fix tests

* small

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-23T15:48:14Z,"Keep-alive connection between requests (#1394)

* Configurable requests Sessions + tests

* Use session everywhere

* fix python3.7

* fix telemetry tests

* FIX http_backoff tests

* FIX inference API mocked tests

* FIX mocked http offline test

* fix cached_download mocked test

* fix mocked space api test

* FIX mocked pagination tests

* FIX tests

* add documentation"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-23T14:46:01Z,"Prepare for 0.14 (#1381)

* Bump version to 0.14.0.dev0

* Start to remove set_access_token and git-credential-related helpers

* fix tests

* fix lfs tests

* fix keras tests

* fix repository shared tests

* try without set access token

* tmp no set_access_token in repositorytest

* RepositoryTests completed

* Definitely remove set_access_token from source_code

* add paginate to utils

* remove paginate from utils"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-22T18:05:47Z,Fix restart space test
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-14T12:33:21Z,Fix CI (#1392)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-09T13:59:28Z,"Fix `path_in_repo` validation when committing files (#1382)

* Fix invalid path_in_repo in CommitOperationAdd

* raise if absolute path_in_repo in CommitOperationAdd

* Validate path_in_repo for CommitOperationDelete as well"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-08T11:36:34Z,Fix ReprMixin for python3.7 + test (#1380)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-08T08:42:56Z,"Add `delete_patterns` option to `upload_folder` (#1370)

* Add delete_patterns option to upload_folder + tests + adapt mixins

* adapt upload guide

* fix test python3.7

* Apply suggestions from code review

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

---------

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-07T20:32:45Z,"FIX `create_repo` with `exists_ok` but no permission (#1364)

* FIX create_repo with exists_ok but no permission

* add repo type

* fix repo type

* really fix repourl"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-03-07T10:50:14Z,fix create_commit on lowercased repo_id + add regression test (#1376)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-24T15:47:13Z,some typos
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-22T21:00:14Z,":sparkles: add duplicate_space (#1353)

* :sparkles: add duplicate_space

* :lipstick: style

* :lipstick: style

* :lipstick: style

* Add exist_ok param + refactor id parsing

* make style

* :white_check_mark: add tests

* :white_check_mark: tests

* Added some docs

* docs

---------

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-22T11:09:27Z,":ambulance: hotfix isHf test user permissions bug (#1357)

* :ambulance: hotfix isHf test user permissions bug

* compare only even ids

* rephease skip

---------

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-16T08:41:54Z,"Add `list_repo_commits` to list git history of a repo (#1331)

* Add list_repo_commits to list git history of a repo

* code style

* add docs

* code quality

* Update src/huggingface_hub/hf_api.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

---------

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-14T16:03:13Z,"Add `pause_space` and `restart_space` (#1332)

* Add pause_space and restart_space helpers

* typos

* capitalize

* docs"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-14T16:02:34Z,Parse correctly canonical URLs in RepoUrl (#1337)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-02-07T17:45:34Z,"Update formatting tooling (#1323)

* First draft to update tooling

* Fixed __init__.py generation

* quiet make quality

* update pre-commit and contributing guide

* set back mypy config

* FIX test due to moon-landing wording update"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-20T09:12:46Z,"Make tests more robust (no pre-existing repo on staging Hub) (#1302)

* Create gated repo on the fly

* create repo with awful filename on the fly

* Create foreign repo on the fly to test PR creation

* scan cache tests on production repo

* make it work on windows

* final adapt

* make snapshot download tests faster

* Fix test_list_liked_repos_no_auth"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-19T15:55:28Z,"Add windows machine for CI (#1112)

* Add windows machine for CI

* add simple windows test

* run only windows tests in CI

* remove apt get in windows ci

* disable symlinks on windows machine in CI

* env variale

* fix disable_symlinks_on_windows_ci fixture

* fix fixture ?

* try to fix permission issues on windows ci

* refacto Offline repository tests

* Update use_tmp_repo behavior

* tmp work

* split between shared vs unique repo tests

* working repository tests

* use credential for repo tests

* refacto dataset repository tests

* run repo test concurrently

* fix github workflow

* fix ci

* fix ci

* echo ci

* fix ci?

* finally fix ci?g

* make test_correct_helper more robust

* delete test_correct_helper

* fix commit context manager

* robust tmp dir deletiong

* Implement more robust TemporaryDirectory

* adapt existing codebase

* cleanup at last

* code quality

* Rename to softTemporaryDirectory

* Skip test on windows + force str path in Repository

* typing

* skip symlink test on windows

* always disable symlink on windows during tests

* fix pytest conf

* xfail_on_windows decorator

* cleaner xfail_on_windows

* deactivate more tests

* another xfail

* skip umask test

* add pending questions

* other xfail

* longer but more robust test_backoff_sleep_time test

* another xfail

* Make windows-specific version of test_scan_cache_on_valid_cache

* fix file size

* 2 cache tests should fail

* resolve path in test missing cache

* test_scan_cache_last_modified_and_last_accessed should fail on Windows

* string instead of path in test_init_from_existing_local_clone

* fix \r\n issue in modelcards on windows

* preserve newlines when saving Repocard

* fix linebreak issue in test_updating_text_updates_content

* add repocard test to ensure linebreaks are kept

* fix for 3.7

* fix flag when saving

* document known issues on windows

* requested change"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-19T15:49:06Z,Handle hf:// urls + raise ValueError if repo type is unknown (#1298)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-18T10:05:23Z,Create branch from given revision (#1293)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-17T16:37:16Z,Fix test_comment_discussion (#1295)
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-16T15:25:38Z,"Update ""move_repo"" doc url + fix Bigcode test in CI (#1292)

* update move repo doc url

* FIX bigcode test in CI"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2023-01-12T12:07:33Z,"Refacto Repository tests (#1277)

* refacto Offline repository tests

* Update use_tmp_repo behavior

* tmp work

* split between shared vs unique repo tests

* working repository tests

* use credential for repo tests

* refacto dataset repository tests

* run repo test concurrently

* fix github workflow

* fix ci

* fix ci

* echo ci

* fix ci?

* finally fix ci?g"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-23T09:02:53Z,Fix like test
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-23T08:55:43Z,"1278 More robust temporary directory (#1279)

* Implement more robust TemporaryDirectory

* adapt existing codebase

* cleanup at last

* code quality

* Rename to softTemporaryDirectory"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-21T14:57:17Z,"Fix list_liked_repos (only public likes are returned) (#1273)

* Fix list_liked_repos (only public likes are returned)

* prepare for next likes nedpoint (paginate)

* mypy"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-21T10:46:44Z,"List branches and tags from a repo (#1276)

* List branches and tags from a repo

* lazy import RefIfno and RepoRefs

* wrong type

* docs

* requested changes

* code style"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-16T08:39:34Z,"Extend create_repo return value (#1268)

* Extend create_repo return value

* 1 more example

* Add RepoUrl.url property

* add docstring

* add doc

* docstring in main class not in __init__"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-14T15:33:49Z,"Add method to list liked repos (#1254)

* first draft

* list_liked_repos + add tests + add docs

* add like/unlike endpoints + fix tests

* fix unlike test + skip spaces tests

* code style

* Update src/huggingface_hub/_activity_api.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* removed  module

* Remove total from UserLikes object

* fix docs

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-13T12:45:11Z,"Remove `get_space_secrets` endpoint (#1264)

* Remove get_space_secrets endpoint

* fix mock tests for python3.7"
github.com/huggingface/huggingface_hub,tests/test_hf_api.py,2022-12-13T09:19:24Z,"Mock Space tests requiring GPUs (#1263)

* Mock Space tests requiring GPUs

* more robust space tests"
github.com/jiawei-ren/dreamgaussian4d,diffusers/src/diffusers/commands/fp16_safetensors.py,2023-12-28T08:22:09Z,init
github.com/zejunwang1/bert4vec,bert4vec/util.py,2023-02-06T08:39:54Z,upgrade
github.com/zejunwang1/bert4vec,bert4vec/util.py,2023-02-06T07:42:16Z,upgrade
github.com/zejunwang1/bert4vec,bert4vec/util.py,2022-01-26T01:21:32Z,Add files via upload
github.com/octo-models/octo,octo/model/octo_model.py,2023-12-22T03:59:17Z,Explaining that actions are normalized
github.com/octo-models/octo,octo/model/octo_model.py,2023-12-22T03:59:17Z,Prettier spec
github.com/octo-models/octo,octo/model/octo_model.py,2023-12-22T03:57:15Z,OCTO -> octo
github.com/octo-models/octo,octo/model/octo_model.py,2023-12-22T03:54:56Z,Rename
github.com/XuandongZhao/WatermarkAttacker,src/diffusers/commands/fp16_safetensors.py,2023-08-12T18:32:51Z,init
github.com/BiDiff/bidiff,scripts/convert_k_upscaler_to_diffusers.py,2024-02-25T17:18:15Z,Init
github.com/dvlab-research/LLMGA,llmga/diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-11-29T03:28:28Z,LLMGA
github.com/SillyTavern/SillyTavern-extras,modules/voice_conversion/rvc/custom_pitch_extraction.py,2023-08-09T01:38:13Z,Add module managing RVC extension to convert audio sent by ST using voice model
github.com/dvlab-research/LLMGA,llmga/diffusers/src/diffusers/commands/fp16_safetensors.py,2023-11-29T03:28:28Z,LLMGA
github.com/kohjingyu/gill,demo/app_gradio.py,2023-07-05T15:36:42Z,Add HF links.
github.com/locuslab/wanda,dense_ft/trainer.py,2023-11-03T05:37:59Z,add dense ft
github.com/BraveGroup/Drive-WM,scripts/convert_k_upscaler_to_diffusers.py,2023-11-22T10:23:44Z,initialize from diffusers
github.com/rafaelvp-db/databricks-llm-prompt-engineering,notebooks/customer_service/05_llama2-7b-chat_deploy.py,2023-09-21T13:42:08Z,update
github.com/rafaelvp-db/databricks-llm-prompt-engineering,notebooks/customer_service/05_llama2-7b-chat_deploy.py,2023-09-21T13:22:44Z,Update 05_llama2-7b-chat_deploy.py
github.com/rafaelvp-db/databricks-llm-prompt-engineering,notebooks/customer_service/05_llama2-7b-chat_deploy.py,2023-08-30T16:24:21Z,rename
github.com/Veason-silverbullet/UniTRec,transformers/utils/hub.py,2023-06-05T16:45:40Z,init
github.com/BraveGroup/Drive-WM,src/diffusers/commands/fp16_safetensors.py,2023-11-22T10:23:44Z,initialize from diffusers
github.com/ototadana/sd-face-editor,scripts/inferencers/anime_segmentation/mask_generator.py,2023-06-30T15:14:44Z,organize components
github.com/Ascend/ModelZoo-PyTorch,PyTorch/built-in/diffusion/diffusers0.17.0/scripts/convert_k_upscaler_to_diffusers.py,2023-08-15T11:09:43Z,"!5366 【自研】[PyTorch] Diffusers0.18.1适配
* adapter for diffusers 0.18.1"
github.com/Ascend/ModelZoo-PyTorch,PyTorch/built-in/diffusion/diffusers0.18.1/scripts/convert_k_upscaler_to_diffusers.py,2023-08-15T11:09:43Z,"!5366 【自研】[PyTorch] Diffusers0.18.1适配
* adapter for diffusers 0.18.1"
github.com/mrpeerat/SCT,sentence_transformers/util.py,2023-11-18T13:40:21Z,add all codes
github.com/mrpeerat/SCT,sentence_transformers/util.py,2023-11-18T13:38:33Z,remove sentence-transformers
github.com/mrpeerat/SCT,sentence_transformers/util.py,2023-11-18T13:36:50Z,add all codes
github.com/mrpeerat/SCT,sentence_transformers/util.py,2023-11-18T13:36:25Z,Update file
github.com/mrpeerat/SCT,sentence_transformers/util.py,2023-09-13T08:02:45Z,add all codes
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2024-01-24T15:24:01Z,"Fix download from private renamed repo (#1999)

* Fix download from private renamed repo

* link issue

* style"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2024-01-02T13:10:07Z,Remove PRODUCTION_TOKEN (#1937)
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-11-22T17:35:20Z,"Send `user_agent` in HEAD calls (#1854)

* Send user_agent in HEAD calls + add get_hf_file_metadata to HfApi + test

* docstring"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-10-20T09:47:42Z,"Retry on ConnectionError/ReadTimeout when streaming file from server (#1766)

* Retry on ConnectionError/ReadTimeout when streaming file from server

* add test

* fix testing utils"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-10-16T13:37:24Z,"Keep lock files in a `/locks` folder to prevent rare concurrency issue (#1659)

* Keep lock files to prevent rare concurrency issue

The lock file could be removed when the 2nd process gets the lock.
And then the 3rd process will lock on a different lock file handle.
Although the lock path stays the same.

1st proc gets the lock
2nd proc waits for the lock
1st proc releases the lock
1st proc removes the lock file
2nd proc gets the lock
3rd proc creates a new lock file and gets the lock

Windows doesn't have this problem.

This commit moves the lock files to a subdirectory of the hub cache,
and don't remove it after downloading.

The lock files are named with their 'etag' and '.lock' extension, placed
in the 'HUGGINGFACE_HUB_CACHE/.locks/repo_folder_name' directory. The
repo_folder_name is generated from 'repo_id' and 'repo_type', to avoid
same 'etag' in different repos.

Co-authored-by: Lucain <lucainp@gmail.com>

* Format code

* skip .locks folder in scan cache

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-10-13T07:36:03Z,"Fix a bug to respect the HF_HUB_ETAG_TIMEOUT. (#1728)

* Fix a bug to respect the HF_HUB_ETAG_TIMEOUT.

* style

* add test

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-09-26T08:19:57Z,"Address failing _check_disk_space() when path doesn't exist yet (#1692)

* Add realpath to disk_usage to allow path-like obj

* Add logic to address non-existent paths

* Add test cased for non-existent paths

* Update tests/test_file_download.py

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-09-04T14:12:59Z,"Fix fsspec tests in ci (#1635)

* fix warnings + typoes

* Raise on NotImplementedError in fsspec

* unskip test"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-08-30T09:29:12Z,skip gated repo test on contrib
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-08-29T15:55:29Z,Fix test in contrib CI
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-08-29T15:05:17Z,"Fix ci tests (#1630)

* fix gated repo test

* fix like repo test

* fix VCR test text_to_image default

* make quality

* more robust test"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-08-28T14:26:09Z,"Implemented check_disk_space function (#1590)

* Implemented check_disk_space function

* Addressed PR review comments

* Added test cases

* Ran the code formatter

* Addressed PR comments

* removed function return and updated tests

* Addressed code quality fail"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-08-08T07:36:18Z,"Add download alias for `hf_hub_download` to `HfApi` (#1580)

* accept endpoint in hf_hub_download

* Add download aliases + test"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-07-26T13:24:05Z,"Check local files if (RepoNotFound, GatedRepo, HTTPError) while downloading files (#1561)

* Fix case where model exists locally but huggingface is not logged in.

* raise on specific errors

* add test

* fix production token not set

---------

Co-authored-by: Jiaming Song <jiaming@lumalabs.ai>
Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-04-25T14:33:56Z,"Fix consistency check when downloading a file (#1449)

* Check file consistency only for Hub files

* Retrieve correct expected size

* make style

* remove comment

* commments

* fix cached_download consistency check if redirected

* fix tests"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-04-17T16:06:27Z,"Normalize both possible variants of the Etag to remove potentially invalid path elements (#1428)

* Normalize both possible variants of the Etag to remove potentially
illegal characters

* normalize-weak-etag-and-test

* fix revision in etag tests

---------

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-04-06T12:48:47Z,"[hot-fix] Malicious repo can overwrite any file on disk (#1429)

* Add regression test

* add protections + fix tests

* fix widnwso test

* fix widnwso test

* FIX resolving path without following symlinks

* increase pause time in test

* fix windows test

* Update src/huggingface_hub/file_download.py"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-03-24T13:41:20Z,"Raise after download if file size is not consistent (#1403)

* Raise after download if file size is not consistent

* typo"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-03-20T12:17:27Z,"Hotfix - use relative symlinks whenever possible (#1399)

* Hotfix - use relative symlinks whenever possible

* renaming"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-03-14T12:33:21Z,Fix CI (#1392)
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-03-13T17:41:26Z,"Fix relative symlinks in cache (#1390)

* fix relative symlinks in cache

* fix test

* fix test on windows"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-03-08T08:38:20Z,"Download file to specific destination (#1360)

* Add local_dir option to fhf_hub_download/snapshot_download + docstring + tests

* add snapshot_download test + fix is subdirectory

* return local_dir in snapshot_download + fix

* adapt tests

* refactor snapshot download test -remove duplicate tests

* small

* remove unrelated image

* updated download.mdx

* doc

* Fix CI on windows

* better fix for windows

* warn about symlinks in doc

* docs

* fix readlink test

* fix windows ci

* Apply suggestions from code review

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>

* Add auto local_dir_use_symlink

* doc update

* fix tests

* style

* broken doc

* test files are overwritten if any

* fix test

* overview

* Update src/huggingface_hub/file_download.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

---------

Co-authored-by: Pedro Cuenca <pedro@huggingface.co>
Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-02-07T17:45:34Z,"Update formatting tooling (#1323)

* First draft to update tooling

* Fixed __init__.py generation

* quiet make quality

* update pre-commit and contributing guide

* set back mypy config

* FIX test due to moon-landing wording update"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-01-31T10:47:14Z,"fix(utils): try_to_load_from_cache now correctly handles refs/pr revisions (#1316)

* fix(utils): try_to_load_from_cache now correctly handles refs/pr type revisions

* just read the file

* formatting

* add test

* formatting

* formatting

* make style

---------

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-01-25T11:04:31Z,Fix caching error when offline and no refs dir (#1307)
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-01-24T10:41:37Z,"fix: use cache for snapshots even if refs does not exist (#1306)

* fix: use cache for snapshots even if refs does not exist

If one uses `hf_hub_download` only referencing specific commits the `refs` folder will not be created even though data will be cached via `snapshots` and `blobs`.  Subsequent calls to `try_to_load_from_cache` were returning None even though the desired data was in the cache.

Example:

```python
# download something
hf_hub_download(repo_id=repo, revision=commit_hash, filename=filepath, token=token)
# returns None
try_to_load_from_cache(repo_id=repo, revision=commit_hash, filename=filepath)
```

* FIX in case .not_exists + add tests

Co-authored-by: Lucain Pouget <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-01-20T09:12:46Z,"Make tests more robust (no pre-existing repo on staging Hub) (#1302)

* Create gated repo on the fly

* create repo with awful filename on the fly

* Create foreign repo on the fly to test PR creation

* scan cache tests on production repo

* make it work on windows

* final adapt

* make snapshot download tests faster

* Fix test_list_liked_repos_no_auth"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2023-01-19T15:55:28Z,"Add windows machine for CI (#1112)

* Add windows machine for CI

* add simple windows test

* run only windows tests in CI

* remove apt get in windows ci

* disable symlinks on windows machine in CI

* env variale

* fix disable_symlinks_on_windows_ci fixture

* fix fixture ?

* try to fix permission issues on windows ci

* refacto Offline repository tests

* Update use_tmp_repo behavior

* tmp work

* split between shared vs unique repo tests

* working repository tests

* use credential for repo tests

* refacto dataset repository tests

* run repo test concurrently

* fix github workflow

* fix ci

* fix ci

* echo ci

* fix ci?

* finally fix ci?g

* make test_correct_helper more robust

* delete test_correct_helper

* fix commit context manager

* robust tmp dir deletiong

* Implement more robust TemporaryDirectory

* adapt existing codebase

* cleanup at last

* code quality

* Rename to softTemporaryDirectory

* Skip test on windows + force str path in Repository

* typing

* skip symlink test on windows

* always disable symlink on windows during tests

* fix pytest conf

* xfail_on_windows decorator

* cleaner xfail_on_windows

* deactivate more tests

* another xfail

* skip umask test

* add pending questions

* other xfail

* longer but more robust test_backoff_sleep_time test

* another xfail

* Make windows-specific version of test_scan_cache_on_valid_cache

* fix file size

* 2 cache tests should fail

* resolve path in test missing cache

* test_scan_cache_last_modified_and_last_accessed should fail on Windows

* string instead of path in test_init_from_existing_local_clone

* fix \r\n issue in modelcards on windows

* preserve newlines when saving Repocard

* fix linebreak issue in test_updating_text_updates_content

* add repocard test to ensure linebreaks are kept

* fix for 3.7

* fix flag when saving

* document known issues on windows

* requested change"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-12-23T08:55:43Z,"1278 More robust temporary directory (#1279)

* Implement more robust TemporaryDirectory

* adapt existing codebase

* cleanup at last

* code quality

* Rename to softTemporaryDirectory"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-11-25T16:57:49Z,"Set correct permissions on blob file (#1220)

* Set correct permissions on blob file

* Hack to get current umask thread-safe"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-11-25T13:15:10Z,Add custom GatedRepoError when trying to access gated repo (#1225)
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-11-24T09:10:16Z,"Fix caching reference if permission denied (#1219)

* Fix caching reference if permission denied

* fix cleanup tests"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-11-15T10:01:30Z,"Fix get file size on lfs (#1188)

* Fix get file size on LFS

* fix typos + add description"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-11-14T10:51:02Z,"Parse file size in get_hf_file_metadata (#1179)

* Parse file size in get_hf_file_metadata

* quality"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-11-07T17:30:43Z,"FIX url encoding in hf_hub_url (#1164)

* FIX url encoding in hf_hub_url

* tests on subfolders as well"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-10-21T06:07:39Z,"Add error message from `x-error-message` header if exists (#1121)

* Add error message from x-error-message header if exists

* add regression test on gated repo"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-10-12T13:20:15Z,"More robust create relative symlink in cache (#1109)

* More robust create relative symlink in cache

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-09-20T06:52:40Z,"Add get_hf_file_metadata to fetch metadata from the Hub (#1058)

* Add get_hf_file_metadata to fetch metadata from the Hub

* update doc

* doc

* test get_file metadata

* add todo

* Update src/huggingface_hub/file_download.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/huggingface_hub/file_download.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-09-09T19:06:48Z,try_to_load_from_cache returns cached non-existence (#1039)
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-09-05T12:49:56Z,"Clearer HTTP error messages in `huggingface_hub` (#1019)

* draft

* refactored error handling

* fix regexes in tetss

* add tests for HfHubHttpErrors and helpers

* fix test

* fix test_model_info regex

* renamed to hf_raise_for_status + new attributes

* Add documentation

* isort fix

* FIX mock test

* Add BadRequestError reference to doc

* doc

* no deprecation for _raise_for_status

* Update docs/source/package_reference/utilities.mdx

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* sphinx to new doc

* relative imports for doc

* exmaple instead of usage

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-09-05T07:46:12Z,"Add validator for repo id + decorator to validate arguments in `huggingface_hub` (#1029)

* implement repo_id validator

* Add documentation

* Add validate_hf_hub_args decorator everywhere

* prefixing 'datasets' should not be supported

* try to fix doc

* update example

* Fix loading of config file from model_id in from_pretrained

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* docstring from code review

* Update docs/source/package_reference/utilities.mdx

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* FIX doc builder

* Update src/huggingface_hub/utils/_validators.py

* Update src/huggingface_hub/utils/_validators.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>
Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-08-31T10:16:32Z,Consider empty subfolder as None in  and (#1021)
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-08-16T11:23:07Z,"Handle redirections in `hf_hub_download` for a renamed repo (#983)

* Handle internal redirection when dowloading

* expect warning on deprecated cached_download

* ensure backward compatibility

* clearer parameter name + docstring"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-08-11T07:11:57Z,"Use a finer exception when local_files_only=True and a file is missing in cache (#985)

* Add LocalEntryNotFoundError + adapt + tests

* update comments

* add suggested comment"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-08-10T15:05:11Z,"Add utility to load files from cache (#980)

* Add utility to load files from cache

* Deal with repo type

* Apply suggestions from code review

Co-authored-by: Lucain <lucainp@gmail.com>

* Address review comments

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-06-13T08:54:26Z,"Refine 404 errors (#878)

* Add errors

* Style

* Review

* hf_hub_download support

* Errors for hf_hub_download

* Typo

* Handle 401 error

* Tests for 401 error

* Typo

* Review comments"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2022-05-25T14:52:04Z,"New git-aware cache file layout (#801)

* light typing

(cherry picked from commit b2c8f9b970c505cdf2c685e645e9e36cc472b0d3)

* remove this seminal comment

(cherry picked from commit 12a841a605c94733154f3b22e812c0f5e69ef37b)

* I don't understand why we don't early return here

cc @patrickvonplaten care to take a look? cc @LysandreJik

(cherry picked from commit 259ab36f03ab3eed6eeb4fc4984bc259619b442f)

* following last commit, unnest this

(cherry picked from commit 54957f3f049d887af21dd8f6950873a2823c4247)

* [BIG] This should work for all repo_types not just models!

(cherry picked from commit 9a3f96ccb2de6663cf4cf2d9a60dd7f415227c1b)

* one more

(cherry picked from commit b74871250616c44a2125b26d5de29b1189e82e12)

* forgot a repo_type and reorder code

(cherry picked from commit 3ef7d79a44087e971e10e35d3b9f5bea3474f297)

* also rename this cache folder

(cherry picked from commit 4c518b861723a6d28d59108403c37edf5208f2fe)

* Use `hf_hub_download`, will be simpler later

(cherry picked from commit c7478d58fe62da02625b8ca17796ad1419a048b1)

* in this new version, `force_filename` does not make sense anymore

(cherry picked from commit 9a674bc795d5c8a26aecf5429d391fff92e47e8d)

* Just inline everything inside `hf_hub_download` for now

(cherry picked from commit ee49f8f57ba4e7e66f237df8f64c804862fe3ee8)

* Big prototype! it works! :tada:

(cherry picked from commit 7fe19ec66a2c5a7386a956cb9b65616cb209608a)

* wip wip

* do not touch `cached_download`

* Prompt user to upgrade to `hf_hub_download`

* Add a `legacy_cache_layout=True` to preserve old behavior, just in case

* Create `relative symlinks` + add some doc

* Fix behavior when no network

* This test now is legacy

* Fix-ish conflict-ish

* minimize diff

* refactor `repo_folder_name`

* windows support + shortcut if user passes a commit hash

* Rewrite `snapshot_download` and make it more robust

* OOops

* Create example-transformers-tf.py

* Fix + add a way more complete example (running on Ubuntu)

* Apply suggestions from code review

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Update src/huggingface_hub/file_download.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* Update src/huggingface_hub/file_download.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* Only allow full revision hashes otherwise the `revision != commit_hash` test is not reliable

* add a little bit more doc + consistency

* Update src/huggingface_hub/snapshot_download.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Update snapshot download

* First pass on tests

* Wrap up tests

* :wolf: Fix for bug reported by @thomwolf

see https://github.com/huggingface/huggingface_hub/pull/801#issuecomment-1134576435

* Special case for Windows

* Address comments and docs

* Clean up with ternary cc @julien-c

* Add argument to `cached_download`

* Opt-in for filename_to-url

* Opt-in for filename_to-url

* Pass the flag

* Update docs/source/package_reference/file_download.mdx

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/huggingface_hub/file_download.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Address review comments

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Lysandre Debut <lysandre@huggingface.co>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2021-07-01T13:10:36Z,"Robust endpoint (#148), Only model ID to clone (#150), Enable dataset repositories (#151)

* More robust endpoint with toggled staging endpoint

* Rework snapshot download to use Staging

* Design the URL template according to the environment variable

* Add decorator for production testing

* Add git user/email for Repository

* Allow passing only model ID to clone when authenticated (#150)

* Allow passing only model ID to clone when authenticated

* Enable dataset repositories (#151)

* Enable dataset repositories

* Address Julien's review

* Better API"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2021-06-22T18:13:44Z,"HF Hub download (#137)

* HF Hub download

* Update src/huggingface_hub/file_download.py

Co-authored-by: Julien Chaumond <chaumond@gmail.com>

Co-authored-by: Julien Chaumond <chaumond@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2021-04-07T23:03:11Z,"Expose more hf.co API surface, and ability to download a snapshot of a repo to a local folder (#25)

* [ci] Slim down the matrix quite a bit

* Expose more hf.co API surface

- Expose the `filter` param on the list of models to only list models with a specific tag (method renamed to list_models, don't think it's too breaking, feedback welcome)

- Expose a `model_info` method that gives you slightly more detailed info on a specific model, at a specific revision

* Add `snapshot_download`: Download a whole snapshot of a repo's files at the specified revision

* Docs, tests, lockfiles & metadata

* In `force_filename` mode do not even store metadata file

* Update README.md

Co-authored-by: Julien Chaumond <julien@huggingface.co>

Co-authored-by: Lysandre <lysandre.debut@reseau.eseo.fr>
Co-authored-by: Lysandre Debut <lysandre@huggingface.co>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2021-03-18T16:55:44Z,"Add HF_HUB_OFFLINE env var (#22)

* offline mode simulator

* add HF_HUB_OFFLINE env var

* add tests

* doc tweak

* Re-align from transformers and @aaugustin

cc @lhoestq

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2021-02-12T18:56:44Z,"Support for git-based dataset repos (#14)

* Export more constants

* unrelated change= do not gobble certain kinds of requests.ConnectionError

* datasets: file_download

cc @lhoestq

* Exposing this as a constant

* Implement hf_api for datasets + Split constants into their own file

* integration test + CLI"
github.com/huggingface/huggingface_hub,tests/test_file_download.py,2020-12-22T21:43:53Z,"Initial import (#1)

* Scaffolding + ~ import from transformers

* move more things around

* Fixes/deletes from copy/pastes

* GH Actions"
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-06-23T10:41:13Z,feat(server): Adding new ignore_rule for conversion. (#485)
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-06-19T07:53:45Z,"feat(server): improve flash attention import errors (#465)

@lewtun, is this enough?

Closes #458
Closes #456"
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-06-05T14:09:41Z,feat(server): batch tokenization for flash causal lm (#411)
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-05-31T08:57:53Z,feat(server): add retry on download (#384)
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-05-03T09:36:24Z,feat(server): support hf endpoint weight layout (#266)
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-04-11T17:16:41Z,"feat(server): support OPT models (#55)

OPT models do not all have a `tokenizer.json` file on the hub at the
moment. Can't merge for now."
github.com/Preemo-Inc/text-generation-inference,server/text_generation_server/utils/hub.py,2023-03-07T17:52:22Z,feat(clients): Python client (#103)
github.com/Ascend/ModelZoo-PyTorch,PyTorch/built-in/diffusion/diffusers0.21.0/src/diffusers/commands/fp16_safetensors.py,2023-10-30T11:08:30Z,"!5688 【built-in】[PyTorch] Diffusers 0.21.0 Original Code Upload
* original code from Diffusers 0.21.0"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-08-10T15:54:29Z,Hopefully remove correspondence_from_mask
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-08-06T21:50:45Z,Iterative won't work with SP
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-07-14T23:25:42Z,"Merge pull request #70 from ArthurConmy/adria/margins

Fix figure margins and canonical circuit layouts"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-26T20:29:16Z,Change correspondence_from_mask to iterative_correspondence_from_mask for >10x speeding running launch_sixteen_heads and roc_plot_generator on sixteen heads and subnetwork probing.
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-23T03:53:37Z,Merge branch 'adria/new-reset-plot' into adria/margins
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-23T00:14:22Z,Update roc_plot_generator.py
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-22T18:36:35Z,Fix massive canonical circuit layouts
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-21T05:43:26Z,Manual layout for IOI
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-20T00:25:37Z,Merge remote-tracking branch 'upstream/main' into adria/new-reset-plot
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-20T00:25:10Z,Plot the non-KL metric even on KL plots
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-18T23:11:47Z,Upd
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-18T22:31:42Z,com
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-18T22:30:10Z,Commit fix; data reegen TODO
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-15T20:30:00Z,Discard runs that don't have _step
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-15T18:59:00Z,Add canonical full/empty circuit
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-15T18:24:04Z,Only keep the data with the largest number of steps
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-15T01:41:10Z,Save the step
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-14T23:07:24Z,Fixed some plotting code / ACDC extra thresholds do nothing
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-12T16:02:37Z,Merge remote-tracking branch 'upstream/adria/qkv_ioi_gt' into arthur-add-some-q-connections
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-12T15:54:11Z,Merge
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-11T22:00:41Z,Fix connections between things in graphics again
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-10T16:59:03Z,mlp_in
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-10T16:19:13Z,No all_present_corr
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-09T19:58:48Z,Complette renames
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-09T17:49:09Z,Merge remote-tracking branch 'upstream/adria/run-canonical' into adria/qkv_ioi_gt
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-08T20:30:21Z,The bug is *not* solved
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-08T17:30:28Z,Merge branch 'adria/poetry-makefiles' into adria/qkv_ioi_gt
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-08T16:47:44Z,Plot test values for each task
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-08T16:42:15Z,Update plotting script
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-08T16:20:02Z,Remove TransformerLens tests and fix some SP tests
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-07T22:23:29Z,make canonical graph generation work with newest batch
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-07T18:35:38Z,"Remove graphviz, re-add results"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-06T13:03:11Z,Merge remote-tracking branch 'upstream/main' into adria/qkv_ioi_gt
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-06T02:17:52Z,Some renames
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-06T02:03:01Z,Fix imports
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-05T18:44:22Z,Merge branch 'main' into adria/qkv_ioi_gt
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-05T16:53:52Z,fix bug
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-05T06:08:10Z,I think this is all
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-05T05:57:44Z,Fixed head missing in GreaterThan graph
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-04T17:47:45Z,Make the edge stuff different
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-04T17:03:40Z,Ckpt
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-04T16:45:14Z,Merging progress - plotly ROC plot produces output when media/plots/data exists)
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-04T15:38:48Z,Merge branch 'main' into adria/offline-tracr
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-04T12:59:24Z,Rename transformer_lens -> ACDC
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-03T16:40:37Z,Upd to notebooks|
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-03T13:38:14Z,Cleaned up some more files
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-02T16:31:05Z,Delete the 16H stuff
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-01T17:12:35Z,"Change back to transformer_lens install

Change folder

Oh I forgot pyproject"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-06-01T15:00:42Z,Merge
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-30T01:53:13Z,add all options to generator
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-30T01:50:03Z,Heads-only plot for IOI
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-30T00:44:15Z,Update new sraping
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-29T18:14:00Z,"Update notebooks/roc_plot_generator.py

Co-authored-by: ArthurConmy <35957051+ArthurConmy@users.noreply.github.com>"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-29T16:10:01Z,Fix bug
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T19:24:13Z,Hopefully correct IOI graph?
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T15:28:59Z,Tidy up
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T15:26:35Z,Update an IOI run
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T02:56:41Z,tracr data was wrong
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T02:46:58Z,Looks like we have all the data!
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T02:38:49Z,Update even more data
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T00:47:54Z,better
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-27T00:22:30Z,n_nodes and correct filter
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-26T23:23:00Z,Prepare for new tracr plots
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-26T22:41:19Z,New tracr data with node and edge-level confusion matrices
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-26T22:31:13Z,Merge remote-tracking branch 'upstream/adria/offline-tracr' into adria/offline-tracr
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-26T22:30:20Z,fix jobs
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-26T22:22:09Z,Fix some bugs
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-26T18:25:29Z,Create canonical graphs. TODO IOI
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-24T00:32:33Z,GT runs for ACDC
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-24T00:10:41Z,"More 16h runs, correct which kind of run goes in that group"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T23:21:35Z,Run re-do of SP gt
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T22:48:31Z,Collect data again
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T22:07:05Z,Better KL plot
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T14:27:26Z,More data points get loaded
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T12:36:08Z,Collected tons more data files
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T11:17:17Z,ACDC with metrics / redo
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T08:59:00Z,fix bugs
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T02:12:47Z,about to run
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-23T00:05:05Z,The magic incantation
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-22T23:41:33Z,Maybe now we can run the SPs concurrently
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-22T21:56:33Z,Re-do one ACDC
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-22T21:52:09Z,"Modify/add data files with edges/test info, acdc run test"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-22T15:56:32Z,More plots data
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T16:32:29Z,More error handling
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T15:47:24Z,Tracr runs !
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T09:52:58Z,Tracdr
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T09:37:21Z,"Kidk off more, improvements"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T09:08:31Z,"Add data, more robust generator"
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T08:06:35Z,New data
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T07:34:48Z,Based getting ACDC before it finishes running
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T05:05:18Z,A bunch of plot data
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-17T03:03:08Z,Start creating plots_data
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T23:46:41Z,Merge remote-tracking branch 'upstream/arthur-greaterthan' into adria/roc
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T23:29:40Z,Makes plots sorting by threshold
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T21:58:49Z,Generate ACDC roc plots with caching
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T21:35:20Z,Make good greaterthan plot
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T20:38:40Z,Commit a fairly cursed bug
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T20:22:28Z,Make SP a tiddly bit faster
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T19:52:00Z,Add the greaterthan stuff
github.com/ArthurConmy/Automatic-Circuit-Discovery,notebooks/roc_plot_generator.py,2023-05-16T18:33:58Z,Merge remote-tracking branch 'upstream/main' into other-code
github.com/Azure/app-service-linux-docs,HowTo/gRPC/Linux/OpenAI/LangChain/PyServer/venv/Lib/site-packages/transformers/trainer.py,2024-02-29T20:19:37Z,adding windows grpc docs
github.com/kleinay/seq2seq_constrained_decoding,tests/test_helpers/pipeline.py,2022-12-22T13:38:19Z,major restructure toward publish
github.com/Kaimary/GAR,ranker/sentenceBERT/util.py,2023-04-17T08:23:20Z,initial commit
github.com/huggingface/huggingface_hub,tests/test_webhooks_server.py,2024-02-22T15:24:29Z,"Framework-agnostic `split_state_dict_into_shards` helper (#1938)

* Draft for a framework-agnostic 'split_state_dict_into_shards' helper

* refactor

* mee

* Fix storage id stuff + add tests

* add example

* docstrings

* fix tf

* deterministic tests

* 5GB shards

* import torch

* rename to split_state_dict_into_shards_factory

* fix

* docs/source/en/package_reference/serialization.md

* with docs"
github.com/huggingface/huggingface_hub,tests/test_webhooks_server.py,2023-12-04T15:29:32Z,"Fix `WebhookPayload` schema + add `WebhooksServer.launch` (#1884)

* Fix WebhookPayload schema + support WebhooksServer.launch

* make quality

* fix

* fix 3.8"
github.com/huggingface/huggingface_hub,tests/test_webhooks_server.py,2023-10-13T09:02:24Z,"Testing `WEBHOOK_PAYLOAD_EXAMPLE` deserialization (#1732)

* Added test that the WEBHOOK_PAYLOAD_EXAMPLE can be deserialized

* Added defaults for Optional fields so tests can pass

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/huggingface/huggingface_hub,tests/test_webhooks_server.py,2023-04-14T13:33:51Z,"[Feat] Webhook server (#1410)

* better default ui

* Add docstrings and tests

* add webhooks extra

* raise if gradio not installed

* fix setup.py

* fix windows tests

* Renamed WebhookApp to WebhooksServer

* rename tests as well

* make test more robust

* FIX midddleware issue

* make stlye

* flag WebhookServer as experimental + run server in notebook

* doc for experimental feature

* docstring

* rename to 'as_webhook_endpoint'

* doc

* fix docs?

* make style

* doc

* doc

* doc

* odc

* doc

* Rename to webhook_endpoint

* Add pinned attribute to WebhookPayloadDiscussion

* fix tests

* remove middleware

* Apply suggestions from code review

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* add a webhooks guide

* typos

* syntxa

* add tip

---------

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/IBM/BadDiffusion,diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-12-20T09:55:32Z,update diffusers library 2023/12/20
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2023-03-09T21:58:03Z,"Add a progress bar for the total download of shards (#22062)

* Add a progress bar for the total download of shards

* Check for no cache at all

* Fix check"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2023-03-02T08:45:42Z,"[Refactor] Relative imports wherever we can (#21880)

* initial commit

* update

* second batch

* style

* fix imports

* fix relative import on pipeline"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2023-02-22T08:14:54Z,Apply ruff flake8-comprehensions (#21694)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2023-02-06T23:10:56Z,"Update quality tooling for formatting (#21480)

* Result of black 23.1

* Update target to Python 3.7

* Switch flake8 to ruff

* Configure isort

* Configure isort

* Apply isort with line limit

* Put the right black version

* adapt black in check copies

* Fix copies"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2023-01-27T17:09:49Z,"Little cleanup: let huggingface_hub manage token retrieval (#21333)

* Let huggingface_hub manage token retrieval

* flake8

* code quality

* adapt in every PushToHubMixin children

* add explicit return type"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2023-01-24T15:37:10Z,"Use `logger.info` instead of `print` to emit a logging message in `hub.py` (#21273)

use logger.info() instead of print() to emit a debug message"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-11-28T15:35:52Z,"Safetensors offload (#20321)

* INtegrate safetensos in weight offloading

* Use safetensors checkpoint for offload when available

* Make naming consistent

* Make load faster

* Quality

* Add default"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-11-04T21:25:02Z,Update hub.py (#20075)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-10-19T14:55:57Z,Fix cache version file creation (#19750)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-10-10T13:19:33Z,"Stop relying on huggingface_hub's private methods (#19392)

* Leverage hfh for move cache

* Style"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-30T19:13:39Z,"Fix cached lookup filepath on windows for hub (#19178)

* Update hub.py commit_hash extraction

Add safety mechanism for windows systems to unify logic (replace double backslashes with /)

* Fix string quotetype

* Aaaa circleci is messing with me.

* Switch to using as_posix() method from pathlib

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-29T12:58:39Z,"Use `hf_raise_for_status` instead of deprecated `_raise_for_status` (#19244)

* Use  instead of  from huggingface_hub

* bump huggingface_hub to 0.10.0 + make deps_table_update"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-26T22:01:00Z,"Fix cached_file in offline mode for cached non-existing files (#19206)

* Fix cached_file in offline mode for cached non-existing files

* Add tests

* Test with offline mode"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-19T19:27:18Z,Don't warn of move if cache is empty (#19109)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-16T19:01:57Z,replace logger.warn by logger.warning (#19068)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-15T13:39:59Z,Move cache: expand error message (#19051)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-13T17:11:24Z,Re-add support for single url files in objects download (#19014)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-12T16:09:37Z,"Align try_to_load_from_cache with huggingface_hub (#18966)

* Align try_to_load_from_cache with huggingface_hub

* Fix tests"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-06T16:34:37Z,"Further reduce the number of alls to head for cached objects (#18871)

* Further reduce the number of alls to head for cached models/tokenizers/pipelines

* Fix tests

* Address review comments"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-09-02T14:30:06Z,"Clean up utils.hub using the latest from hf_hub (#18857)

* Clean up utils.hub using the latest from hf_hub

* Adapt test

* Address review comment

* Fix test"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-10T19:46:03Z,Properly move cache when it is not in default path (#18563)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-10T15:55:18Z,"Use commit hash to look in cache instead of calling head (#18534)

* Use commit hash to look in cache instead of calling head

* Add tests

* Add attr for local configs too

* Stupid typos

* Fix tests

* Update src/transformers/utils/hub.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

* Address Julien's comments

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-09T19:15:01Z,Clean up comment
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-08T14:22:27Z,New cache fixes: add safeguard before looking in folders (#18522)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-08T12:48:10Z,"Clean up hub (#18497)

* Clean up utils.hub

* Remove imports

* More fixes

* Last fix"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-06T07:42:55Z,"`transformers-cli login` => `huggingface-cli login` (#18490)

* zero chance anyone's using that constant no?

* `transformers-cli login` => `huggingface-cli login`

* `transformers-cli repo create` => `huggingface-cli repo create`

* `make style`"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-05T17:29:38Z,Typo reported by Joel Grus on TWTR (#18493)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-05T17:24:53Z,Forgot one new_ for cache migration
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-05T17:14:00Z,"Move cache folder to huggingface/hub for consistency with hf_hub (#18492)

* Move cache folder to just huggingface

* Thank you VsCode for this needless import

* Move to hub

* Forgot one"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-05T14:12:40Z,"Use new huggingface_hub tools for download models (#18438)

* Draft new cached_file

* Initial draft for config and model

* Small fixes

* Fix first batch of tests

* Look in cache when internet is down

* Fix last tests

* Bad black, not fixing all quality errors

* Make diff less

* Implement change for TF and Flax models

* Add tokenizer and feature extractor

* For compatibility with main

* Add utils to move the cache and auto-do it at first use.

* Quality

* Deal with empty commit shas

* Deal with empty etag

* Address review comments"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-08-01T16:07:30Z,"Rewrite push_to_hub to use upload_files (#18366)

* Rewrite push_to_hub to use upload_files

* Adapt the doc a bit

* Address review comments and clean doc"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-07-19T09:53:53Z,"[From pretrained] Allow download from subfolder inside model repo (#18184)

* add first generation tutorial

* [from_pretrained] Allow loading models from subfolders

* remove gen file

* add doc strings

* allow download from subfolder

* add tests

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* apply comments

* correct doc string

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-07-13T16:43:08Z,"Make sharded checkpoints work in offline mode (#18125)

* Make sharded checkpoints work in offline mode

* Add test"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-07-13T14:53:25Z,"Revert ""Make sharded checkpoints work in offline mode""

This reverts commit 3564c6578630a3bef29d2c7c36c7d29b68acd874."
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-07-13T14:51:56Z,Make sharded checkpoints work in offline mode
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-07-11T16:45:06Z,Add filename to info diaplyed when downloading things in from_pretrained (#18099)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-06-22T05:04:35Z,Flax sharded (#17760)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-06-21T16:01:08Z,"TF Sharded (#17713)

* initial commit

* update modeeling tf utils

* quality

* clean and update args

* update

* remove potential bug

* code quality

* update

* update max shard

* update tests for sharding from pretrained

* fix remaining test

* make style

* h5py if tf available

* update and fix test

* fix test

* style

* modified push to hub to support shard for TF

* quick fix

* update code

* merge branch main and style

* Apply suggestions from code review

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* update based on reviews

* update doc

* update and style

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update based on reviews

* fix typo

* style

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-06-21T15:51:18Z,"Prepare transformers for v0.8.0 huggingface-hub release (#17716)

* Prepare CI for v0.8.0

* pin hfh (revert before merge)

* Revert ""pin hfh (revert before merge)""

This reverts commit a0103140e1c77b810ffcb735192968bc03be3e1f.

* Test rc3

* Test latest rc

* Unpin to the RC

Co-authored-by: Sylvain Gugger <Sylvain.gugger@gmail.com>"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-06-10T13:41:53Z,"🐛 Properly raise `RepoNotFoundError` when not authenticated (#17651)

* Raise RepoNotFoundError in case of 401

* Include changes from revert-17646-skip_repo_not_found

* Add a comment

* 💄 Code quality

* 💚 Update `get_from_cache` test

* 💚 Code quality & skip failing test"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-06-08T15:34:05Z,Fix telemetry URL (#17608)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-06-07T15:57:52Z,"Add examples telemetry (#17552)

* Add examples telemetry

* Alternative approach

* Add to all other examples

* Add to templates as well

* Put framework separately

* Same for TensorFlow"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-05-12T20:25:55Z,"Black preview (#17217)

* Black preview

* Fixup too!

* Fix check copies

* Use the same version as the CI

* Bump black"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-04-29T16:26:45Z,"Revert ""Updating variable names. (#16445)"" (#17011)

This reverts commit 4f3a14e3c235c8b6b8cd2f5bc448a0cffacddf61."
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-04-29T15:44:28Z,Updating variable names. (#16445)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-04-25T19:15:00Z, Fix issue probably-meant-fstring found at https://codereview.doctor (#16913)
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-03-23T19:56:49Z,"Make Transformers use cache files when hf.co is down (#16362)

* Make Transformers use cache files when hf.co is down

* Fix tests

* Was there a random circleCI failure?

* Isolate patches

* Style

* Comment out the failure since it doesn't fail anymore

* Better comment"
github.com/haotian-liu/transformers_llava,src/transformers/utils/hub.py,2022-03-23T14:26:33Z,"Reorganize file utils (#16264)

* Split file_utils in several submodules

* Fixes

* Add back more objects

* More fixes

* Who exactly decided to import that from there?

* Second suggestion to code with code review

* Revert wront move

* Fix imports

* Adapt all imports

* Adapt all imports everywhere

* Revert this import, will fix in a separate commit"
github.com/mattyamonaca/layerdivider,ldivider/bg_remover.py,2023-04-25T08:33:33Z,change dir
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2024-03-01T12:49:26Z,"Use convert_attribute=True by default for onnx.save (#1738)

* use convert_attribute=True by default for onnx.save

* leave some constants in the model.onnx"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-10-16T09:20:39Z,"Enable ONNX export decoder only without need to merge (#1257)

* ONNX export decoder model refactorization

* fix IO bindings

* format

* enable mpt support

* format

* add trust remote code

* fix test

* format

* fix quantization

* add test

* format

* fix optimization

* fix compatibility with legacy models

* fix style

* add export to main_export

* add legacy to ONNX export


* patch model to fix causal lm generation

* add no post process

* remove bloom caching

* fix dynamic axis for position ids

* fix external data

* add model patcher

* format

* fix bart model patcher

* fix model patcher for opt models

* fix format

* add test

* format

* fix ort docker

* add test

* fix bart model patcher

* raise when unsupported model

* add cached file

* add position warning

* fixes

* enable post process after export to remove tied weights

* comment

* remove test

* fix test

* modify model

* remove deprecated use_merged in test

* Add mistral model patcher

* add slow test

* add workflow"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-04-12T12:01:11Z,"Allow to use a custom class in TasksManager & use canonical tasks names (#967)

* fix task names

* add test

* fix fill-mask

* fix test

* fix fill mask and vision2seq

* fix

* add test

* fix feature extraction

* fix audio ctc

* add warning

* update comment

* fix bug

* fix tests and comments

* nit

* fix test"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-03-27T11:28:41Z,"Fix encoder-decoder ONNX merge (#924)

* fix encoder decoder merge

* document strict

* Update optimum/onnx/transformations_utils.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/transformations_utils.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/transformations_utils.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* fix on suggestions

---------

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-03-15T08:30:45Z,"Remove constant outputs from decoder with past ONNX model for encoder-decoder architectures (#872)

* fix ort implementation

* add patcher

* remove test

* fix causal-lm case

* fix typo"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-02-15T15:14:17Z,"Enable inference with a merged decoder in `ORTModelForCausalLM` (#647)

* Add save option

* Add test for saving

* Fix test path

* Allow str path for merging

* Add Path and remove merged names

* Finish adapting ORTModelDecoder

* Prepare extra inputs

* do not store merged in place

* Support I/O binding for merged

* Extend to multiple patterns

* Add test for inference

* Fix test

* update test

* Remove prints

* add back missing method

* fix mess

* fix post merge

* none defaut

* fix

* fix errors

* remove nonsense tests

* fix doc

* ongoing

* debug

* fix style

* fix post merge

* hopefully working!

* add tests

* rename

* add constants

* fix test

* fix names

* ort support

* wip

* fix

* fix

* tests for merged

* stype

* fix

* fix merge errors

* fix tests

* fix test

* remove irrelevant test

* Update optimum/exporters/onnx/__main__.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/exporters/onnx/base.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/exporters/onnx/config.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/exporters/onnx/config.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/exporters/onnx/config.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/exporters/onnx/config.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/exporters/onnx/config.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnxruntime/modeling_decoder.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update tests/exporters/onnx/test_exporters_onnx_cli.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* fix on suggestions

* fix import of dummyinputgenerators

* skip unwanted tests

* fix diffusion model

* fix tests

* Update optimum/commands/export/onnx.py

Co-authored-by: Jingya HUANG <44135271+JingyaHuang@users.noreply.github.com>

* Update optimum/onnxruntime/modeling_decoder.py

Co-authored-by: Jingya HUANG <44135271+JingyaHuang@users.noreply.github.com>

* fix last tests

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnxruntime/modeling_decoder.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* fix signature and docstrings

* add error message if post process fails

* tiny fix

* last fixes

* typo

---------

Co-authored-by: Félix Marty <9808326+fxmarty@users.noreply.github.com>
Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-02-09T13:12:19Z,Update quality tooling for formatting (#760)
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-02-06T17:35:59Z,"`exporters.onnx` output names and dynamic axes fix (#731)

* Everything is working

* Small fixes

* Fixes

* Fix

* Fix and suggestions

* Fix vision encoder-decoder models

* Fix

* Before changing OnnxConfigWithLoss dramatically

* Fix for OnnxConfigWithLoss"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-02-06T15:48:30Z,"Replace `--for-ort` option in ONNX export by `--monolith` (#747)

* remove for ort, add monolith option in onnx export

* add back for-ort for backward compatibility

* typo

* fix test"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2023-01-16T09:08:53Z,"ONNX transformation to cast int64 constants to int32 when possible (#655)

* add function to convert int64 constants to int32

* add utils file

* add in init

* add doc

* remove onnx check

* fix transformation and test

* Update optimum/onnxruntime/modeling_decoder.py

* more explicit naming"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2022-12-20T13:03:01Z,"Use optimum exporter for current weight sharing test (#616)

Use optimum exporter"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2022-12-19T22:53:53Z,"Merge ONNX decoder models (#587)

* Move gather node fix method to onnx.graph_transformations.py

* Remove from trainer_seq2seq

* Trace upstream nodes

* Change method name

* Add merge function

* Add opset check

* Add onnxsim

* Add deduplication of initializers

* Update test

* Add utils file

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Fix typo

* Patch opset v13

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Update optimum/onnx/graph_transformations.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

* Apply suggestions

* Add opset checker

* Apply suggestions

* remove onnxsim

* remove useless

* Apply suggestion for the test

* Remove useless

* Update optimum/onnx/graph_transformations.py

Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>
Co-authored-by: fxmarty <9808326+fxmarty@users.noreply.github.com>"
github.com/huggingface/optimum,tests/onnx/test_onnx_graph_transformations.py,2022-11-02T17:02:18Z,"Exporters onnx module (#403)

* [WIP] ONNX export in optimum => Bert works

* [WIP] ONNX export in optimum => GPT-2 / GPT Neo

* [WIP] ONNX export in optimum => T5

* [WIP] ONNX export in optimum

* [WIP] Add support for TensorFlow export

* [WIP] onnx export

* Update file headers

* [WIP] cache features.py

* Refactor features.py

* Bert like models ready

* Apply suggestions

* Clean up

* Backup input_generators.py version

* Most seq2seq models work

* Add vision models

* Support for GPT-J

* CLIP is working

* Add support for the remaining models

* Make style

* Fix workflow and remove commented code

* nit

* Renamed dynamic axes

* Fix BART

* Drop support for PyTorch 1.10 and lower

* Add re-order inputs method

* Small fixes

* Changed FeaturesManager to TasksManager

* Apply suggestions

* Fix Bloom export

* Fix mt5 export

* Change ATOL_FOR_VALIDATION for ResNet

* Update github actions for exporters to use pytest

* Styling

* Remove old comment

* Fix github action for exporters

* Fix tests that are not passing

* Styling

* Change Blenderbot model to use

* Change Resnet ATOL value"
github.com/akx/ggify,ggify.py,2024-02-13T08:47:28Z,Add --vocab-type
github.com/akx/ggify,ggify.py,2023-09-21T09:28:57Z,Upper type so existence detection works
github.com/akx/ggify,ggify.py,2023-09-21T09:13:55Z,Set quantization concurrency
github.com/akx/ggify,ggify.py,2023-09-21T09:11:27Z,Support more quantization types
github.com/akx/ggify,ggify.py,2023-09-21T07:50:19Z,Update for convert.py instead of convert-pth-to-ggml.py
github.com/akx/ggify,ggify.py,2023-05-31T05:46:09Z,Fix help and single-file models
github.com/akx/ggify,ggify.py,2023-05-26T10:15:54Z,"Add cleaning option, etc."
github.com/akx/ggify,ggify.py,2023-05-16T19:14:26Z,Make LLAMA_CPP_DIR saner
github.com/akx/ggify,ggify.py,2023-05-16T11:28:13Z,Initial code
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2024-03-02T07:49:51Z,"fixes OOM error, volume bug, and environment issue in diffusers script example (#617)"
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2024-02-21T15:36:23Z,"Convert examples to all use lifecycle method decorators (#586)

* Convert examples to all use lifecycle method decorators

* Reinstante exc_info arguments on exit methods"
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2024-02-21T01:08:54Z,"improvements to Falcon 40B and diffusers examples (#587)

* pins dependencies for Falcon 40B

* improves diffusers example: more training, cleans up text and Gradio app, adds comments, pins dependencies

* applies ruff formatting"
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2024-01-03T20:39:56Z,Change HUGGINGFACE_TOKEN to HF_TOKEN (#539)
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2024-01-03T20:26:30Z,"Fix failing synthetic monitors (#535)

* Fix algolia_indexer synthetic monitor

* Fix db_to_sheet

* Fix dbt_duckdb

* Remove dbt_sqlite

This depends on meltano, an example that is currently not tested,
and it also looks up an NFS.

* Fix mini_dalle_slackbot

* Fix news_summarizer

* Fix dreambooth_app

* Fix instructor

* Fix webscraper

* Fix a bunch of ""huggingface"" secrets

* Fix db_to_sheet

* Revert changes to environment_name

* Remove unused import for lints

* Fix TGI synmon token

* Fix TEI and TGI-Mixtral

- TEI: Issue with HuggingFace secrets again
- TGI-Mixtral: https://github.com/huggingface/text-generation-inference/issues/1342"
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2023-11-03T20:01:41Z,"Add more fine-tuning result images to the Diffusers tutorial (#488)

* Update tran and serve diffusers script

* Remove the .DS_Store files

* Bring back jsonformer_generate.py

* Add fine-tuned result images"
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2023-11-01T20:37:27Z,"Fix CI / auto-format checker (#487)

Follow up to #476"
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2023-11-01T20:25:47Z,Replace PersistentVolume with Volume (#486)
github.com/modal-labs/modal-examples,06_gpu_and_ml/diffusers/train_and_serve_diffusers_script.py,2023-10-31T15:22:18Z,"Add Diffusers tutorial to modal-examples (#476)

* Add Diffusers tutorial to modal-examples

* Make some small changes to the diffusers script, removing unnecessary imports

* Add back files

* Lint and format

* Add last edit to diffusers tutorial

* Update modal volume put

* Update diffusers example"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-05-10T19:49:49Z,"Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-05-02T18:20:35Z,Upgrade pyright to 1.1.305 (#4042)
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-05-01T16:59:41Z,"Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-04-27T20:09:50Z,"Use f-strings where possible (#3984)

* Use f-strings where possible

Semi-automated using ikamensh/flynt

* Update gradio/utils.py

* Update gradio/interface.py

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-04-19T18:38:11Z,"Fix some documentation-related issues in Guides (#3903)

* client doc fixes

* simplify demo

* added guides

* chatbot guide

* notebooks

* format"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-03-27T14:40:07Z,"Add docs for HF Json saver (#3604)

* Add docs for flagging

* Fix params

* CHANGELOG

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-03-06T23:06:23Z,"Remove everything related to encryption (#3396)

* remove requirements

* deprecate encrypt

* remove flagging

* deprecate

* formatting

* lint"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-02-28T18:29:34Z,"Some improvements to Flag (#3289)

* Fixes to button disable

* button

* formatting

* flagging fix

* fixes

* formatter

* changelog

* ormatting

* tests

* saving

* adding optionality for flagging

* updatest

* error catching

* updates

* changelog

* tests

* typing

* flag button

* formatting

* tests

* tests

* tests

* increased latency

* queue fix

* clear

* formatting

* fix

* fix tests"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-02-04T00:46:56Z,"Example caching now works with components without a label attribute (e.g. Column) (#3123)

* add non io component support for example caching

* chaneglog"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-01-21T04:15:45Z,"Fix to HuggingFaceDatasetSaver  (#3025)

* hf flag fix

* fixed huggingface hub params

* formatting

* fix flagging tests

* add a try / catch"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2023-01-03T17:20:02Z,"Updating typing in `utils.py` and `templates.py` (#2904)

* typing

* typing

* typing

* updated CHANGELOG.md

* typing

* typing

* typing

* typing

* Update max_args count to be -1 if positional param type

max_args would be set to the value of ""infinity"" when the param was of VAR_POSITIONAL type. That makes max_args hold both int and string values.
Updated the max_args to be set to -1 value.

* Updated to use same response and not previous response for validation

* Keep self._response uninitialized

* Updated to use empty BaseModel when not validation_model not present

* Reference `BlockContext` directly

* initializing end as 0 in format_net_list

* Updating docs for error_analytics

* Update file version check in utils

* Update gradio.strings import

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* typing

* Add utils.py and templates.py to type check script

* fixed changelog

* Update formatting of utils.py

* rerun ci

* flagging fix

* fix typing

* formatting

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-12-29T20:30:44Z,"Refactored `interface.py` (#2902)

* started pathlib

* blocks.py

* more changes

* fixes

* typing

* formatting

* typing

* renaming files

* changelog

* script

* changelog

* lint

* routes

* renamed

* state

* formatting

* state

* type check script

* remove strictness

* switched to pyright

* switched to pyright

* fixed flaky tests

* fixed test xray

* fixed load test

* fixed blocks tests

* formatting

* fixed components test

* uncomment tests

* fixed interpretation tests

* formatting

* last tests hopefully

* argh lint

* component

* fixed based on review

* refactor

* components.py t yping

* components.py

* formatting

* lint script

* merge

* merge

* lint

* pathlib

* lint

* events too

* lint script

* fixing tests

* lint

* examples

* serializing

* more files

* formatting

* flagging.py

* added to lint script

* fixed tab

* interface.py

* attempt fix

* refactoring interface

* interface refactor

* formatting

* fix for live interfaces

* lint

* serialize fix

* formatting

* all demos queue

* added type check

* formatting"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-12-29T20:18:19Z,"Added typing to even more files  (#2900)

* started pathlib

* blocks.py

* more changes

* fixes

* typing

* formatting

* typing

* renaming files

* changelog

* script

* changelog

* lint

* routes

* renamed

* state

* formatting

* state

* type check script

* remove strictness

* switched to pyright

* switched to pyright

* fixed flaky tests

* fixed test xray

* fixed load test

* fixed blocks tests

* formatting

* fixed components test

* uncomment tests

* fixed interpretation tests

* formatting

* last tests hopefully

* argh lint

* component

* fixed based on review

* refactor

* components.py t yping

* components.py

* formatting

* lint script

* merge

* merge

* lint

* pathlib

* lint

* events too

* lint script

* fixing tests

* lint

* examples

* serializing

* more files

* formatting

* flagging.py

* added to lint script

* fixed tab

* attempt fix

* serialize fix

* formatting

* all demos queue

* addressed review comments

* formatting"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-12-20T21:27:14Z,"Fixes flagging when `allow_flagging` is set to ""auto"" (#2695)

* flagging fix

* formatting

* changelog

* auto

* auto"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-09-21T16:53:06Z,"Supports `gr.update()` in example caching (#2309)

* support for update

* formatting

* testing

* fixes to tests

* fixes to tests

* fix tests

* fix review comments

* Update blocks.py"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-08-23T23:01:37Z,"Add a flagging callback to save json files to a hugging face dataset (#1821)

* work on saving flags in JSON format

* explained what I did more clearly

* final updates + added test case

* reviews to flagging.py for HuggingFaceDatasetJSONSaver

* formatted imports

* used uuid for random ids

* used uuid for random + function to get dataset infos

* reformmated flagging.py

* fix examples test

* formatting

* async examples

* working on mix

* comment out failing test

* fixed interface problem

* final updates to HuggingFaceDatasetJSONSaver flagging.py

* final updates to HuggingFaceDatasetJSONSaver flagging.py

* formatting

* some tweaks

* tweaks

* tweaks

* omar's fixes

* added back test.init

* restored test init

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-08-23T15:31:04Z,"Cleaning up the way data is processed for components (#1967)

* remove preprocess_example

* removing methods

* added path support for images

* fixes

* video

* formatting

* fixing preprocess

* fixes

* removed from audio

* fixed file

* formatting

* serialization

* foramtting

* formatting

* removed save flag / restore flag

* formatting

* removed flagging

* removed

* load value

* fixing typing

* fixes, typing

* fixes

* file

* handling images

* formatting

* fixed serializing for flagging

* formatting

* json

* temp file

* removed processing

* changed processing

* fixed temp FINALLY

* flagging works

* fix examples test

* formatting

* async examples

* working on mix

* comment out failing test

* fixed interface problem

* fix kitchen sink deprecation warning

* gallery examples

* fixes

* fixes to serialization

* fixing label serializing

* fixed file serialization

* kitchen sink restored

* outbreak forecast updated

* formatting

* formatting and api mode

* fix 1 test :/

* fixing tests

* fixed components tests

* remvoed test files

* formatting

* fixed examples

* fixes

* formatting

* restored certain files

* added encryption

* fixed syntax mistake

* formatting

* fixed 1 test

* clean up interface

* formatting

* fixed route tests

* more fixes

* formatting

* formatting

* fixing pipeline

* format frontend

* format backend

* tweaks

* fix

* fix final test?

* merged

* Sanitize for CSV (#2017)

* sanitize for csv

* added sanitization logic

* fixed examples

* turn cache off

* fixed example caching with optional inputs

* fixed review problems

* fixed Interface.load

* updating the tests

* updating the tests

* fix

* fixed seriailizing

* testing

* rewrite run prediction

* formatting

* await

* fixes

* formatting

* finally fixed mix

* fixed tests

* formatting

* formatting

* deserialize fix

* formatting

* fixes

* fixes

* fix

* fix tests

* fixes

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-08-05T00:55:09Z,"Referencing guides in docstrings and other fixes (#1905)

* tie guides to docs in docstrings

* reference guides in more sections

* fix missing guides in interface and blocks

* fix broken html div

* remove pinned metadata for ordering

* fix annoying comma space in guide tags

* retrigger codecov check

* fix guides bug in flagging

* add controlling layout guide to row, column, and tab"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-07-21T20:10:22Z,"Adding flagging callbacks to the docs (#1834)

* added flagging documentation

* formatting

* added example usage

* formatting

* addressed comments"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-07-21T19:57:58Z,"Fixes cached examples (#1850)

* examples fix

* fix bug

* formatting"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-07-11T22:39:44Z,"Fixes multiple people using `HuggingFaceDatasetSaver` simultaneously (#1744)

* pull before updating repo

* formatting

* fix concurrency issue

* formatting"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-07-06T18:23:35Z,"Exposing examples as a component for Blocks (#1639)

* examples as component

* renamed examples

* simplify internal logic

* fix tests

* cleanup

* fixed parallel and series

* cleaning up examples

* examples

* formatting

* fixes

* added unique ids

* added demo

* formatting

* fixed test_examples

* fixed test_interfaces

* fixed tests

* removed test from now

* raise ValueError for bad parameter values

* fixing series

* fixed series

* formatting

* speed up by preprocessing examples

* fixed parameter validation logic"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-04-19T01:36:43Z,merge in master
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-25T18:12:45Z,flagging tests pass
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-25T06:44:09Z,changes
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-25T06:20:22Z,import sort
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-25T06:03:47Z,fix format
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-25T04:15:05Z,changes
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-23T23:36:07Z,changes
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-17T19:28:37Z,"Merge pull request #826 from gradio-app/comp-label

Component label fixes"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-17T17:30:51Z,removed quoting for hf dataset saver
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-17T17:16:31Z,backend formatting
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-17T17:15:56Z,quoting fix
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-17T00:26:39Z,changes
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-16T23:09:20Z,fixed label bugs
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-14T14:37:30Z,"formatting


Former-commit-id: b78188d885230fd4ad617ee7288e840aa6dea321"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-03-14T14:36:51Z,"sanitize flagging inputs before writing to csv


Former-commit-id: f2d9f808c79abec7f2c8ff4a94b17a9b1cdd5651"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-02-08T18:56:13Z,Upgrade black to version ~=22.0
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-24T04:54:48Z,flagging
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-21T16:28:41Z,updated PyPi version to 2.7.3
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-21T15:48:24Z,fixed flagging
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-21T13:44:12Z,"Format The Codebase
- black formatting
- isort formatting"
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-19T19:33:55Z,added for previewing image
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-19T18:53:42Z,added code for previewing audio
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-19T16:40:28Z,added code for previewing audio
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2022-01-19T15:59:42Z,added typing
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-12-30T08:20:28Z,cache examples functionality; other fixes
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-12-23T16:05:08Z,flagging is working
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-12-23T15:00:58Z,HF dataset creation works
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-21T01:04:02Z,wip flagging spaces
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-19T20:49:14Z,fixing flagging
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-16T18:43:40Z,fixed some flagging tests
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-16T18:24:01Z,reorganized flagging to make it easier to subclass
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-13T06:35:25Z,refactored flagging
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-13T06:33:59Z,refactored flagging
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-11-01T16:40:51Z,rewrote DefaultFlaggingHandler not to need app
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-10-28T21:20:08Z,added skeleton for hf
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-10-28T21:19:43Z,added skeleton for hf
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-10-28T05:50:33Z,implemented default flagging as handler
github.com/ShoufaChen/gradio-box,gradio/flagging.py,2021-10-27T18:43:24Z,started spaces architecture
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-06-15T17:51:09Z,"Amend error toast and pill styling (#4454)

* remove error gradient and add border to toast

* changelog

* tweak styling for light and dark error status and toast

* run prettier

* restore removed onclick

* remove formatting

* fix dracula test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-06-11T01:12:11Z,"gr.Number() max/min limit (#3991)

* Add min max handling for Number (#3871)

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4027)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times (#4030)

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math (#4029)

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 (#4042)

* Fastapi Python Client Guide (#3892)

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming (#4043)

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change (#4059)

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4064)

* New Version Docs (#4069)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix (#4070)

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix (#4072)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors (#4068)

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM (#4073)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes (#4080)

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes (#4086)

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing ""State"" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios (#4071)

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit (#4090)

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile (#4098)

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures (#4115)

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page (#4112)

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators (#3821)

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release (#4116)

* Bumpt client version (#4125)

* New Version Docs (#4131)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action (#4130)

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs (#4132)

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4136)

* Fix website build issue (#4142)

* upgrade pnpm

* changelgo

* Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx (#4133)

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv (#4160)

* Fix the prettier.ignorePath field in the VSCode workspace settings (#4164)

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog (#4163)

* Fix the wildcard in .editorconfig to match files in nested directories (#4165)

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test (#4168)

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping (#4167)

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 (#4166)

* release

* requirements

* [Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4172)

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason (#4128)

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test (#4173)

* hotfix for test

* removed comment

* 3712 js client (#3899)

* update ci (#4184)

* bump client version (#4185)

* bump client version

* ignore spaces-test

* Fix (#4186)

* bump client version

* ignore spaces-test

* fix

* update token for npm action (#4187)

* change (#4189)

* ci typo (#4190)

* Fix npm publish again again (#4191)

* ci typo

* fix

* Fix npm publish again again (#4192)

* ci typo

* fix

* again

* Fix npm publish again again (#4193)

* ci typo

* fix

* again

* again

* Add format argument to Audio (#4178)

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4188)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again (#4195)

* ci typo

* fix

* again

* again

* again

* client docs tweaks (#4196)

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix ""TypeError: issubclass() arg 1 must be a class"" When Optional args  (#4200)

* fix ""issubclass() arg 1 must be a class"" when args is Optional

* Update CHANGELOG.md

add fix ""TypeError: issubclass() arg 1 must be a class"" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import (#4201)

* fix token (#4208)

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component (#4204)

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters (#4203)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app (#4119)

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md (#4220)

* Input listener (#4157)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled (#4194)

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout (#4235)

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower (#4228)

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled (#4236)

* Only allow messaging update if analytics are allowed

Follows up on #4194

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths (#4202)

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels (#4225)

* fix cancels

* changelog

* refactor to make it work

* chore: update versions (#4207)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish (#4240)

* fix npm publish

* fix npm publish

* release (#4219)

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo (#4238)

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError (#4241)

* Fix JSONDecodeError bug (#4237)

* Remove unused import

* Clean up code

* Fix JSONDecodeError (#4241)

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private (#4247)

* Refactoring (#4223)

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts (#4222)

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change (#4250)

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click (#4258)

* fix run on click

* changelog

* Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing (#4150)

* fix info request in js client (#4271)

* fix info request in js client

* changelog

* Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue (#4273)

* Allow passing FastAPI app options (#4282)

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot (#4285)

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 (#4293)

* release 3.32.0

* changelog

* New Version Docs (#4296)

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove @ts-i… (#4315)

* Add overridden type annotations on `normalise_file()` to remove @ts-ignore, and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid (#4337)

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener (#4304)

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md (#4310)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4283)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls (#4334)

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks (#4357)

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well (#4311)

* Remove unnecessary @ts-ignore (#4314)

* Remove unnecessary Promise wrapping another promise (#4313)

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` (#4312)

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code (#4275)

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` (#4356)

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route (#4303)

* Don't allow dotfiles or files in ""dot directories"" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming (#4363)

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows (#4369)

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml (#4383)

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot (#4360)

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot (#4350)

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 (#4392)

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support (#4398)

* changes

* changes

* changes

* New Version Docs (#4397)

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group (#4391)

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  (#4362)

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked (#4380)

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url (#4388)

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... (#4379)

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself (#4371)

* Fix the Node and pnpm setup actions (#4394)

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file (#4393)

* fix indent (#4404)

* Throttle scroll event  (#4158)

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` (#4436)

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every (#4434)

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback (#4433)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog (#4441)

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-05-04T08:28:39Z,"Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-04-28T18:31:41Z,"UI fixes for themes (#3590)

* changes

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-04-27T20:09:50Z,"Use f-strings where possible (#3984)

* Use f-strings where possible

Semi-automated using ikamensh/flynt

* Update gradio/utils.py

* Update gradio/interface.py

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-04-25T01:08:55Z,"gradio.themes: get rid of useless re-exports + noqas (#3958)

* gradio.themes.utils: remove star re-exports

* gradio.themes: specify re-exports in __all__

* gradio.themes.app: import create_theme_dropdown from full module path

* Add changelog

* Yeet theme_dropdown CommitOperationAdd

* fixing broken theme path

* version

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-30T18:20:34Z,"Theme builder (#3664)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* Update CHANGELOG.md

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/builder.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-23T21:27:16Z,"Set theme name from load (#3595)

* Add name + test

* Add theme names

* CHANGELOG

* Delete theme in interface"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-20T23:16:18Z,"Add missing demos for Code and Barplot (#3550)

* Add missing demos

* Add code

* Linting

* Format notebook

* Remove extra print

* Update demo/barplot_component/run.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix code component formatting

* Fix barplot

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-19T03:15:02Z,"Sharing themes (#3428)

* Rebase

* Remove build hooks

* Working implementation

* Add semver + unit tests

* CHANGELOG

* Add to docs

* Rename push_to_hub and fix typos

* Fix gallery

* Fix typo

* Address comments + tests

* Update gradio/themes/app.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Import Base as Theme. Use DefaultTheme() as fallback

* Fix types

* Make version and token truly optional

* Add version dropdown + tests

* trigger

* Support private themes and org_names

* Fix org_name typo

* Update wheel

* Fix font loading and dumping

* fixing tests

* fix tests

* formatting

* version

* remove requirements

* remove requirements

* formatting

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-19T00:30:52Z,"Theme label bar fix (#3507)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* undo merge break

* changes

* changes

* changes

* fix

* theme_to_soft

* changes

* restore_label_stat_bats

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-18T20:24:11Z,"Release v3.22.0 (#3489)

* release 3.22.0

* Add type hint

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-18T20:07:23Z,"Use soft theme instead of glass theme in demo (#3503)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* undo merge break

* changes

* changes

* changes

* fix

* theme_to_soft

* changes

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-18T00:20:55Z,"More theme updates (#3497)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* changes

* changes

* undo merge break

* changes

* changes

* changes

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-17T14:41:53Z,"Theme+release (#3494)

* changes

* changes

* changes

* changes

* changes

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/themes/base.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update guides/03_building-with-blocks/06_theming-guide

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

* save file

* update changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/ShoufaChen/gradio-box,gradio/themes/base.py,2023-03-06T20:52:31Z,"Python backend to theming (#2931)

* add theme + theme atoms

* audio

* buttons

* chatbot

* forms

* start file

* complete file

* fixup workbench

* gallery

* highlighted text

* label

* json

* upload

* 3d model

* atoms

* chart

* md + html

* image

* plot + build

* table

* tabs

* tooltip

* upload

* tweaks

* tweaks + more tooling

* tweaks to padding/ lineheight

* app components _ start api docs

* format, more api docs

* finish api docs

* interpretation

* todos

* tweaks + cleanup

* tweaks + cleanup

* revert range tweaks

* fix notebooks

* fix test

* remove tw

* cleanup + login

* fix gitignore

* fix types

* run css script

* fix progress + tweaks

* update demos

* add css build to static check workflow

* tweak ci

* fix tests

* tweak markdown

* tweak chatbot + file

* fix tabs

* tweak tabs

* cleanup

* fix api docs

* fix example gallery

* add gradient to toast

* fix min height for interfaces

* revert tab changes

* update notebooks

* changes

* changes

* change

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* fix

* changes

* changes

* changes

* changes

* changes

* changes

* undo radius

* undo radius

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* change

* undo

* Add absolute imports

* mock theme in tests

* clean

* changes

* changes

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,gradio/deploy_space.py,2023-05-31T01:13:46Z,"Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/keras-team/keras-nlp,tools/checkpoint_conversion/convert_bloom_checkpoints.py,2024-01-26T01:22:33Z,"Bloom tokenizer (#1403)

* Add Tokenizer and new conversion script

* Add bloom tokenizer to init

* Convert weights

* check backbone output from bloom tokenizer

* Convert inputs into tensors

* Fix backbone input

* convert backbone input to torch tensor

* Change presets naming

* Change presets naming

* Comment unused code for now

* Format the code

* change tokenizer example

* Add a preset and initial for tests

* Add backbone preset test

* Add tokenizer test

* Format the code

* Fix tokenizer test

* Rename BloomBackboneTest

* Small Fixes

* Fix tokenizer example

* Add example for backbone

* Update preset to Keras

---------

Co-authored-by: Matt Watson <mattdangerw@gmail.com>"
github.com/keras-team/keras-nlp,tools/checkpoint_conversion/convert_bloom_checkpoints.py,2024-01-15T04:33:13Z,"Add Bloom Model (#1382)

* Add Bloom Model

* Add Backbone test and some fixes

* Add BloomBackbone to keras_nlp.models

* Fix a typo in layer naming

* Remove self.built = True

* Revert ""Remove self.built = True""

This reverts commit 889f2040bb56ca7dda6e64c110ff6168b41eb494.

* Add built=True to MLP layer

* Add Checkpoint conversion script

* Change LayerNorm name

* Fix typo

* Fix getting HF model output

* Add  and  to allclose function in checkpoint conversion script

* Remove allclose check

* Add doc for bloom

* Write batch size instead of _

* Rename out_dense to output_dense

* Rename out_dense to output_dense

* Format to 80 chars and remove unnecessery check

* Remove exporting BloomDecoder

* Add intermediate_dim Arg

* Format the code

* Remove unnecessery comment

* Use keras gelu

* Remove MLP layer and implement it inside BloomDecoder

* Split q k v heads

* Remove shapes comments

* Revert ""Split q k v heads""

This reverts commit 2d03d2c0e872b5e26f9e96b1cc5d610e5a306289.

* Revert ""Revert ""Split q k v heads""""

This reverts commit 531b1ff64f9e4d30515dfaa19345db4677c87e15.

* Revert ""Remove shapes comments""

This reverts commit 2eeb5f48a7e6d30b66a1fa61df449d2d39f33950.

* Add bias axes

* Add bias axes to the correct axes

* Update conversion script for splitting q,k,v

* format the code

* Rename _dropout -> _dropout_layer

* use clone initializer instead of paasing str name

* Serialize kernal & bais initializers

* Format the code

* Add alibi_bias_max to _build_alibi_tensor function

* Format the code

* Lowercase vairiable names"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-06-14T22:08:10Z,"Fix output directory of files in client & when calling Blocks as function (#4501)

* output dirs

* remove

* remove

* remove

* changelog

* format

* add tests

* docstring

* changelog

* client

* blocks

* fix test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-06-07T20:05:01Z,"Fix bug where file examples can be corrupted if has multiple extensions (#4440)

* Fix bug

* Add to changelog

* Add test

* Remove breakpoint

* fix test

* increment version

* update client version req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-06-06T15:40:56Z,"Call mounted gradio app via api (#4435)

* Fix bug

* Add changelog"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-05-16T18:32:42Z,"Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-05-11T20:20:41Z,"[Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-05-06T00:10:34Z,"[WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-05-01T23:24:54Z,"Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-24T16:52:10Z,"Support gr.Progress() in python client (#3924)

* Add progress message

* CHANGELOG

* Dont use pydantic

* Docs + local test

* Add gr to requirements

* Remove editable install

* make a bit softer"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-21T15:00:57Z,"Fixes typos (#3931)

* Fixes typos

* Update CHANGELOG.md

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-13T23:20:33Z,"Update view api page to use Python client (#3765)

* Update view api page

* simplify

* update

* changes

* changes

* updated info

* formatting

* changes

* fixes

* save

* moved

* remove test input

* tweaks

* formatting

* add raw

* serialize

* fixes

* refactor

* fixes

* fixes

* Fetch api

* lower case

* view api

* fix tests

* format

* rough design

* readme

* api docs

* examples

* format

* formatting

* format

* version

* client changes

* formatting

* update client

* more example inputs

* api docs fixes

* remove notebook

* fix demo

* demo notebook

* styling on code snippet

* formatting

* fix audio, model3d

* format

* fix tests

* version

* cleanup

* format

* format

* format

* fixes

* version

* fix tests

* version

* format

* test

* format

* changelog

* changelog

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-13T19:30:11Z,"[WIP] Client duplicate fixes (#3843)

* client duplicate fixes

* fixes

* formatting

* changes

* fixing tests

* formatting"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-12T20:26:37Z,"Allow client to be duplicated from an existing Space (#3809)

* client

* readme

* readme

* fixes

* cleanup

* error messages

* format

* updates

* format

* build

* fixes

* fix tests

* Update client/python/gradio_client/client.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* set timeout

* rename

* format

* rename

* sleep timeout

* format

* mock secrets

* format

* format

* docstring

* fix test

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-12T02:38:17Z,"Python Client: Handle invalid space state (#3822)

* Raise error on status check

* Add BUILDING

* Remove SLEEPING"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-11T23:06:48Z,"Adding subtitles to `gr.Video` (#3673)

* v2 version now accepts video and subtitle format inputs.

* remove debug log and some format issue

* Update CHANGELOG.md

* Upload components.py and regenerate demo

* fix components and add comment to function

* fix postprocess return format

* changelog

* demo change to gr.Interface type

* fix file_types

* fixes

* added video serializer

* clean up preprocess

* clean up postprocess

* formatting

* frontend

* fixed serialization

* dataclass

* fix serialize

* version

* fix tests

* version

* changelog

* typing

* version

* changelog

* version

* versin

* fix tests

* fix tests

* backend

* test

* changes

* relax test

* fix demo

* notebook

* changes

* fix

* changes

* Update gradio/components.py

* Update client/python/gradio_client/client.py

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-09T14:22:49Z,"Python client cancel jobs (#3787)

* Working impl

* Add tests:

* formatting

* Fix typo

* Always reset iterator state

* Add httpx

* Fix test

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-07T23:42:59Z,"Python Client: Upload files via /upload for File components  (#3771)

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add uploadbtn

* Add support for upload btn

* revert

* Add size to FileSerializable

* Serialize multiple files

* lint

* Make changes to deserialize

* Fix multiple file upload case

* Modify test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-06T23:41:37Z,"Py client verbose (#3781)

* verbose flags

* fixes"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-04T21:58:25Z,"Get Intermediate Results from Python Client (#3694)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add intermediate results to python client

* Type check

* Typecheck again

* Catch exception:

* Thinking

* Dont read generator from config

* add no queue test

* Remove unused method

* Fix types

* Remove breakpoint

* Fix code

* Fix test

* Fix tests

* Unpack list

* Add docstring

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-04-02T22:28:46Z,"Fix some bugs related to Python client (#3721)

* client format

* docs

* formatting

* fix tests

* fixed bug

* api endpoint changes

* fix tests

* fix tests

* formatting

* Add support for sessions [python client] (#3731)

* client

* add state and tests

* remove session param"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-03-29T22:41:12Z,"Add status for Python Client Jobs (#3645)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add two concurrent test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/utils.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-06-14T22:08:10Z,"Fix output directory of files in client & when calling Blocks as function (#4501)

* output dirs

* remove

* remove

* remove

* changelog

* format

* add tests

* docstring

* changelog

* client

* blocks

* fix test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-06-14T01:52:33Z,"Deprecate python 3.7 (#4484)

* Remove versions from 3.7

* CHANGELOG

* from typing import Literal

* Remaning places 3.7

* Last few spots

* Use 3.8 in lint"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-06-06T15:40:56Z,"Call mounted gradio app via api (#4435)

* Fix bug

* Add changelog"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-19T21:22:12Z,"Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-18T15:04:59Z,"Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-16T18:32:42Z,"Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-10T23:52:07Z,"Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-08T21:18:28Z,"Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-06T00:10:34Z,"[WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-05T02:54:23Z,"More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-05-01T23:24:54Z,"Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-28T21:59:42Z,"Ruff update + strictening (#3979)

* Update ruff to 0.0.263

* Get rid of bare except:s

* Fix two Ruff E731s by moving expand_{color,size} to the relevant classes

* Fix Ruff E731 and some variable shadowing in theme builder

* Fix remaining Ruff E731s

* Get rid of unused Ruff ignores

* Fix ruff B904 issues (raise from)

* Fix Ruff B007: loop-control variable not used

* Fix Ruff B011 (do not assert false)

* Remove unused args and kwargs from Progress.tqdm() (spotted via Ruff B026)

* Fix mutable argument default in CheckboxGroup

* Noqa ABC-related lint warnings for Interpretable

* Add missed assert in test_queueing (ruff B015)

* Enable ruff B

* Enable ruff C and fix issues

* Add changelog

* Add UP03[012] after #3984

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-26T22:38:46Z,"Fix view_api bug where unnamed rotes where showing api_name instead of fn_index (#3972)

* Fix view_api bug

* Add to changelog

* Rework test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-24T16:52:10Z,"Support gr.Progress() in python client (#3924)

* Add progress message

* CHANGELOG

* Dont use pydantic

* Docs + local test

* Add gr to requirements

* Remove editable install

* make a bit softer"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-19T18:38:11Z,"Fix some documentation-related issues in Guides (#3903)

* client doc fixes

* simplify demo

* added guides

* chatbot guide

* notebooks

* format"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-13T23:20:33Z,"Update view api page to use Python client (#3765)

* Update view api page

* simplify

* update

* changes

* changes

* updated info

* formatting

* changes

* fixes

* save

* moved

* remove test input

* tweaks

* formatting

* add raw

* serialize

* fixes

* refactor

* fixes

* fixes

* Fetch api

* lower case

* view api

* fix tests

* format

* rough design

* readme

* api docs

* examples

* format

* formatting

* format

* version

* client changes

* formatting

* update client

* more example inputs

* api docs fixes

* remove notebook

* fix demo

* demo notebook

* styling on code snippet

* formatting

* fix audio, model3d

* format

* fix tests

* version

* cleanup

* format

* format

* format

* fixes

* version

* fix tests

* version

* format

* test

* format

* changelog

* changelog

---------

Co-authored-by: freddyaboulton <alfonsoboulton@gmail.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-13T19:30:11Z,"[WIP] Client duplicate fixes (#3843)

* client duplicate fixes

* fixes

* formatting

* changes

* fixing tests

* formatting"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-12T20:26:37Z,"Allow client to be duplicated from an existing Space (#3809)

* client

* readme

* readme

* fixes

* cleanup

* error messages

* format

* updates

* format

* build

* fixes

* fix tests

* Update client/python/gradio_client/client.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* set timeout

* rename

* format

* rename

* sleep timeout

* format

* mock secrets

* format

* format

* docstring

* fix test

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-12T02:38:17Z,"Python Client: Handle invalid space state (#3822)

* Raise error on status check

* Add BUILDING

* Remove SLEEPING"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-09T14:22:49Z,"Python client cancel jobs (#3787)

* Working impl

* Add tests:

* formatting

* Fix typo

* Always reset iterator state

* Add httpx

* Fix test

* Fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-07T23:42:59Z,"Python Client: Upload files via /upload for File components  (#3771)

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add tests

* Fix tests

* Remove redundant test

* fix for windows

* Add uploadbtn

* Add support for upload btn

* revert

* Add size to FileSerializable

* Serialize multiple files

* lint

* Make changes to deserialize

* Fix multiple file upload case

* Modify test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-06T23:41:37Z,"Py client verbose (#3781)

* verbose flags

* fixes"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-06T19:58:42Z,"Document python client in gradio.app/docs (#3764)

* document py client

* more changes

* update docs

* changes

* fix tests

* formatting

* stash

* fix tests

* documentation

* more docs

* gradio client

* changes

* rework documentation

* add to docs

* modify dockerfile

* gradio client

* address feedback

* formatting

* gradio client version

* fix tests

* tweaks to website

---------

Co-authored-by: aliabd <ali.si3luwa@gmail.com>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-05T18:19:05Z,"Make Client Jobs Iterable (#3762)

* Add iterator

* Break if done

* Add test for early termination"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-04T21:58:25Z,"Get Intermediate Results from Python Client (#3694)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add intermediate results to python client

* Type check

* Typecheck again

* Catch exception:

* Thinking

* Dont read generator from config

* add no queue test

* Remove unused method

* Fix types

* Remove breakpoint

* Fix code

* Fix test

* Fix tests

* Unpack list

* Add docstring

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-04T17:35:12Z,"Add root_url to serializers in gradio_client (#3736)

* Add root_url to serializers

* Add url fix

* Respect fn parameter

* Fix docstring

* Add other test

* Pass to method"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-04T02:17:00Z,"Import Literal from typing extensions in client (#3741)

* Fix typing extensions

* Import typing_extensions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-04-02T22:28:46Z,"Fix some bugs related to Python client (#3721)

* client format

* docs

* formatting

* fix tests

* fixed bug

* api endpoint changes

* fix tests

* fix tests

* formatting

* Add support for sessions [python client] (#3731)

* client

* add state and tests

* remove session param"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-03-29T22:41:12Z,"Add status for Python Client Jobs (#3645)

* Add status + unit test (flaky) for now

* Install client

* Fix tests

* Lint backend + tests

* Add non-queue test

* Fix name

* Use lock instead

* Add simplify implementation + fix tests

* Restore changes to scripts

* Fix README typo

* Fix CI

* Add two concurrent test"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-03-29T22:00:20Z,"Documentation-related fixes to the python client (#3663)

* docstring

* add documentation

* added more serialization classes

* format

* info

* is valid

* formatting

* changes

* fixups

* fix tests

* machine readable

* formatting

* client

* format

* tweaks on printing

* version

* linting

* fix tests

* update pypi requirements

* updates

* type ignore'

* fixes

* formatting"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-03-28T22:52:56Z,"Add job for python client ci (#3674)

* Add job + lint

* Fix path

* Fix path

* Fix path

* Checkout

* Add test requirements

* Fix syntax

* Fix test

* Lint

* Fix deps + README

* Move dependency"
github.com/ShoufaChen/gradio-box,client/python/gradio_client/client.py,2023-03-23T22:33:44Z,"Sets up the Python `gradio` client (#3300)

* placeholder

* changelog

* added to readme

* client

* implement futures

* utils

* scripts

* lint

* reorg

* scripts

* serialization

* cleanup

* fns

* serialize

* cache

* callbacks

* updates

* formatting

* packaging

* requirements

* remove changelog

* client

* access token

* formatting

* deprecate

* format backend

* client replace

* updates

* moving from utils

* remove code duplication

* rm duplicates

* simplify

* galleryserializer

* serializable

* load serializers

* fixing errors

* errors

* typing

* tests

* changelog

* lint

* fix lint

* fixing files

* formatting

* type

* fix type checking

* changelog

* changelog

* Update client/python/gradio_client/client.py

Co-authored-by: Lucain <lucainp@gmail.com>

* formatting, tests

* formatting, tests

* gr.load

* refactoring

* refactoring'

* formatting

* formatting

* tests

* tests

* fix tests

* cleanup

* added tests

* adding scripts

* formatting

* address review comments

* readme

* serialize info

* remove from changelog

* version 0.0.2 released

* lint

* type fix

* check

* type issues

* hf_token

* update hf token

* telemetry

* docs, circle dependency

* hf token

* formatting

* updates

* sort

* script

* external

* docs

* formatting

* fixes

* scripts

* requirements

* fix tests

* context

* changes

* formatting

* fixes

* format fix

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/taishan1994/chinese_sentence_embeddings,sentence_transformers/util.py,2022-04-07T02:49:58Z,commit
github.com/ShoufaChen/gradio-box,test/test_theme_sharing.py,2023-06-15T17:51:09Z,"Amend error toast and pill styling (#4454)

* remove error gradient and add border to toast

* changelog

* tweak styling for light and dark error status and toast

* run prettier

* restore removed onclick

* remove formatting

* fix dracula test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,test/test_theme_sharing.py,2023-06-11T01:12:11Z,"gr.Number() max/min limit (#3991)

* Add min max handling for Number (#3871)

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4027)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times (#4030)

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math (#4029)

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 (#4042)

* Fastapi Python Client Guide (#3892)

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming (#4043)

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change (#4059)

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4064)

* New Version Docs (#4069)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix (#4070)

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix (#4072)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors (#4068)

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM (#4073)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes (#4080)

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes (#4086)

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing ""State"" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios (#4071)

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit (#4090)

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile (#4098)

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures (#4115)

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page (#4112)

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators (#3821)

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release (#4116)

* Bumpt client version (#4125)

* New Version Docs (#4131)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action (#4130)

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs (#4132)

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4136)

* Fix website build issue (#4142)

* upgrade pnpm

* changelgo

* Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx (#4133)

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv (#4160)

* Fix the prettier.ignorePath field in the VSCode workspace settings (#4164)

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog (#4163)

* Fix the wildcard in .editorconfig to match files in nested directories (#4165)

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test (#4168)

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping (#4167)

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 (#4166)

* release

* requirements

* [Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4172)

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason (#4128)

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test (#4173)

* hotfix for test

* removed comment

* 3712 js client (#3899)

* update ci (#4184)

* bump client version (#4185)

* bump client version

* ignore spaces-test

* Fix (#4186)

* bump client version

* ignore spaces-test

* fix

* update token for npm action (#4187)

* change (#4189)

* ci typo (#4190)

* Fix npm publish again again (#4191)

* ci typo

* fix

* Fix npm publish again again (#4192)

* ci typo

* fix

* again

* Fix npm publish again again (#4193)

* ci typo

* fix

* again

* again

* Add format argument to Audio (#4178)

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4188)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again (#4195)

* ci typo

* fix

* again

* again

* again

* client docs tweaks (#4196)

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix ""TypeError: issubclass() arg 1 must be a class"" When Optional args  (#4200)

* fix ""issubclass() arg 1 must be a class"" when args is Optional

* Update CHANGELOG.md

add fix ""TypeError: issubclass() arg 1 must be a class"" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import (#4201)

* fix token (#4208)

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component (#4204)

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters (#4203)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app (#4119)

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md (#4220)

* Input listener (#4157)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled (#4194)

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout (#4235)

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower (#4228)

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled (#4236)

* Only allow messaging update if analytics are allowed

Follows up on #4194

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths (#4202)

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels (#4225)

* fix cancels

* changelog

* refactor to make it work

* chore: update versions (#4207)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish (#4240)

* fix npm publish

* fix npm publish

* release (#4219)

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo (#4238)

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError (#4241)

* Fix JSONDecodeError bug (#4237)

* Remove unused import

* Clean up code

* Fix JSONDecodeError (#4241)

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private (#4247)

* Refactoring (#4223)

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts (#4222)

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change (#4250)

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click (#4258)

* fix run on click

* changelog

* Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing (#4150)

* fix info request in js client (#4271)

* fix info request in js client

* changelog

* Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue (#4273)

* Allow passing FastAPI app options (#4282)

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot (#4285)

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 (#4293)

* release 3.32.0

* changelog

* New Version Docs (#4296)

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove @ts-i… (#4315)

* Add overridden type annotations on `normalise_file()` to remove @ts-ignore, and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid (#4337)

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener (#4304)

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md (#4310)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4283)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls (#4334)

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks (#4357)

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well (#4311)

* Remove unnecessary @ts-ignore (#4314)

* Remove unnecessary Promise wrapping another promise (#4313)

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` (#4312)

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code (#4275)

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` (#4356)

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route (#4303)

* Don't allow dotfiles or files in ""dot directories"" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming (#4363)

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows (#4369)

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml (#4383)

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot (#4360)

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot (#4350)

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 (#4392)

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support (#4398)

* changes

* changes

* changes

* New Version Docs (#4397)

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group (#4391)

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  (#4362)

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked (#4380)

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url (#4388)

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... (#4379)

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself (#4371)

* Fix the Node and pnpm setup actions (#4394)

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file (#4393)

* fix indent (#4404)

* Throttle scroll event  (#4158)

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` (#4436)

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every (#4434)

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback (#4433)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog (#4441)

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>"
github.com/ShoufaChen/gradio-box,test/test_theme_sharing.py,2023-05-18T15:04:59Z,"Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency"
github.com/ShoufaChen/gradio-box,test/test_theme_sharing.py,2023-04-16T10:22:45Z,"theme builder example doesn't work for `3.25.0` or later (#3869)

* theme builder example doesn't work for `3.25.0` or later
Fixes #3864

* update CHANGELOG.md

* Fix import order

* Lint

* added test

* add wheel

* wheel

* wheels

* pip

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/ShoufaChen/gradio-box,test/test_theme_sharing.py,2023-03-23T21:27:16Z,"Set theme name from load (#3595)

* Add name + test

* Add theme names

* CHANGELOG

* Delete theme in interface"
github.com/ShoufaChen/gradio-box,test/test_theme_sharing.py,2023-03-19T03:15:02Z,"Sharing themes (#3428)

* Rebase

* Remove build hooks

* Working implementation

* Add semver + unit tests

* CHANGELOG

* Add to docs

* Rename push_to_hub and fix typos

* Fix gallery

* Fix typo

* Address comments + tests

* Update gradio/themes/app.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Import Base as Theme. Use DefaultTheme() as fallback

* Fix types

* Make version and token truly optional

* Add version dropdown + tests

* trigger

* Support private themes and org_names

* Fix org_name typo

* Update wheel

* Fix font loading and dumping

* fixing tests

* fix tests

* formatting

* version

* remove requirements

* remove requirements

* formatting

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2022-10-24T15:54:12Z,"[hub] Upgrade deprecated huggingface_hub.cached_download (#645)

* Replace huggingface_hub.cached_download with huggingface_hub.hf_hub_download

* Reintroduce cache_dir"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2021-07-01T16:29:26Z,[hub] Add library version and name for Hugging Face download stats (#524)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2021-05-06T20:11:17Z,"[src&egs] X-UMX Official baseline for Music Demixing Challenge (#490)

Co-authored-by: Pariente Manuel <pariente.mnl@gmail.com>

Co-authored-by: Manuel Pariente <pariente.mnl@gmail.com>"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2021-02-13T09:59:29Z,"hub] Use huggingface_hub deps, remove inlined HF code (#409)

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-12-11T19:50:45Z,[hub] Use API filter for faster model list (#390)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-12-08T10:40:48Z,[hub] List asteroid models HF's hub (#382)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-12-07T17:56:12Z,"[hub] Support for huggingface model hub :tada: (#377)

Co-authored-by: Pariente Manuel <pariente.mnl@gmail.com>"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-12-03T11:22:53Z,[hub] Add mhu-coder's model
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-11-30T14:03:32Z,"[docs] Fix docstrings (#365)

Co-authored-by: Jonas Haag <jonas@lophus.org>

Co-authored-by: Jonas Haag <jonas@lophus.org>"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-10-22T09:03:29Z,[src] BC-breaking: Load models without sample_rate (#285)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-10-02T15:40:48Z,[black] Fix black 20.8b1 update (#267)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-10-01T10:11:28Z,[black] Update black to 20.8b1 (#265)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-09-25T11:00:02Z,[hub] Add tmirzaev's model in the string-retrievable ones.
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-08-25T11:43:51Z,[models] Add 16k popcornell/DPRNNTasNet_WHAM_enhancesingle enhancement
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-08-24T08:27:26Z,[models] Add pretrained DeMask name to URL mapping
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-08-21T14:49:32Z,"[models] Add groadabike's pretrained model's URL (#228)

Signed-off-by: Gerardo Roa Dabike <gerardo.roa@gmail.com>
(cherry picked from commit d81dec76d5eb99e9635e0c5ce237b5820606e306)

Co-authored-by: Gerardo Roa Dabike <gerardo.roa@gmail.com>"
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-08-13T07:21:11Z,[black] Flake8 compatibility + Black strings (#198)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-08-12T13:47:18Z,[black] Change formatting with black using default config and line-length 100 (#197)
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-08-10T12:38:36Z,[hub] Add Brij's LibriMix enhancement model
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-06-22T20:44:35Z,[models] Update available models
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-06-03T11:05:01Z,[hub] Update pretrained models hashtable
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-06-03T08:53:23Z,[hub] Update pre-trained models hashtable
github.com/TomohikoNakamura/asteroid_jaCappella,asteroid/utils/hub_utils.py,2020-05-29T14:44:06Z,[src&tests] Pretrained model loading (#126)
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/X-UMX/eval.py,2023-01-21T06:50:57Z,[add] use pretrained models in huggingface
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/X-UMX/eval.py,2023-01-10T02:07:56Z,[add] jaCappella codes
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/MRDLA/eval.py,2023-01-21T06:50:57Z,[add] use pretrained models in huggingface
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/MRDLA/eval.py,2023-01-10T02:07:56Z,[add] jaCappella codes
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/DPTNet/eval.py,2023-01-21T06:57:59Z,[fix]
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/DPTNet/eval.py,2023-01-21T06:50:57Z,[add] use pretrained models in huggingface
github.com/TomohikoNakamura/asteroid_jaCappella,egs/jaCappella/DPTNet/eval.py,2023-01-10T02:07:56Z,[add] jaCappella codes
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-25T15:39:56Z,oops
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-16T21:15:25Z,deprecate multirequest_sequence_in_process
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-16T16:34:00Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-15T14:11:18Z,work around legacy magma dependency
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-12T01:17:24Z,Merge branch 'main' into coca
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-10T17:38:19Z,use snapshot_download for legacy model and heads also
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-06T18:14:02Z,move coca to llama script + refactor config
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-06T18:03:01Z,fix needs_head_download calc
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-06T17:44:49Z,Merge branch 'main' into coca
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-06T15:29:50Z,cleanup config for llama-legacy split
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-06T00:00:14Z,coca captioning
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-05T15:02:55Z,undo
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-05T15:00:48Z,backup
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-05-04T17:39:32Z,llama prob delt
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-03-15T20:04:21Z,fix for overly fast polling on non-writer ml machines - both generator layers
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-03-15T17:30:25Z,fix for overly fast polling on non-writer ml machines
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-03-14T00:24:14Z,tweak
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-03-14T00:10:20Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-03-13T23:19:42Z,implement
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-02-17T21:43:11Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-02-17T21:27:34Z,hook up
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-02-17T18:39:29Z,log exceptions on ml machines in a way we can print in main machine logs
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-02-12T23:49:50Z,further OOM safety
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-02-12T23:04:33Z,fallback when we have OOMs from captioning guidance
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-02-11T23:25:47Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-01-29T02:50:28Z,oops
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2023-01-27T21:31:18Z,setup for serving
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-12-25T17:24:42Z,notebook work
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-11-26T18:33:42Z,avoid repeatedly moving adapters from cpu to gpu during long strings of captioning requests
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-11-23T18:20:57Z,shave off a few seconds here and there
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-11-01T14:38:02Z,avoid wasting gpu memory on magma's clip encoder when not in use
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-31T16:06:41Z,shave off some unnecessary delays
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-30T17:17:37Z,logging
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-28T19:27:16Z,even more control
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-28T19:03:26Z,even more autocast nuance
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-05T14:37:57Z,kv buffer not needed on bigger gpus
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-04T13:58:18Z,unify params for head max ctx and generation max ctx
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-03T18:52:49Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-03T18:47:05Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-03T18:44:39Z,implement
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-03T17:48:18Z,more accurate log
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-10-03T17:47:28Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-09-15T20:27:59Z,keep captioning adapters on gpu when enough vram available
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-25T00:25:53Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T22:32:52Z,move adapters to cpu when not in use
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T21:37:47Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T20:27:32Z,work
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T20:12:58Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T19:58:44Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T19:58:14Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T06:10:24Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T06:03:56Z,fixes
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-24T06:03:19Z,hook up ml to ml layer
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-06-23T21:39:21Z,update config + setup ml layer for captioning
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-02-06T19:59:09Z,log typical sampling params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-01-14T17:40:27Z,do not stop within a job
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2022-01-14T17:37:45Z,set up for alternating polls
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-10-25T17:07:15Z,give connector more time to send done once almostdone has been marked
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-10-25T16:50:13Z,almostdone logic in ml_layer
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-10-06T15:46:46Z,a100 support
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-08-07T16:34:58Z,setting up v12_11
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-30T19:37:23Z,use singleton pattern for BotSpecificConstants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-30T17:37:14Z,allow import from autoresponder_config without json file
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-23T21:59:02Z,use staging repo properly
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-15T16:11:10Z,unused import
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-12T18:00:34Z,clean up download stuff
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T18:03:44Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T03:25:38Z,work
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T03:02:03Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T02:59:26Z,gs issue
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T02:57:38Z,gs issue
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T01:27:20Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T01:15:22Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-08T00:32:48Z,move a ton of stuff around
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-07T23:18:39Z,the red wedding (i've never seen game of thrones but cultural osmosis tells me that's a funny name for this commit)
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-06T03:07:31Z,experimental to src + eot fixes
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_torch.py,2021-07-05T21:54:25Z,reorg
github.com/PKU-ML/ContraNorm,BERT_gleu/transformers/utils/hub.py,2023-03-21T10:53:08Z,"full

full (+README)"
github.com/LeaperOvO/KnowLog,sentence_transformers/util.py,2023-07-10T05:14:55Z,Initial commit
github.com/ContextualAI/lens,lens/model.py,2023-06-29T07:00:25Z,first commit
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2023-01-31T11:24:33Z,solve verb form bug
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2023-01-04T13:36:14Z,"Introduding 'question_info.py' with logic to extract question-slots and SemanticRole from model's raw output question --- including (1) VerbInflections class to extract inflections from Wiktionary data (added to packaged resources);  (2) 'dfa_fill_qasrl_slots.py' which used the automaton from 'constrained_decoding.qasrl' to extract question slots from predicted question;  (3) Utilities that extract  'is_negated', 'verb_prefix', 'verb_slot_inflection' and 'is_passive' from surface question;  and (4) externalizing SemanticRole so that it can be retrieved after defining all relevant question slots.  These new abilities are integarted into QASRL_Pipeline."
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2022-11-21T12:07:26Z,add 'device' option in pipelines
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2022-07-18T11:39:20Z,filter malformed QAs in qasrl_pipeline
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2022-05-10T10:34:02Z,fixing qasrl-pipeline postprocessing - squeeze model outputs
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2022-04-04T11:39:33Z,"fixing max_length on QASRL_Pipeline, fixing bug at QANomEndToEnd"
github.com/kleinay/QANom,qanom/qasrl_seq2seq_pipeline.py,2022-02-14T21:07:00Z,Adding pipelines - seq2seq pipeline and end2end pipeline
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-11-28T03:59:48Z,update version.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-11-27T05:37:40Z,update songnet model demo.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-11T08:16:00Z,update songnet optimizer.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-11T08:06:18Z,update model songnet optim
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-10T07:55:53Z,update songnet url.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-10T06:38:26Z,add 0.1.5 tag.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-09T13:23:45Z,add file download
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-09T12:31:53Z,update train progress.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-09T12:01:05Z,update train args.
github.com/shibing624/textgen,textgen/language_modeling/songnet_utils.py,2022-09-09T11:24:06Z,update model songnet to lm
github.com/harrisonvanderbyl/rwkvstic,src/rwkvstic/interOpLoaders/rwkvRs.py,2023-02-27T23:44:30Z,mut
github.com/harrisonvanderbyl/rwkvstic,src/rwkvstic/interOpLoaders/rwkvRs.py,2023-02-14T10:44:33Z,fixes
github.com/harrisonvanderbyl/rwkvstic,src/rwkvstic/interOpLoaders/rwkvRs.py,2023-02-14T10:25:46Z,rwkv-rs
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-06-28T15:27:29Z,tile + pspでerrorになる問題を修正 + マスクがイメージと違う出力結果になっている問題を修正
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-04-16T20:42:58Z,Clear torch cache after running cascadePSP
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-04-11T03:02:58Z,fix Missing argument
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-04-11T02:29:20Z,add SAM
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-04-10T05:45:53Z,add SAM_CLIP
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-04-05T01:29:42Z,fix main
github.com/mattyamonaca/PBRemTools,scripts/td_abg.py,2023-04-05T00:16:05Z,add scripts
github.com/KornWtp/ConGen,sentence_transformers_congen/util.py,2022-03-13T08:53:29Z,Initial commit
github.com/JusperLee/TDANet,look2hear/models/base_model.py,2023-10-12T12:03:23Z,Update pretrained model
github.com/JusperLee/TDANet,look2hear/models/base_model.py,2023-07-19T02:57:41Z,Update Training framework
github.com/haiciyang/Remixing,src/asteroid/utils/hub_utils.py,2022-02-03T20:19:10Z,asteroid
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-30T19:29:19Z,notebook and docs for conversation stuff
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-27T17:16:16Z,update the clustering notebook
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-27T05:17:54Z,black formatting
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-27T05:17:28Z,merge clustering docstrings
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-27T05:09:51Z,"fixes to openai api calls, add visualization/clustering features, fix taggers, add clustering notebook"
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-26T21:00:44Z,code blocks
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-25T03:54:04Z,taggers
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-24T07:20:13Z,try adding sphinx extensions and see what happens
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-21T03:21:34Z,start docs stuff
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-19T16:05:42Z,add ai classifiers
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-16T00:02:02Z,saving is just jsonl
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-15T18:17:54Z,add detailed docs
github.com/taylorai/galactic,src/galactic/taggers.py,2023-09-14T19:33:52Z,split things into files
github.com/guxm2021/SVT_SpeechBrain,speechbrain/pretrained/fetching.py,2023-01-11T04:26:29Z,initial upload
github.com/TailUFPB/storIA,venv/Lib/site-packages/huggingface_hub/snapshot_download.py,2021-07-19T13:06:57Z,Story_generator class created
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2024-02-08T03:52:31Z,"[Update] Several examples for stable diffusion models of Stability AI were implemented.
[Update] Information about Transformer Reinforcement Learning (TRL) library was moved from hugging_face_test.py to hugging_face_transformers_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2024-01-28T13:07:24Z,"[Update] An example of Zephyr-7B was added in hugging_face_transformers_test.py, but was not tested.
[Update] The information about Transformer Reinforcement Learning (TRL) was described in hugging_face_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-11-06T12:24:53Z,"[Update] The forecasts of transformers.TimeSeriesTransformerForPrediction were evaluated by MASE, MAPE, sMAPE.
[Update] Metrics for evaluating ML models' performance in evaluate library were tested."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-08-31T06:01:24Z,"[Update] Memory footprint and computing performance (FLOPS) Hugging Face transformers models was measured.
[Update] A simple test for Hugging Face datasets was added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-07-25T12:07:07Z,"[Update] A few examples for Llama 2 model were added in hugging_face_transformers_test.py.
[Update] Model parallelism was tested based on Hugging Face Accelerate library in hugging_face_transformers_test.py.
[Update] Information about Hugging Face Accelerate library was reinforced."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-07-22T06:48:12Z,"[Update] Cross references about transformer and ViT models were reinforced.
[Chore] vit_test.py was moved from sw_dev/python/rnd/test/machine_learning/vit_test.py to sw_dev/python/rnd/test/machine_vision/vit_test.py.
[Update] The installation of node.js was explained."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-06-25T07:49:41Z,"[New] An example for open vocabulary object detection library, OWL-ViT was initially implemented.
[Update] The example for Hugging Face Segment Anything model (SAM) was moved from segment_anything_test.py to hugging_face_segmentation_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-04-07T04:02:45Z,[Update] A test for DocLayNet dataset was added to hugging_face_test.py.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-04-06T03:27:45Z,"[Update] A couple of simple examples for LLaMa model were implemented, but they were not tested due to library version issue."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-04-05T02:35:03Z,"[Update] Several datasets were basically verified in hugging_face_test.py: Wikipedia, TextVQA, WikiSQL, WikiTQ, VQAv2, VaTeX, TextCaps, NoCaps, FUNSD, CORD, SynthDoG."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-04-01T14:10:48Z,"[New] A couple of examples for GPT4All models were added, but they were not correctly working."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/machine_learning/hugging_face_test.py,2023-03-23T02:48:15Z,"[Chore] hugging_face_test.py was moved from sw_dev/python/rnd/test/language_processing to sw_dev/python/rnd/test/machine_learning.
[Update] The examples for Hugging Face PEFT library were moved from sw_dev/python/rnd/test/machine_learning/hugging_face_test.py to sw_dev/python/rnd/test/machine_learning/hugging_face_peft_test.py."
github.com/camenduru/Rerender-hf,app.py,2023-06-16T15:57:50Z,Update app.py
github.com/camenduru/Rerender-hf,app.py,2023-06-16T12:53:49Z,update
github.com/camenduru/Rerender-hf,app.py,2023-06-16T12:34:49Z,update
github.com/camenduru/Rerender-hf,app.py,2023-06-16T11:31:25Z,update
github.com/camenduru/Rerender-hf,app.py,2023-06-16T10:43:14Z,Update app.py
github.com/camenduru/Rerender-hf,app.py,2023-06-16T10:42:03Z,Update app.py
github.com/camenduru/Rerender-hf,app.py,2023-06-16T10:40:46Z,Update app.py
github.com/camenduru/Rerender-hf,app.py,2023-06-16T10:35:27Z,Update app.py
github.com/camenduru/Rerender-hf,app.py,2023-06-16T09:56:07Z,update
github.com/camenduru/Rerender-hf,app.py,2023-06-16T08:46:48Z,Update app.py
github.com/camenduru/Rerender-hf,app.py,2023-06-16T08:15:01Z,"merge (#1)


- first commit (eab2e368258e9e9b159c3ad6abbc89227cdf3976)"
github.com/camenduru/Rerender-hf,flow/flow_utils.py,2023-06-16T09:03:29Z,Update flow/flow_utils.py
github.com/camenduru/Rerender-hf,flow/flow_utils.py,2023-06-16T08:58:50Z,Update flow/flow_utils.py
github.com/camenduru/Rerender-hf,flow/flow_utils.py,2023-06-16T08:52:38Z,Update flow/flow_utils.py
github.com/camenduru/Rerender-hf,flow/flow_utils.py,2023-06-16T08:15:01Z,"merge (#1)


- first commit (eab2e368258e9e9b159c3ad6abbc89227cdf3976)"
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-04-18T14:57:30Z,Fixed an issue where the image had too many channels and failed to be loaded by PIL.
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-04-01T12:56:21Z,Added random custom background
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-03-26T20:48:31Z,Added custom background color
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-03-23T11:16:59Z,Fixing multiple dimensions issue
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-03-18T13:28:59Z,Changing the input dimensions of the mask
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-02-25T18:04:38Z,Add option to not auto save images
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-02-25T17:24:17Z,Now saves grid to the proper folder
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-02-05T11:31:53Z,Option to save only background free picture now also doesn't save original
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-01-30T20:56:47Z,Added optional checkbox
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2023-01-22T10:53:54Z,Extension of outcome image is nowalways png
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-24T22:25:42Z,Renamed BG Remover to ABG Remover
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-23T19:08:39Z,Works on my machine
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-23T16:21:03Z,I don't do python.
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-23T16:20:02Z,typo in script callbacks
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-23T16:18:36Z,typo in script callbacks
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-23T16:15:39Z,forgot import script callbacks
github.com/KutsuyaYuki/ABG_extension,scripts/app.py,2022-12-23T16:12:07Z,Added anime background remover as webui-extension
github.com/embeddings-benchmark/mtebscripts,fix_results.py,2022-10-03T10:18:22Z,Add revision kwarg
github.com/embeddings-benchmark/mtebscripts,fix_results.py,2022-10-02T09:00:37Z,Remove dups
github.com/embeddings-benchmark/mtebscripts,fix_results.py,2022-10-01T18:20:29Z,Fixes & updates
github.com/embeddings-benchmark/mtebscripts,fix_results.py,2022-09-05T20:24:07Z,Cleanups
github.com/embeddings-benchmark/mtebscripts,fix_results.py,2022-08-31T11:47:36Z,Clean results
github.com/embeddings-benchmark/mtebscripts,fix_results.py,2022-08-31T11:38:47Z,Update results
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2023-05-14T19:27:58Z,cleanup
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2023-05-14T18:56:45Z,strip keyword in alt text
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2023-05-10T17:59:53Z,use snapshot_download for image models
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-12-28T21:07:43Z,better diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-12-28T17:26:42Z,nonzero noise conditioning in larger resolutions
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-12-27T21:13:36Z,better quantile constant
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-12-27T20:52:44Z,use 2 sided imagen threshold fn
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-11-01T02:41:54Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-10-31T16:57:30Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-10-30T17:17:37Z,logging
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-10-28T19:52:32Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-10-28T19:03:26Z,even more autocast nuance
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-10-25T19:58:56Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-10-25T19:43:06Z,new diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-18T17:30:34Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-18T17:14:26Z,handle multiple diffusion ml machines simultaneously without misidentifying which request a response is handling
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-17T14:34:22Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-14T23:22:20Z,new ddim-based diffusion schedules
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-14T02:41:58Z,plms on for 64 only
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-13T14:09:07Z,plms off
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-13T13:57:45Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-12T19:53:45Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-12T16:10:24Z,make midpoints of prk steps valid
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-12T01:27:41Z,high res plms still does not work reliably yet
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T21:42:09Z,extra steps not actually needed
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T21:32:18Z,add steps at 512 for stability
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T21:31:35Z,add steps at 200 for stability
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T21:26:09Z,plms back on with fix in other repo
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T14:28:54Z,plms off
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T00:53:31Z,plms only first 2 stages
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-11T00:48:17Z,turn on plms for diffusion
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-09-06T03:21:15Z,snap intermediate res images to pixel colors
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-08-14T16:22:55Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-08-09T20:22:33Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-08-01T15:18:04Z,speedup
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-29T16:57:26Z,tweak diffusion sched
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-24T20:24:58Z,fixes
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-24T20:14:19Z,log
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-23T18:18:44Z,implement
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-17T14:38:03Z,not clear this is helpful with memory on torch 1.11
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-17T14:15:03Z,diffusion 512 stage back to fp32 for qualtiy
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-15T23:00:43Z,diffusion 512 stage in fp16 for memory
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-14T20:39:23Z,check if torch jit is the problem
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-14T16:33:41Z,gl
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-14T12:37:25Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-04T20:08:37Z,log readability
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-04T16:34:29Z,log readability
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-03T21:17:52Z,tweak diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-03T18:26:57Z,debug oom
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-02T02:50:09Z,diffusion memory management
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-01T21:34:52Z,wow was i seriously not using guidance at step 2 and 3 because of a bad kwarg default??
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-07-01T17:38:50Z,tweak diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-25T00:29:21Z,safety
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-25T00:09:08Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-25T00:01:11Z,save memory
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-24T23:43:38Z,work
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-24T23:34:56Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-24T22:41:25Z,tweak diffusion stuff
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-24T22:32:52Z,move adapters to cpu when not in use
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-24T22:00:04Z,set up caption conditional generation
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-13T16:55:25Z,tweak diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-12T22:05:18Z,tweak diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-11T20:43:50Z,update diffusion for noise cond + guidance at 256
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-10T20:45:56Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-07T21:22:59Z,update diffusion for noise cond at 512
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-06-05T16:08:35Z,tweak diffusion schedule
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-31T14:37:09Z,tweak diffusion schedule
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-29T01:37:55Z,tweak diffusion schedule
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-29T00:47:43Z,use noise cond at 128
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-28T18:25:24Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-28T18:05:21Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-27T18:49:14Z,use guidance at first upsample res
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-25T23:33:01Z,tweak options + fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-25T23:26:11Z,fix + tweak
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-25T22:50:34Z,support shared model for last 2 stages
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-25T22:49:16Z,support 4 step cascaded diffusion
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-24T20:12:19Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-24T20:11:53Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T15:23:37Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T14:21:10Z,tweak diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T13:26:47Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T13:21:57Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T13:15:34Z,simplify
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T13:09:45Z,whoops
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-17T13:05:40Z,remove rekognition from diffusion handler
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-14T17:08:46Z,tweak diffusion params
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-13T14:17:25Z,tweak diffusion params - plms off
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-12T17:34:36Z,tweak diffusion params - plms on
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-07T01:31:14Z,tweak diffusion sched
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-05-06T23:41:17Z,tweak diffusion sched
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-04-22T21:49:58Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-04-22T21:48:10Z,fix
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-04-22T20:22:09Z,implement sres3
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-04-18T17:41:35Z,diffusion param updates
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-04-05T20:28:53Z,new diffusion schedules
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-03-22T16:33:53Z,diffusion constants
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-03-19T22:31:58Z,guidance_after_step_base
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-03-05T16:55:31Z,lsun sched
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-03-05T00:56:54Z,turn off plms over sample quality concern
github.com/nostalgebraist/nostalgebraist-autoresponder,src/api_ml/ml_layer_diffusion.py,2022-03-04T22:52:33Z,plms harmful in sres
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-12-16T23:33:55Z,"improve throughput/hangs in preprocessing when there are a lot of shards(#387)

limits the number of actors for reading and writing shards to O(num nodes) by assigning shards to nodes. also tweaks some parameters to increase throughput."
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-12-05T07:47:06Z,add sharded saving of checkpoints to make the hub happy (#379)
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-10-24T06:07:35Z,"Improvements to Alpaca tutorial wip (#349)

* aspirational alpaca tutorial

* rename ShardedDataSource to ShardedDataset

* remove targets

* remove targets

* tweak

* wip

* rename ShardedDataSource to ShardedDataset

* somehow missed this

* create a fancier data api so we can make alpaca look nicer

* fix alpaca_lora.py

* remove old batchpreprocessor from alpaca

* load prompts if provided

* oops

* rename

* refactor the attentionmask stuff w/ hopes of supporting sequence packing

* move tutorials

* add bias and precision to FA

* expose top level attn for all models to use

* tweaks to new attention wrapper

* make flash attention not slice dims the bias doesn't have

* switch mpt to new attention wrapper

* move gpt2 over

* move llama over

* move backpack over

* del todo

* refactor the attentionmask stuff w/ hopes of supporting sequence packing

* add bias and precision to FA

* expose top level attn for all models to use

* tweaks to new attention wrapper

* make flash attention not slice dims the bias doesn't have

* switch mpt to new attention wrapper

* move gpt2 over

* move llama over

* move backpack over

* remove causalmask from alpaca

* fix non-flash test

* dumb prints

* make models work with different length input than max input length

* allow for ""max_tune_length"" in alpaca to speed up training

* fix path imports for new alpaca_lora paths

* missed an import

* save tokenizer in peft checkpoints

* save modified tokenizer in alpaca checkpoints

* don't add special tokens for lora, just use unk

* update docs

* fix up tutorial

* wtf

* nmajlkfnmajlkf hf

* hates

* simple script for lora inference"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-10-23T22:10:45Z,"Factor out an attention method everyone can call, expose flash attention (#350)

* refactor the attentionmask stuff w/ hopes of supporting sequence packing

* add bias and precision to FA

* expose top level attn for all models to use

* tweaks to new attention wrapper

* make flash attention not slice dims the bias doesn't have

* switch mpt to new attention wrapper

* move gpt2 over

* move llama over

* move backpack over

* remove causalmask from alpaca

* fix non-flash test

* dumb prints"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-10-20T19:10:49Z,don't crash if state dict has a None
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-09-19T22:33:55Z,"Add a guide for training Alpaca, assorted fixes for saving large hf models (#315)

* wip on your data guide

* wip on your data guide

* more wip

* continued pretraining

* about ready

* update for comments

* wip tutorial for alpaca

* wip

* add wandb project

* resume training if possible

* check for safetensors first

* somewhat smarter (i hope) to_cpu for serialization

* see if just keeping everything on cpu is the way

* cleanup replicating alpaca guide and code changes

* Apply suggestions from code review

Co-authored-by: Ivan Zhou <ivan.zhouyq@gmail.com>

* wip

* small tweaks

* document chunking and concat

* move hooks later to not make it look like training is going to start quite so soon

* misc cleanup

* add model parallelism configuration

* dumb, forgot mixed precision

* change default per_device_parallelism to 2

* Update src/levanter/compat/torch_serialization.py

Co-authored-by: Ivan Zhou <ivan.zhouyq@gmail.com>

* Update src/levanter/compat/torch_serialization.py

Co-authored-by: Ivan Zhou <ivan.zhouyq@gmail.com>

* missed a line

* bump tested version to 0.4.14

---------

Co-authored-by: Ivan Zhou <ivan.zhouyq@gmail.com>"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-09-09T05:23:49Z,shard inside torch_serialization and resize in jit b/c we're manipulating sharded tensors
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-09-09T05:23:49Z,add alpaca.py example
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-09-09T05:23:49Z,"don't use static for array fields, reinitialize non-serialized buffers as necessary in hf deserialization (#300)"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-08-30T19:59:55Z,Add Llama2 to Levanter (#270)
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-08-28T19:37:21Z,"Trainer class (#288)

Fixes #286"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-08-14T22:35:58Z,Flashier attention (#271)
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-08-13T21:13:19Z,"Fix fsdp for gradients, enable resizing of vocab/auto-adjustment for tokenizer (#278)

* mpt 7b continued biomedlm config

* add vocab_size method

* vocab resizing needs to be inside jit

* addadasmjkasmdjkladd

* kldmladd

* why doesn't the type checker help me

* resize the vocab in the converter

* see if we lost the gradient sharding due to lack of context mapping

* sigh

* what is going on

* mdsadad

* dnjkadad

* zzzzz

* dumb?

* what on earth

* wsdasdasd

* flush

* smaller max capacity

* ifjmamfklf

* uncomment viz hook

* remove prints

* dumb

* fix test

* fix backpack"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-08-10T06:22:39Z,Preliminary LoRA support (#269)
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-08-01T21:44:34Z,eqx's filter_eval_shape is actually all we need (#268)
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-07-20T07:21:16Z,"Update mypy dep (#255)

* update mypy version

* wip

* update mypy, add wandb dep"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-07-03T17:03:45Z,"Fix pre commit issues, run it in CI (#230)"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-07-03T07:15:30Z,"Fix string interpolation for joining paths (#227)

Fix string interpolation for joining paths

* Replace string interpolation with `os.path.join` for file and
  directory paths"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-26T18:15:54Z,"Switch to Draccus, change how we write subtyped configs (fixes #214 fixes #207) (#215)

* small tweaks

* switch to draccus for config

* fix url"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-15T19:35:48Z,"Initialize training from hf checkpoint (#203)

doesn't support resizing the vocab or seqlen yet. will get there"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-15T07:07:19Z,"Register a default hf converter with the three model types (#202)

* add default_hf_checkpoint_converter on hf configs

* remove unneeded MPT and backpack conversion scripts

* remove bad type ascription"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-15T04:03:42Z,"Migration toward more unified config system  (#201)

* move gpt2_eval.py to eval_lm.py

* error early for broken hf export

* oops

* clean up conversion

* clean up tokenizer loading

* fix tokenizer refactor

* fix eval

* migrate viz_logprobs.py

* add a simple package discovery system so that we don't have to go and register all our models in a single file

* add backpack configs

* bring export closer to being generic

* migrate test_backpack_configs to new regime

* delete backpack_example.py

* fix messed up migration

* move cache_dataset.py to be a main"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-14T23:21:38Z,"Registration for Model Configs (#200)

* Introduce LMHeadModel supertype for models

* rm palm_lite

* add short docstring for lmheadmodel

* add LmConfig and make everyone implement it

* add abstract properties for pos axes

* don't reregister types

* register lm configs

* convert gpt2_example to use new configs

* remove old comment

* rename TrainGpt2Config to TrainLmConfig

* factor out config path stuff for config tests

* rename gpt2_example.py to train_lm.py, update docs"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-14T06:36:33Z,"Config cleanup (#198)

* rename trainer_hooks -> trainer

* move trainer config

* move checkpointer config and other stuff

* move WandbConfig

* cleanup

* move distributed

* example"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-12T17:23:39Z,"introduce HFCheckpointConverter to unify hf serialization (#191)

* wip round trip test for backpacks

* almost there

* torch roundtrip

* hf pretrained -> lev -> hf, but no lev.save_pretrained just yet

* load tokenizer

* abstract abc for HF compat configs

* abstract abc for HF compat configs

* more config abstraction

* abstract out an LM class

* wip moving gpt2 roundtrip to converter

* converted loading of HF GPT checkpoints

* fully convert loading of gpt2 checkpoints in tests

* cleanup

* wip saving local model

* wip saving local model

* saving to hf hub even

* convert gpt2_eval to new serialization

* rename to RepoRef

* use the new converter for the checkpoint callback

* fix black deprecation warning

* convert convert_gpt2_to_hf.py to new converter

lol convert

* delete old gpt serialization methods

* use converter more

* use converter more for backpacks

* use converter more for backpacks

* docs

* explicitly do ctor so we can do argument coercion

* cut at code and tokenizer saving

* convert MPT to the new regime

* test saving for things that need code

* double check HF serialization

* bring back code saving, since i think it's necessary for backpacks, but not mpt

* almost there?

* docs

* missing import

* docs

* add a replace and config overrides method

* fix frozen

* fix tests

* fix tests, rename LmWithHFSer

* vocab size patching

* skip if no torch

* Fix backpack convert (#193)

* cleanup the gpt2 to hf export script

* cleanup

* cleanup

* temporary mpt export

* widen what we accept

* sigh

* something

* log vocab size

* keep the tokenizer

* use save_model_local in backpack test

* use save_model_local in mpt test

* rename save_model* to save_pretrained

* rename load_lm_model* to load_pretrained

---------

Co-authored-by: Ivan Zhou <ivan.zhouyq@gmail.com>"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-06-07T04:38:49Z,"Please pre-commit (#187)

* initial cut at pyproject.toml

* remove requirements.txt in favor of pyproject

* pr comments

* make pre-commit happy"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-05-31T04:08:16Z,Add Backpack Networks (#156)
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-05-22T19:22:28Z,"Separate initialization of nn Modules from ctor (#150)

* fix rename, for good?

* rename SeqLen->Pos

* just pass the gpt config object around a lot more

* extract to reduce line nonsense

* more cleanup -> putting things in config

* more cleanup -> putting things in config

* more cleanup -> fewer names to reduce line count

* 1 line properties, KeySize->HeadSize

* hidden_states -> x

* hoist the argument I want first in GPT to be first

* separate LayerNorm initialization from constructor

* separate Linear initialization from constructor

* convert Gpt2 to use ""init"" static method for initialization"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-14T21:14:15Z,"Fixes to eval, hf checkpoint conversion (#87)

* grr

* tqdm

* better tqdm

* support eval on train

* add tqdm to torch

* loss mask

* oops

* wip fixing model conversion for large models

* wip fixing model conversion for large models

* wip fixing model conversion for large models

* oops

* logging?

* this seems ok

* cleanup

* tweaks wip

* more logging and synchronization for checkpoint extraction

* tweak to fix tokenizer loading

* remove files we shouldn't put in this patch

* something's going on with the test server

* tweak requirements.txt for new gcsfs"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-11T04:09:35Z,use glob so we get directory structure right for copied files
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-11T00:49:04Z,let's try this for distributed
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-10T22:21:44Z,attempt at fixing the hf export when in distributed mode
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-10T21:12:29Z,wire up the HF saving functionality
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-02T21:23:25Z,missed a torch->numpy
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-02T21:10:08Z,use numpy loading
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-02T20:16:18Z,make a callback that can write (and upload) hf checkpoints
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2023-03-02T08:29:58Z,"Migrate to safe tensors, remove dependency on pytorch for creating HF checkpoints (#82)

* wip

* use safetensors when we can for loading

* use safetensors for saving (i.e. pytorchless saving of hf checkpoints!)"
github.com/stanford-crfm/levanter,src/levanter/compat/hf_checkpoints.py,2022-10-21T17:32:41Z,rename torch_checkpoints.py to hf_checkpoints
github.com/taylorai/onnx_embedding_models,src/onnx_embedding_models/model.py,2024-03-03T01:53:56Z,add tqdm
github.com/taylorai/onnx_embedding_models,src/onnx_embedding_models/model.py,2024-02-28T05:39:54Z,Merge branch 'main' of https://github.com/taylorai/onnx_embedding_models
github.com/taylorai/onnx_embedding_models,src/onnx_embedding_models/model.py,2024-02-28T05:38:32Z,easier from_registry method
github.com/taylorai/onnx_embedding_models,src/onnx_embedding_models/model.py,2024-02-03T05:36:41Z,Update model.py
github.com/taylorai/onnx_embedding_models,src/onnx_embedding_models/model.py,2024-02-03T05:27:13Z,Update model.py
github.com/taylorai/onnx_embedding_models,src/onnx_embedding_models/model.py,2024-01-17T00:16:17Z,it work now
github.com/commune-ai/commune,commune/modules/model/hf/textgen/server/text_generation_server/utils/hub.py,2023-09-25T22:51:40Z,refactor
github.com/Garden-AI/garden,garden_ai/model_connectors/hugging_face.py,2024-01-04T21:20:30Z,Gracefully handle a Hugging Face repo not having a README (#384)
github.com/Garden-AI/garden,garden_ai/model_connectors/hugging_face.py,2023-12-15T20:24:06Z,359 error if `stage()` called during publish (#370)
github.com/Garden-AI/garden,garden_ai/model_connectors/hugging_face.py,2023-11-20T20:50:47Z,Enable imports from HF repos (#349)
github.com/Garden-AI/garden,garden_ai/model_connectors/hugging_face.py,2023-11-06T21:20:20Z,Update model and dataset metadata (#326)
github.com/Garden-AI/garden,garden_ai/model_connectors/hugging_face.py,2023-10-11T18:21:36Z,Prototype of Hugging Face connector and extracting metadata from pipeline decorator (#298)
github.com/gitmylo/bark-voice-cloning-HuBERT-quantizer,bark_hubert_quantizer/hubert_manager.py,2023-07-21T09:58:54Z,rename hubert to bark_hubert_quantizer
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T18:47:57Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T17:11:05Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T16:16:25Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T16:09:57Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T16:05:37Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T16:02:20Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T15:58:59Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T15:55:18Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T15:48:32Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T15:47:19Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T15:43:44Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T15:40:08Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T14:56:58Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T14:23:54Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T11:05:34Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T11:04:15Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T11:02:19Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T10:59:57Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T10:58:31Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2024-02-22T10:44:37Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-12-27T12:12:06Z,updating textGeneration to work with transformers update.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-07-24T15:04:07Z,updating MPS text output.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-05-16T15:20:21Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-13T08:32:58Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-13T08:26:33Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T10:56:28Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:53:34Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:50:22Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:44:28Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:41:38Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:40:35Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:24:22Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:20:04Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:13:53Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:11:08Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T09:05:23Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T08:42:16Z,Update huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-12T05:23:52Z,attemot at adding M1 support
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2023-04-01T12:13:50Z,Add max_length to textTranslate and update documentation.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-09-24T23:13:49Z,Update logging level critical using integer 50 with set_verbosity function; Base setter set_verbosity_critical does not exists.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-09-16T12:55:53Z,changed to not bother loading the model if config_only
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-09-16T06:36:08Z,"Adding textModelLayers() and default to ""second_to_last""."
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-09-15T13:28:15Z,python updates
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-09-15T13:22:52Z,added get_number_of_hidden_layers
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-08-25T09:50:17Z,added getTokens method to python interface
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-08-16T14:28:47Z,added zero-shot classification
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-08-08T17:38:46Z,setting explicit integers
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-08-03T02:34:14Z,added bloom
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-08-03T02:24:47Z,added return_tensors to text generation
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-08-03T02:13:05Z,added seed to pipelines
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-17T12:35:38Z,0.9.94 implementing language tesks.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-15T14:43:32Z,bug
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-15T14:29:50Z,added return_incorrect_results to all pipelines
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-14T18:24:52Z,building package to include python file updates.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-14T17:22:25Z,bug in hgTransformerGetSentiment
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-14T16:09:47Z,top_k fix
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-14T14:56:22Z,pipeline bugs
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-14T13:42:07Z,bug fix
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-13T17:49:04Z,more pipeline updates
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-13T17:27:46Z,more pipelines
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-07-08T20:35:07Z,added hgTransformerGetSentiment python method
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-05-27T16:41:18Z,commenting out test code.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-05-27T14:31:17Z,added logging_level to huggingface interface
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-05-27T01:48:22Z,added nvidia/megatron-bert-cased-345m
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-05-26T04:09:47Z,properly set device
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-05-16T11:44:25Z,"trying adding ""cuda"" to the device setting to get gpu access."
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-05-08T17:27:53Z,"Add `model_max_length` param to textEmbed

Fix issue #10. Add `model_max_length` param to textEmbed(LayersOutput)."
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2022-01-05T15:01:35Z,added tokenizer_parallelism option to hgTransformerGetEmbedding
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2021-11-24T09:39:35Z,"From 0.9.13 till 0.9.16.
Adding additional ways to install text required python packages and specified environments."
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2021-09-18T14:59:14Z,bug fix in huggingface wrapper
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2021-09-18T05:33:08Z,"gpu can be selected, cpu is default"
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2021-09-17T20:46:16Z,use gpu by default
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-12-11T14:44:55Z,bug fix
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-12-11T13:14:17Z,model index fix
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-12-10T18:38:40Z,distilbert bug fix
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-10-15T20:17:48Z,handle list of text
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-10-15T18:40:15Z,remove debug prints
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-10-15T17:34:50Z,handle multi-sentences
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-28T16:23:34Z,bug in DESCRIPTION
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-25T12:52:59Z,huggingface_Interface3.py documentation
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-24T16:28:58Z,bug in inst/python/huggingface_Interface3.py
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-24T16:19:19Z,check for nltk punkt model
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-24T15:55:43Z,import nltk
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-24T15:55:12Z,break up sentences if longer than max tokens
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-22T17:47:36Z,changed name of the pretrained_model paramer to model.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-09-21T16:15:16Z,"added AutoConfig, AutoModel, AutoTokenizer from huggingface"
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-07-16T14:30:23Z,Removed comments and add DS_Store to gitignore.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-07-08T04:40:00Z,"HuggingFace is only provided with a model and then tokensizer, pretrained_weights and model calss is specified within function.
Also tested models where 5 out 10 currently works."
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-07-07T11:16:59Z,Silenced warnings in huggingface python file and sorted out bug in textAggreationLayers regarding calculating number of layers in layers_number in different lists.
github.com/OscarKjell/text,inst/python/huggingface_Interface3.py,2020-06-26T13:19:06Z,textEmbed is now based on HugingFace interface.
github.com/shashikg/WhisperS2T,whisper_s2t/backends/tensorrt/hf_utils.py,2024-01-27T15:39:47Z,initial codebase for tensorrt backend
github.com/Audio-AGI/WavJourney,VoiceParser/hubert_manager.py,2023-08-24T22:30:24Z,first commit
github.com/gsgen3d/gsgen,guidance/stable_diffusion_vsd.py,2023-09-28T15:52:33Z,initial commit
github.com/eric-ai-lab/DSD,diffusers/scripts/convert_k_upscaler_to_diffusers.py,2023-11-16T08:45:47Z,first commit
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-12-06T16:32:26Z,genslm
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-29T12:58:39Z,"Use `hf_raise_for_status` instead of deprecated `_raise_for_status` (#19244)

* Use  instead of  from huggingface_hub

* bump huggingface_hub to 0.10.0 + make deps_table_update"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-26T22:01:00Z,"Fix cached_file in offline mode for cached non-existing files (#19206)

* Fix cached_file in offline mode for cached non-existing files

* Add tests

* Test with offline mode"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-19T19:27:18Z,Don't warn of move if cache is empty (#19109)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-16T19:01:57Z,replace logger.warn by logger.warning (#19068)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-15T13:39:59Z,Move cache: expand error message (#19051)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-13T17:11:24Z,Re-add support for single url files in objects download (#19014)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-12T16:09:37Z,"Align try_to_load_from_cache with huggingface_hub (#18966)

* Align try_to_load_from_cache with huggingface_hub

* Fix tests"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-06T16:34:37Z,"Further reduce the number of alls to head for cached objects (#18871)

* Further reduce the number of alls to head for cached models/tokenizers/pipelines

* Fix tests

* Address review comments"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-09-02T14:30:06Z,"Clean up utils.hub using the latest from hf_hub (#18857)

* Clean up utils.hub using the latest from hf_hub

* Adapt test

* Address review comment

* Fix test"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-10T19:46:03Z,Properly move cache when it is not in default path (#18563)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-10T15:55:18Z,"Use commit hash to look in cache instead of calling head (#18534)

* Use commit hash to look in cache instead of calling head

* Add tests

* Add attr for local configs too

* Stupid typos

* Fix tests

* Update src/transformers/utils/hub.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

* Address Julien's comments

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-09T19:15:01Z,Clean up comment
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-08T14:22:27Z,New cache fixes: add safeguard before looking in folders (#18522)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-08T12:48:10Z,"Clean up hub (#18497)

* Clean up utils.hub

* Remove imports

* More fixes

* Last fix"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-06T07:42:55Z,"`transformers-cli login` => `huggingface-cli login` (#18490)

* zero chance anyone's using that constant no?

* `transformers-cli login` => `huggingface-cli login`

* `transformers-cli repo create` => `huggingface-cli repo create`

* `make style`"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-05T17:29:38Z,Typo reported by Joel Grus on TWTR (#18493)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-05T17:24:53Z,Forgot one new_ for cache migration
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-05T17:14:00Z,"Move cache folder to huggingface/hub for consistency with hf_hub (#18492)

* Move cache folder to just huggingface

* Thank you VsCode for this needless import

* Move to hub

* Forgot one"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-05T14:12:40Z,"Use new huggingface_hub tools for download models (#18438)

* Draft new cached_file

* Initial draft for config and model

* Small fixes

* Fix first batch of tests

* Look in cache when internet is down

* Fix last tests

* Bad black, not fixing all quality errors

* Make diff less

* Implement change for TF and Flax models

* Add tokenizer and feature extractor

* For compatibility with main

* Add utils to move the cache and auto-do it at first use.

* Quality

* Deal with empty commit shas

* Deal with empty etag

* Address review comments"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-08-01T16:07:30Z,"Rewrite push_to_hub to use upload_files (#18366)

* Rewrite push_to_hub to use upload_files

* Adapt the doc a bit

* Address review comments and clean doc"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-07-19T09:53:53Z,"[From pretrained] Allow download from subfolder inside model repo (#18184)

* add first generation tutorial

* [from_pretrained] Allow loading models from subfolders

* remove gen file

* add doc strings

* allow download from subfolder

* add tests

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* apply comments

* correct doc string

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-07-13T16:43:08Z,"Make sharded checkpoints work in offline mode (#18125)

* Make sharded checkpoints work in offline mode

* Add test"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-07-13T14:53:25Z,"Revert ""Make sharded checkpoints work in offline mode""

This reverts commit 3564c6578630a3bef29d2c7c36c7d29b68acd874."
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-07-13T14:51:56Z,Make sharded checkpoints work in offline mode
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-07-11T16:45:06Z,Add filename to info diaplyed when downloading things in from_pretrained (#18099)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-06-22T05:04:35Z,Flax sharded (#17760)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-06-21T16:01:08Z,"TF Sharded (#17713)

* initial commit

* update modeeling tf utils

* quality

* clean and update args

* update

* remove potential bug

* code quality

* update

* update max shard

* update tests for sharding from pretrained

* fix remaining test

* make style

* h5py if tf available

* update and fix test

* fix test

* style

* modified push to hub to support shard for TF

* quick fix

* update code

* merge branch main and style

* Apply suggestions from code review

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* update based on reviews

* update doc

* update and style

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update based on reviews

* fix typo

* style

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-06-21T15:51:18Z,"Prepare transformers for v0.8.0 huggingface-hub release (#17716)

* Prepare CI for v0.8.0

* pin hfh (revert before merge)

* Revert ""pin hfh (revert before merge)""

This reverts commit a0103140e1c77b810ffcb735192968bc03be3e1f.

* Test rc3

* Test latest rc

* Unpin to the RC

Co-authored-by: Sylvain Gugger <Sylvain.gugger@gmail.com>"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-06-10T13:41:53Z,"🐛 Properly raise `RepoNotFoundError` when not authenticated (#17651)

* Raise RepoNotFoundError in case of 401

* Include changes from revert-17646-skip_repo_not_found

* Add a comment

* 💄 Code quality

* 💚 Update `get_from_cache` test

* 💚 Code quality & skip failing test"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-06-08T15:34:05Z,Fix telemetry URL (#17608)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-06-07T15:57:52Z,"Add examples telemetry (#17552)

* Add examples telemetry

* Alternative approach

* Add to all other examples

* Add to templates as well

* Put framework separately

* Same for TensorFlow"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-05-12T20:25:55Z,"Black preview (#17217)

* Black preview

* Fixup too!

* Fix check copies

* Use the same version as the CI

* Bump black"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-04-29T16:26:45Z,"Revert ""Updating variable names. (#16445)"" (#17011)

This reverts commit 4f3a14e3c235c8b6b8cd2f5bc448a0cffacddf61."
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-04-29T15:44:28Z,Updating variable names. (#16445)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-04-25T19:15:00Z, Fix issue probably-meant-fstring found at https://codereview.doctor (#16913)
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-03-23T19:56:49Z,"Make Transformers use cache files when hf.co is down (#16362)

* Make Transformers use cache files when hf.co is down

* Fix tests

* Was there a random circleCI failure?

* Isolate patches

* Style

* Comment out the failure since it doesn't fail anymore

* Better comment"
github.com/da03/hierarchical_diffusion_LM,src/transformers/utils/hub.py,2022-03-23T14:26:33Z,"Reorganize file utils (#16264)

* Split file_utils in several submodules

* Fixes

* Add back more objects

* More fixes

* Who exactly decided to import that from there?

* Second suggestion to code with code review

* Revert wront move

* Fix imports

* Adapt all imports

* Adapt all imports everywhere

* Revert this import, will fix in a separate commit"
github.com/shashikg/WhisperS2T,whisper_s2t/backends/ctranslate2/hf_utils.py,2023-12-19T00:18:11Z,add support for large-v3 and distil-whisper
github.com/shashikg/WhisperS2T,whisper_s2t/backends/ctranslate2/hf_utils.py,2023-12-16T21:44:48Z,first commit
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2024-01-26T15:43:05Z,"Add neuronx cache registry (#442)

* feat(decoder): store neuron config in cache registry

* feat(cache): add helper to get cached model configurations

* feat(cli): add cache lookup command

* test(generation): only test push_to_hub with one model

* feat(cache): rename registry folder so that it appears on top

* doc(cache): add lookup command

* fix(cli): update cache command help

* fix(style): reformat with latest black version

* Update optimum/neuron/utils/hub_neuronx_cache.py

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>

---------

Co-authored-by: Michael Benayoun <mickbenayoun@gmail.com>"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2024-01-23T16:05:50Z,Initial support for Pipeline Parallelism (#279)
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2024-01-15T16:17:08Z,"Skip pushing if the user does not have write access to the cache repo (#405)

* Skip pushing if the user does not have write access to the cache repo

* Fix tests

* Fix tests"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-12-18T16:04:23Z,"Save function fix (#329)

* Add a safetensors  function compatible with

* Add custom _maybe_move_to_cpu

* Fix

* Add docstring

* Fix test

* Fix test

* Apply suggestions"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-11-24T13:45:31Z,"Fix `neuron_parallel_compile` compatibility with the cache system (#352)

* Cleanup after precompilation

* Apply suggestions

* Use the same default as the Neuron compiler

* Reformat comment"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-11-14T10:40:37Z,"Fix broken tests (#274)

* Fix tests

* Fixes test_runner

* Skip generate tests as long as #262 has not been merged

* Wont fail if secondary caches dont not have write access

* Remove support for old neuron compilation cache naming

* Update test_trainium_common.yml

* Add cleanups to CI

* Experiment with new mixin class

* Remove comment in workflow

* Skipping GPTNeoX test as it is flaky

---------

Co-authored-by: Guillaume LEGENDRE <glegendre01@gmail.com>"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-07-04T16:44:35Z,"Fixes the cache after update (#119)

* Fix cache for new versions

* Unspecified attributes for NeuronHash

* Make trainium test"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-05-31T16:42:15Z,"`optimum-cli neuron cache list` command (#85)

* optimum-cli neuron cache list command

* Update help

* Styling

* Add test

* Styling

* Add staging tests"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-05-30T08:47:58Z,"Cache registry (#72)

* [WIP] registry file

* Add test

* Styling

* Handle concurrency on the registry

* Styling

* Fix tests"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-05-23T16:08:22Z,"Add last line for licenses (#69)

add last lin"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-05-14T17:10:00Z,"optimum-cli neuron cache add command (#51)

* [WIP] optimum-cli neuron cache add command

* [WIP] compilation utils

* Add tests

* Actually add tests

* Trigger CI

* Fix setup

* Test

* Test

* Update pip

* Add repository variables

* Make run example a trainium test

* Remove staging test from run example

* Install python3.8-venv

* Install python3.8-venv

* Add test

* Fix test

* Remove print

* Commented tests

* Styling

* Fix

* Fix tests

* Styling

* Fix

* Fix image classification

* Use cache repo for compilation tests

* Fix

* Add None check"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-04-28T16:05:01Z,"`optimum-cli` Trainium cache (#49)

* optimum-cli neuron cache commands

* Add tests

* Add tests

* Fix issues

* Add documentation

* Fix tests and workflow

* Add login

* Change doc

* Fix tests

* Fix import

* Fix tests

* Styling

* Fix tests

* Apply suggestions"
github.com/huggingface/optimum-neuron,tests/test_cache_utils.py,2023-04-14T13:36:22Z,"Compilation caching system connected to the HF Hub (#24)

* [WIP] caching system

* caching system

* Styling

* Handle cache_stats

* Caching system working

* [WIP] tests

* Update

* Update test_common.yml

* [WIP] tests

* test_cache_utils.py done

* [WIP] test_trainers.py

* Move xm import inside compute_hash

* Cleaning

* Add workflows on Tranium instances

* Add tests that checks if writing rights are there

* Rename workflow

* Trigger CI

* Fix for CI

* Trigger CI

* Fix for CI

* Remove print

* Fix for CI

* Test something

* Not including the exporters tests

* Apply suggestions

* Disable python installation since we use the AMI

* New hashing approach, without saving any file to disk

* Small fix

* Fix for the multiple worker setup

* Add tests

* Fix issues with multiple workers

* Working for multiple workers

* Finalizing tests

* Cleaning

* Trigger CI

* Make tests inferentia tests

* Add requires helper functions

* Add dummy compiler version

* Styling

* Fix bf16 patching

* Fix tests

* Fix teardown"
github.com/UncleTensor/AudioSubnet,models/bark_voice_clone.py,2024-02-12T17:35:20Z,"Added Text to Music models, custom models option and auto_update (yes/no)"
github.com/UncleTensor/AudioSubnet,models/bark_voice_clone.py,2024-01-16T20:55:35Z,"Add Bark/VoiceClone Model and Optimize Miner Response Timeout

- Implemented the Bark/VoiceClone model for enhanced voice cloning capabilities.
- Optimized the timeout settings for miner responses, improving overall system efficiency. Updated to 90 seconds
- Updated the punishment function to detect inactive miners not running any model, applying penalties based on the defined punishment factor.
- Enhanced logging mechanisms for better clarity and troubleshooting.
- Modified the minimum compute requirements file.
- Added additional necessary libraries for running Voice Cloning in requirement.txt."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-02-27T11:11:47Z,"[Update] An example for Gemma model was initially added.
[Update] An example for Transformer Reinforcement Learning (TRL) library to train small LLMs (sLLMs) was initially added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-02-21T12:45:57Z,[Update] Examples for DINO and DPT models were implemented in hugging_face_transformers_test.py.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-02-16T06:16:19Z,[Update] Placeholders for examples of Hugging Face TRL library were added.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-02-08T03:52:31Z,"[Update] Several examples for stable diffusion models of Stability AI were implemented.
[Update] Information about Transformer Reinforcement Learning (TRL) library was moved from hugging_face_test.py to hugging_face_transformers_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-01-31T08:31:27Z,[Update] A test was added to fine-tune a ResNet model using Dog/Cat dataset in pytorch_transfer_learning.py.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-01-28T13:07:24Z,"[Update] An example of Zephyr-7B was added in hugging_face_transformers_test.py, but was not tested.
[Update] The information about Transformer Reinforcement Learning (TRL) was described in hugging_face_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2024-01-11T04:04:23Z,"[Update] An example for retrieval-augmented generation (RAG) was added in hugging_face_transformers_test.py.
[Update] Information about TableMASTER-mmocr was removed from mmocr_usage_guide.txt."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-12-24T02:40:32Z,"[Update] A few examples for Mistral-7B and Mixtral-8x7B models were added.
[Update] The installation of TensorFlow 2 were updated."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-12-23T12:07:02Z,"[Update] An example of ORCA-2 model was added.
[Update] The examples for ViT, ViLT, BEiT, LayoutLM, and Donut models were merged respectively.
[Update] The information about data preparation, training, evaluation, visualization, and model export were supplemented in paddle_ocr_usage_guide.txt."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-11-24T08:49:41Z,"[Update] A customized version of ViT model was implemented and tested, which doesn't have classification token and head."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-11-20T04:48:59Z,"[Update] A few examples for Falcon model were initially implemented.
[Update] A few examples for StarCoder and Replit models were implemented, but yet tested."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-11-10T01:27:50Z,[Update] LLMs Yi-6B & Yi-34B were tested.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-11-06T12:24:53Z,"[Update] The forecasts of transformers.TimeSeriesTransformerForPrediction were evaluated by MASE, MAPE, sMAPE.
[Update] Metrics for evaluating ML models' performance in evaluate library were tested."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-11-03T10:46:04Z,"[Update] Two examples for phi-1 & phi-1.5 models were initially added.
[Update] A few examples for Kosmos-2 model were initially added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-10-12T12:13:43Z,[Update] A few examples for Probabilistic time series transformer model were added.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-10-07T08:51:44Z,[Update] Several examples for Perceiver IO model were initially committed.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-09-26T10:56:44Z,"[Update] A simple example for Code Llama model was initially added.
[Update] A few commands were explained to profile Python scripts."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-09-21T12:31:58Z,[Update] A simple example for OpenLLaMA models was implemented.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-09-04T03:59:25Z,"[New] A few examples for PID, MPC, LQR using python-control library was initially added.
[Update] A simple example for trajectory transformer models was added in hugging_face_transformers_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-09-02T12:30:02Z,"[New] An example for model predictive control (MPC) was initially committed.
[Update] A test for CodeParrot model was initially implemented in hugging_face_transformers_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-08-31T06:01:24Z,"[Update] Memory footprint and computing performance (FLOPS) Hugging Face transformers models was measured.
[Update] A simple test for Hugging Face datasets was added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-08-04T08:13:21Z,[Update] An example for OpenFlamingo library was added.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-07-25T12:07:07Z,"[Update] A few examples for Llama 2 model were added in hugging_face_transformers_test.py.
[Update] Model parallelism was tested based on Hugging Face Accelerate library in hugging_face_transformers_test.py.
[Update] Information about Hugging Face Accelerate library was reinforced."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-07-22T06:48:12Z,"[Update] Cross references about transformer and ViT models were reinforced.
[Chore] vit_test.py was moved from sw_dev/python/rnd/test/machine_learning/vit_test.py to sw_dev/python/rnd/test/machine_vision/vit_test.py.
[Update] The installation of node.js was explained."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-07-17T01:20:26Z,"[Update] Several examples for CodeBERT, CodeBERTa, CodeT5+, CodeGen2, & CodeGen2.5 models were added.
[Update] An example of SpeechT5 model was divied into 3 examples: ASR, TTS, & speech-to-speech."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-07-12T07:54:25Z,"[Update] An example for Decision Transformer was initially committed.
[Update] A few examples for NVIDIA Megatron-LM, ASR, TTS models were implemented.
[Update] An example for SegFormer model was initially added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-06-30T14:20:26Z,"[Update] The method, chain of thoughts (CoT) was tested on two LLMs, LLaMA & MPT."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-06-27T04:15:37Z,"[Update] A few examples for MPT & TVLT models were implemented in hugging_face_transformers_test.py.
[Chore] table_generation_usage_guide.txt was moved to SWLP repository."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-06-22T14:49:33Z,"[Update] Three language models were tested: LLaMA, Galactica, & OPT models."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-06-15T07:51:37Z,[Update] The example of LLaMA model was reinforced.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-05-26T18:49:16Z,[Update] A test for data parallelism was implemented in PyTorch library.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-05-05T03:23:29Z,"[Update] Two simple tests for two Facebook's language models, OPT and Galactica were initially implemented."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-04-30T14:34:59Z,[New] A simple tutorial for MMSegmentation library was initially committed.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-04-06T03:27:45Z,"[Update] A couple of simple examples for LLaMa model were implemented, but they were not tested due to library version issue."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-04-04T11:52:41Z,"[Update] Several examples for CodeT5 and CodeGen models were implemented to generate code.
[Update] Several examples for GIT and BLIP models for vision-and-language modeling models were implemented.
[Update] A few examples for TaPEx model were implemented to understand tables."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-04-01T14:10:48Z,"[New] A couple of examples for GPT4All models were added, but they were not correctly working."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-04-01T06:26:08Z,"[New] Two simple examples for PaLM and PaLM+RLHF models were implemented, but the models were not trained in the examples."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-30T08:06:47Z,"[New] Several examples for table processing (Table Transformer, TATR), OCR (TrOCR), speech processing (SpeechT5) were initially added to hugging_face_transformers_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-29T05:25:41Z,[Update] Several examples for speech recognition (whisper) & synthesis (tacotron2 & fastspeech2) were newly implemented in hugging_face_transformers_test.py.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-26T07:02:13Z,"[New] A few examples for ALIGN model were implemented in hugging_face_transformers_test.py.
[Update] A couple of examples for CLIP model were added in hugging_face_transformers_test.py.
[Update] Useful information about Transformer architectures was described."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-24T06:24:31Z,[Update] A simple example about dataclass in Python was added.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-22T14:48:31Z,"[Update] A couple of examples of seq-to-seq models for LoRA & Prefix Tuning were implemented in hugging_face_test.py.
[Update] An example for CLIP model was implemented in hugging_face_transformers_test.py.
[Update] A few examples for Whisper model were implemented in hugging_face_transformers_test.py.
[New] A usage guide for Hugging Face library was added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-21T07:10:38Z,"[Update] A simple example of Parameter-Efficient Fine-Tuning (PEFT) library was added to hugging_face_test.py.
[Update] A simple test of tokenizers was added to hugging_face_transformers_test.py."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-18T11:41:29Z,[Update] A couple of examples for diffusion models of StabilityAI and CompVis were added.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-18T05:09:16Z,[Update] A few examples for Flan-T5 model were reinforced in hugging_face_transformers_test.py.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-16T11:52:13Z,[Update] Information about Hugging Face models was supplemented.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-15T12:08:24Z,[Update] An example for question answering using GPT-neo was added.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-14T02:43:49Z,[Update] A few examples for BLOOM and Flan-T5 models were implemented.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-09T01:51:43Z,[Update] A test for KLUE BERT models was implemented.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-09T01:49:32Z,"[Update] A few examples of text summarization for Korean & English were implemented, but their results were not good.
[Update] A few examples for T5 model were added."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-07T17:44:21Z,[Update] A few tests were added for GPT & BERT models.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-03-01T14:37:43Z,[New] A few guides were initially committed for Hugging Face Hub library.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-01-19T10:11:50Z,"[Update] Several examples for vision, vision and language models were added in HuggingFace library."
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2023-01-19T08:06:44Z,[Update] Several examples for LayoutLM & Donut models were implemented in HugggingFace library.
github.com/sangwook236/SWDT,sw_dev/python/rnd/test/language_processing/hugging_face_transformers_test.py,2022-04-01T07:00:58Z,[Chore] transformers_test.py was renamed to hugging_face_transformers_test.py.
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-07-11T22:09:13Z,check if embeddings is a tensor
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-06-26T19:48:24Z,update huggingface hub to be compatible with Python 3.6
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-06-23T11:48:27Z,update util.community_detection. Solves #1450 and #1603
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-06-23T09:17:07Z,Update snapshot_download
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-06-21T15:28:09Z,"Merge pull request #1522 from ArzelaAscoIi/bugfix/missingHFTokenForModelInfo

Bugfix - missing HF token to retrieve model information"
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-06-16T18:11:17Z,remove unneeded import that causes an error
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-04-15T13:50:17Z,Fixed not defined token for public model
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-04-15T13:45:22Z,fixed not found import
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-04-15T13:35:52Z,Bugfix - Added token for model info
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2022-02-02T01:16:32Z,"Adding auth_token to SentenceTransformers to allow the use of private models

To use private models from the HuggingFace HUB you need to provide your HuggingFace auth token to download models."
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-11-09T19:24:58Z,Correct return in docstring for semantic_search()
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-11-09T19:02:30Z,Fix typos in util.py
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-11-07T04:03:47Z,init_max_size should not exceed the dataset size
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-08-16T09:24:28Z,Format
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-08-16T09:23:39Z,Fix downloading from Hub
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-08-05T13:35:09Z,add pairwise cos score function
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-06-24T07:32:12Z,update ignore file
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-06-23T09:31:55Z,first commit on custom snapshot download method
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-06-22T15:29:37Z,refactor how model card is created
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-05-28T18:54:18Z,Merge branch 'v2_dev' into auto_model
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-05-17T10:04:43Z,Finish auto model cards
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-05-12T12:38:15Z,move community_detection to util package
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-03-22T08:12:33Z,Bugfix #825 - Update paraphrase_mining
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-03-19T21:32:58Z,New function util.paraphrase_mining_embeddings to find most similar embeddings in a matrix
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-02-28T20:00:27Z,bugfix semantic search
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-02-28T19:38:46Z,bugfix import from string
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-02-28T19:14:56Z,add normalize_embeddings flag to encode method
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-02-21T08:08:16Z,add util.dot_score
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-02-19T22:41:27Z,use full path for import
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-02-08T21:17:39Z,add tqdm autonotebook to util
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-01-27T08:17:03Z,add util.normalize_embeddings() and add options to util.semantic_search to tell that query/corpus is already normalized
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-01-27T07:54:18Z,update examples & docs
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-01-14T19:59:20Z,updates on semantic_search and paraphrase_mining
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2021-01-02T13:28:56Z,"Merge branch 'per-module-logger' of https://github.com/jmrf/sentence-transformers into dev-0.4.1

# Conflicts:
#	examples/training/avg_word_embeddings/training_stsbenchmark_avg_word_embeddings.py
#	examples/training/avg_word_embeddings/training_stsbenchmark_bilstm.py
#	examples/training/avg_word_embeddings/training_stsbenchmark_bow.py
#	examples/training/avg_word_embeddings/training_stsbenchmark_cnn.py
#	examples/training/avg_word_embeddings/training_stsbenchmark_tf-idf_word_embeddings.py
#	examples/training/data_augmentation/train_sts_indomain_bm25.py
#	examples/training/data_augmentation/train_sts_indomain_nlpaug.py
#	examples/training/data_augmentation/train_sts_indomain_semantic.py
#	examples/training/data_augmentation/train_sts_qqp_crossdomain.py
#	examples/training/data_augmentation/train_sts_seed_optimization.py
#	examples/training/distillation/model_distillation.py
#	examples/training/nli/training_nli.py
#	examples/training/other/training_batch_hard_trec.py
#	examples/training/other/training_multi-task.py
#	examples/training/sts/training_stsbenchmark.py
#	examples/training/sts/training_stsbenchmark_continue_training.py
#	requirements.txt
#	sentence_transformers/SentenceTransformer.py
#	sentence_transformers/__init__.py
#	sentence_transformers/datasets/SentenceLabelDataset.py"
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-12-26T20:14:43Z,Add Asymmetric Model
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-12-22T20:48:51Z,"Update tokenization, so that it uses HF tokenizer() method"
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-12-18T10:18:22Z,replace devision by torch.nn.functional.normalize function
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-12-14T15:33:07Z,lib logger - WIP
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-12-02T20:58:02Z,More docs on information retrieval
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-11-18T08:05:18Z,Small bugfix in paraphrase_mining function
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-10-19T13:31:38Z,Fix issue when corpus & query embeddings on different devices
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-09-29T20:07:25Z,Update transformers version
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-31T20:01:39Z,Bugfix #395
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-25T08:41:13Z,Performance improvement for paraphrase_mining. Replace np.argpartition with torch.topk
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-24T15:14:55Z,Add casting to tensor
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-24T13:54:29Z,Encode method uses a dataset for more efficient parallel tokenization
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-21T12:58:35Z,Bugfix Paraphrase Mining
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-21T07:26:04Z,Reduce memory requirement for paraphrase_mining
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-11T07:38:21Z,Update semantic search examples
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-10T09:06:42Z,Adding few type conversions
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-09T06:01:34Z,"at top_k+=1 as (i,i) is usually the highest similarity pair"
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-05T19:01:55Z,Documentation on Quora examples
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-08-05T13:22:26Z,Add Quora examples and add util functions for mining and IR
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-07-23T13:17:04Z,Use pytorch_cos_sim in semantic_search.py example
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-07-23T10:50:37Z,Adding pytorch function for fast cosine similarity computation
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-07-23T10:37:48Z,Adding pytorch function for cosine similarity computation
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-07-20T15:39:12Z,Working on multilingual training code
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2020-04-10T19:34:33Z,Init commit for version 0.2.6
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-08-20T17:14:33Z,Prepare v0.2.3 version
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-08-20T17:12:46Z,Bugfix Windows with tensor.type and progress bar can be disabled for evaluator
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-08-16T07:51:16Z,Add CNN + LSTM layers & examples
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-08-14T13:37:09Z,Version 0.2.0 commit. Major refactoring of framework to make it modular
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-08-06T15:33:55Z,Store Tokenizer model to output folder
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-07-26T10:59:04Z,Exceptions added when a model is not found
github.com/zeus-dev919/sentence-transformers,sentence_transformers/util.py,2019-07-25T07:43:15Z,Initial commit
github.com/XiudiChen/ConPL,transformers/utils/hub.py,2023-05-13T18:52:07Z,all code
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-24T06:10:52Z,"Refactoring Trainer, adds `save_only_model` arg and simplifying FSDP integration (#27652)

* add code changes

1. Refactor FSDP
2. Add `--save_only_model` option: When checkpointing, whether to only save the model, or also the optimizer, scheduler & rng state.
3. Bump up the minimum `accelerate` version to `0.21.0`

* quality

* fix quality?

* Revert ""fix quality?""

This reverts commit 149330a6abc078827be274db84c8a2d26a76eba1.

* fix fsdp doc strings

* fix quality

* Update src/transformers/training_args.py

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* please fix the quality issue 😅

* Apply suggestions from code review

Co-authored-by: Benjamin Bossan <BenjaminBossan@users.noreply.github.com>

* address comment

* simplify conditional check as per the comment

* update documentation

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>
Co-authored-by: Benjamin Bossan <BenjaminBossan@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-21T16:09:35Z,"remove the deprecated method `init_git_repo` (#27617)

* remove deprecated method `init_git_repo`

* make style"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-14T20:31:04Z,"Track the number of tokens seen to metrics (#27274)

* Add tokens seen

* Address comments, add to TrainingArgs

* Update log

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Use self.args

* Fix docstring

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-14T19:54:44Z,"Have seq2seq just use gather (#27025)

* Have seq2seq just use gather

* Change

* Reset after

* Make slow

* Apply suggestions from code review

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Clean

* Simplify and just use gather

* Update tests/trainer/test_trainer_seq2seq.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* gather always for seq2seq

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-07T21:40:00Z,"Allow scheduler parameters (#26480)

* Allow for scheduler kwargs

* Formatting

* Arguments checks, passing the tests

* Black failed somehow

---------

Co-authored-by: Pierre <pierre@avatarin.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-02T20:08:03Z,"Fixed base model class name extraction from PeftModels (#27162)

* Fixed base model class name extraction from PeftModels

* Changes to first unwrap the model then extract the base model name

* Changed base_model to base_model.model to stay consistent with peft model abstractions"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-02T10:27:13Z,"Reproducible checkpoint for npu (#27208)

* save NPU's RNG states when saving a checkpoint and set after all the
data skip phase when resuming training.

* re-trigger ci

* re-trigger ci"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-11-01T18:42:38Z,"Enable split_batches through TrainingArguments (#26798)

* Enable split_batches through TrainingArguments

* Extra dispatch_batches

* Keep as default false

* Add to docstring

* Add to docstring

* Remove the capturewarnings change

* Comma"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-31T15:03:59Z,"[FEAT] Add Neftune into transformers Trainer (#27141)

* add v1 neftune

* use `unwrap_model` instead

* add test + docs

* Apply suggestions from code review

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* more details

* fixup

* Update docs/source/en/main_classes/trainer.md

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* refactor a bit

* more elaborated test

* fix unwrap issue

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-30T11:55:03Z,"remove the obsolete code related to fairscale FSDP (#26651)

* remove the obsolete code related to fairscale FSDP

* apple review suggestion"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-30T11:41:48Z,"[`Trainer` / `GC`] Add `gradient_checkpointing_kwargs` in trainer and training arguments (#27068)

* add `gradient_checkpointing_kwargs` in trainer and training arguments

* add comment

* add test - currently failing

* now tests pass"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-26T16:13:19Z,"Save TB logs as part of push_to_hub (#27022)

* Support runs/

* Upload runs folder as part of push to hub

* Add a test

* Add to test deps

* Update with proposed solution from Slack

* Ensure that repo gets deleted in tests"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-26T15:46:17Z,"Correct docstrings and a typo in comments (#27047)

* docs(training_args): correct docstrings

Correct docstrings of these methods in `TrainingArguments`:

- `set_save`
- `set_logging`

* docs(training_args): adjust words in docstrings

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* docs(trainer): correct a typo in comments

---------

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-26T09:20:11Z,"Bring back `set_epoch` for Accelerate-based dataloaders (#26850)

* Working tests!

* Fix sampler

* Fix

* Update src/transformers/trainer.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Fix check

* Clean

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-16T13:29:47Z,"fix resume_from_checkpoint bug (#26739)

* fix resume_from_checkpoint bug

* update code"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-12T08:28:40Z,"Add many missing spaces in adjacent strings (#26751)

Add missing spaces in adjacent strings"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-06T14:03:11Z,"remove SharedDDP as it is deprecated (#25702)

* remove SharedDDP as it was drepracated

* apply review suggestion

* make style

* Oops,forgot to remove the compute_loss context manager in Seq2SeqTrainer.

* remove the unnecessary conditional statement

* keep the logic of IPEX

* clean code

* mix precision setup & make fixup

---------

Co-authored-by: statelesshz <jihuazhong1@huawei.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-04T13:13:37Z,"Docstring check (#26052)

* Fix number of minimal calls to the Hub with peft integration

* Alternate design

* And this way?

* Revert

* Nits to fix

* Add util

* Print when changes are made

* Add list to ignore

* Add more rules

* Manual fixes

* deal with kwargs

* deal with enum defaults

* avoid many digits for floats

* Manual fixes

* Fix regex

* Fix regex

* Auto fix

* Style

* Apply script

* Add ignored list

* Add check that templates are filled

* Adding to CI checks

* Add back semi-fix

* Ignore more objects

* More auto-fixes

* Ignore missing objects

* Remove temp semi-fix

* Fixes

* Update src/transformers/models/pvt/configuration_pvt.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Update utils/check_docstrings.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Update src/transformers/utils/quantization_config.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Deal with float defaults

* Fix small defaults

* Address review comment

* Treat

* Post-rebase cleanup

* Address review comment

* Update src/transformers/models/deprecated/mctct/configuration_mctct.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* Address review comment

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>
Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-10-04T12:57:11Z,Extend Trainer to enable Ascend NPU to use the fused Adamw optimizer when training (#26194)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-26T17:27:09Z,"Add torch `RMSProp` optimizer (#26425)

add rmsprop"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-22T01:33:29Z,"[QUICK FIX LINK] Update trainer.py (#26293)

* Update trainer.py

Fix link

* Update src/transformers/trainer.py

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* Update trainer.py

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-20T15:38:59Z,"[`Trainer`] Refactor trainer + bnb logic (#26248)

* refactor trainer + bnb logic

* remove logger.info

* oops"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-20T04:56:16Z,"FSDP tests and checkpointing fixes (#26180)

* add fsdp tests

* Update test_fsdp.py

* Update test_fsdp.py

* fixes

* checks

* Update trainer.py

* fix

* fixes for saving/resuming checkpoints

* fixes

* add tests and delete debug statements

* fixing tests

* Update test_fsdp.py

* fix tests

* fix tests

* minor nits

* fix code style and quality

* refactor and modularize test code

* reduce the time of tests

* reduce the test time

* fix test

* reduce test time

* reduce test time

* fix failing tests

* fix

* Apply suggestions from code review

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* resolve comments

---------

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-18T15:40:11Z,refactor decay_parameters production into its own function (#26152)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-14T09:57:47Z,"Fix eval accumulation when `accelerate` > 0.20.3 (#26060)

As mentioned in: https://github.com/huggingface/transformers/issues/25641

Eval accumulation will never happen with `accelerate > 0.20.3`, so this change ensures that `sync_gradients` is ignored if accelerate is > 0.20.3"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-12T17:01:22Z,"enable optuna multi-objectives feature (#25969)

* enable optuna multi-objectives feature

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>

* Apply suggestions from code review

Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>

* update hpo doc

* update docstring

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>

* extend direction to List[str] type

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>

* Update src/transformers/integrations/integration_utils.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>
Co-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-11T11:56:36Z,"only main process should call _save on deepspeed zero3 (#25959)

only main process should call _save when deepspeed zero3"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-07T19:00:22Z,"Try to fix training Loss inconsistent after resume from old checkpoint (#25872)

* fix loss inconsistent after resume  #25340

* fix typo

* clean code

* reformatted code

* adjust code according to comments

* adjust check_dataloader_randomsampler location

* return sampler only

* handle sampler is None

* Update src/transformers/trainer_pt_utils.py

thanks @amyeroberts

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-07T16:17:30Z,"Add `tgs` speed metrics (#25858)

* Add tgs metrics

* bugfix and black formatting

* workaround for tokens counting

* formating and bugfix

* Fix

* Add opt-in for tgs metrics

* make style and fix error

* Fix doc

* fix docbuild

* hf-doc-build

* fix

* test

* Update src/transformers/training_args.py

renaming

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* Update src/transformers/training_args.py

renaming

Co-authored-by: Zach Mueller <muellerzr@gmail.com>

* Fix some symbol

* test

* Update src/transformers/trainer_utils.py

match nameing patterns

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/training_args.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Update src/transformers/trainer.py

nice

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* Fix reviews

* Fix

* Fix black

---------

Co-authored-by: Zach Mueller <muellerzr@gmail.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-07T04:22:53Z,"Fix err with FSDP (#25991)

* Fix err

* Use version check"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-05T17:01:20Z,"deepspeed resume from ckpt fixes and adding support for deepspeed optimizer and HF scheduler (#25863)

* Add support for deepspeed optimizer and HF scheduler

* fix bug

* fix the import

* fix issue with deepspeed scheduler saving for hf optim + hf scheduler scenario

* fix loading of hf scheduler when loading deepspeed checkpoint

* fix import of `DeepSpeedSchedulerWrapper`

* add tests

* add the comment and skip the failing tests

* address comment"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-01T15:24:12Z,"Revert frozen training arguments (#25903)

* Revert frozen training arguments

* TODO"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-09-01T09:50:42Z,"fix FSDP model resume optimizer & scheduler (#25852)

* fix FSDP resume optimizer & scheduler

* improve trainer code quality

---------

Co-authored-by: machi04 <machi04@meituan.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-31T09:47:53Z,"fix ds z3 checkpointing when  `stage3_gather_16bit_weights_on_model_save=False` (#25817)

* fix ds z3 checkpointing when  `stage3_gather_16bit_weights_on_model_save=False`

* refactoring"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-29T14:06:41Z,"Error with checking args.eval_accumulation_steps to gather tensors (#25819)

* Update trainer.py (error with checking steps in args.eval_accumulation_steps to gather tensors)

While the deprecated code has the correct check (line 3772): 
""if args.eval_accumulation_steps is not None and (step + 1) % args.eval_accumulation_steps == 0:""

The current code does not (line 3196):
""if args.eval_accumulation_steps is not None and self.accelerator.sync_gradients:""

We need to check ""(step + 1) % args.eval_accumulation_steps == 0"". Hence, the line 3196 should be modified to:
""if args.eval_accumulation_steps is not None and (step + 1) % args.eval_accumulation_steps == 0 and self.accelerator.sync_gradients:""

* Fix error with checking args.eval_accumulation_steps to gather tensors"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-29T07:22:14Z,"Arde/fsdp activation checkpointing (#25771)

* add FSDP config option to enable activation-checkpointing

* update docs

* add checks and remove redundant code

* fix formatting error"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-25T15:13:34Z,"🚨🚨🚨 [`Refactor`] Move third-party related utility files into `integrations/` folder 🚨🚨🚨 (#25599)

* move deepspeed to `lib_integrations.deepspeed`

* more refactor

* oops

* fix slow tests

* Fix docs

* fix docs

* addess feedback

* address feedback

* final modifs for PEFT

* fixup

* ok now

* trigger CI

* trigger CI again

* Update docs/source/en/main_classes/deepspeed.md

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* import from `integrations`

* address feedback

* revert removal of `deepspeed` module

* revert removal of `deepspeed` module

* fix conflicts

* ooops

* oops

* add deprecation warning

* place it on the top

* put `FutureWarning`

* fix conflicts with not_doctested.txt

* add back `bitsandbytes` module with a depr warning

* fix

* fix

* fixup

* oops

* fix doctests

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-18T17:08:03Z,"[`PEFT`] Peft integration alternative design  (#25077)

* a draft version

* v2 integration

* fix

* make it more generic and works for IA3

* add set adapter and multiple adapters support

* fixup

* adapt a bit

* oops

* oops

* oops

* adapt more

* fix

* add more refactor

* now works with model class

* change it to instance method as it causes issues with `jit`.

* add CR

* change method name

* add `add_adapter` method

* clean up

* Update src/transformers/adapters/peft_mixin.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* add moe utils

* fixup

* Update src/transformers/adapters/peft_mixin.py

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* adapt

* oops

* fixup

* add is_peft_available

* remove `requires_backend`

* trainer compatibility

* fixup + docstring

* more details

* trigger CI

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/modeling_utils.py

* fixup + is_main_process

* added `save_peft_format` in save_pretrained

* up

* fix nits here and there

* nits here and there.

* docs

* revert `encoding=""utf-8""`

* comment

* added slow tests before the PEFT release.

* fixup and nits

* let's be on the safe zone

* added more comments

* v1 docs

* add remaining docs

* Apply suggestions from code review

Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>

* move to `lib_integrations`

* fixup

* this time fixup

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* address final comments

* refactor to use `token`

* add PEFT to DockerFile for slow tests.

* added pipeline support.

---------

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>
Co-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-17T18:48:58Z,"add warning for 8bit optimizers (#25575)

* add warning for 8bit optimizers

* protect import"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-17T16:23:34Z,"add util for ram efficient loading of model when using fsdp (#25107)

* add util for ram efficient loading of model when using fsdp

* make fix-copies

* fixes 😅

* docs

* making it further easier to use

* rename the function

* refactor to handle fsdp ram efficiency in `from_pretrained`

* fixes

* fixes

* fixes

* update

* fixes

* revert `load_pretrained_model_only_on_rank0`

* resolve `load_from_checkpoint`"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-17T15:44:01Z,"Revert ""change version (#25387)"" (#25573)

This reverts commit 3a05e010e0c7e8abd3e5357dd4e89e28cc69003e."
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-17T06:10:33Z,Update trainer.py (#25553)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-16T16:19:51Z,More frozen args (#25540)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-10T20:06:29Z,"GPTQ integration (#25062)

* GTPQ integration

* Add tests for gptq

* support for more quantization model

* fix style

* typo

* fix method

* Update src/transformers/modeling_utils.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* add dataclass and fix quantization_method

* fix doc

* Update tests/quantization/gptq/test_gptq.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* Apply suggestions from code review

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* modify dataclass

* add gtpqconfig import

* fix typo

* fix tests

* remove dataset as req arg

* remove tokenizer import

* add offload cpu quantization test

* fix check dataset

* modify dockerfile

* protect trainer

* style

* test for config

* add more log

* overwrite torch_dtype

* draft doc

* modify quantization_config docstring

* fix class name in docstring

* Apply suggestions from code review

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* more warning

* fix 8bit kwargs tests

* peft compatibility

* remove var

* fix is_gptq_quantized

* remove is_gptq_quantized

* fix wrap

* Update src/transformers/modeling_utils.py

Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>

* add exllama

* skip test

* overwrite float16

* style

* fix skip test

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* fix docsting formatting

* add doc

* better test

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>
Co-authored-by: Younes Belkada <49240599+younesbelkada@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-10T15:07:32Z,"Fix issue with ratio evaluation steps and auto find batch size (#25436)

* Fully rebased solution

* 500"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-09T07:31:24Z,rm useless condition since the previous condition contains it. (#25403)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-08T17:05:41Z,change version (#25387)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-07T15:47:22Z,"Migrate Trainer from `Repository` to `upload_folder` (#25095)

* First draft

* Deal with progress bars

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Address review comments

* Forgot one

* Pin hf_hub

* Add argument for push all and fix tests

* Fix tests

* Address review comments

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-08-02T07:29:00Z,Fix set of model parallel in the Trainer when no GPUs are available (#25239)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-28T09:40:08Z,"Fix `.push_to_hub` and cleanup `get_full_repo_name` usage (#25120)

* Fix .push_to_hub and cleanup get_full_repo_name usage

* Do not rely on Python bool conversion magic

* request changes"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-27T12:34:02Z,fix delete all checkpoints when save_total_limit is set to 1 (#25136)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-27T01:41:43Z,fix deepspeed load best model at end when the model gets sharded (#25057)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-24T14:53:10Z,"compute_loss in trainer failing to label shift for PEFT model when label smoothing enabled. (#25044)

* added PeftModelForCausalLM to MODEL_FOR_CAUSAL_LM_MAPPING_NAMES dict

* check for PEFT model in compute_loss section

---------

Co-authored-by: Nathan Brake <nbrake3@mmm.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-24T13:27:19Z,"Add dispatch_batches to training arguments (#25038)

* Dispatch batches

* Copy items"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-21T14:30:17Z,Use main_input_name for include_inputs_for_metrics (#24993)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-21T12:22:48Z,"fsdp fixes and enhancements (#24980)

* fix fsdp prepare to remove the warnings and fix excess memory usage

* Update training_args.py

* parity for FSDP+XLA

* Update trainer.py"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-21T06:47:26Z,"fix fsdp checkpointing issues (#24926)

* fix fsdp load

* Update trainer.py

* remove saving duplicate state_dict"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-17T18:45:59Z,"Remove deprecated codes (#24837)

* remove `xpu_backend` training argument

* always call `contextlib.nullcontext()` since transformers updated to
python3.8

* these codes will not be executed"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-12T15:47:21Z,"Rm duplicate pad_across_processes (#24780)

Rm duplicate"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-12T14:01:51Z,"Fix pad across processes dim in trainer and not being able to set the timeout (#24775)

* dim, and rm copy

* Don't rm copy for now

* Oops

* pad index

* Should be a working test

* Tickle down ddp timeout

* Put fix back in now that testing locally is done

* Better comment specifying timeout

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-12T09:49:12Z,"Fix eval_accumulation_steps leading to incorrect metrics (#24756)

Fix eval steps"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-11T20:37:04Z,"Fix lr scheduler not being reset on reruns (#24758)

* Try this

* Solved!

* Rm extranious

* Rm extranious

* self

* Args'

* Check for if we created the lr scheduler

* Move comment

* Clean"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-11T15:21:29Z,Docs: add `kwargs` type to fix formatting (#24733)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-06T18:12:16Z,"Fix integration with Accelerate and failing test (#24691)

Fix integration"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-07-06T09:33:25Z,"DeepSpeed/FSDP ckpt saving utils fixes and FSDP training args fixes (#24591)

* update ds and fsdp ckpt logic

* refactoring

* fix 🐛

* resolve comment

* fix issue with overriding of the fsdp config set by accelerate"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-29T18:37:44Z,"fix peft ckpts not being pushed to hub  (#24578)

* fix push to hub for peft ckpts

* oops"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-27T17:28:26Z,"Fix LR scheduler based on bs from auto bs finder (#24521)

* One solution

* args -> self"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-27T14:09:38Z,set model to training mode before accelerate.prepare (#24520)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-27T12:33:21Z,"use accelerate autocast in jit eval path, since mix precision logic is… (#24460)

use accelerate autocast in jit eval path, since mix precision logic is in accelerator currently

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-26T17:38:29Z,"Fix 'local_rank' AttiributeError in Trainer class (#24297)

fix attribute error"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-26T12:15:37Z,"deepspeed z1/z2 state dict fix (#24489)

* deepspeed z2/z1 state_dict bloating fix

* update

* version check"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-26T12:07:27Z,"when resume from peft checkpoint, the model should be trainable (#24463)"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-23T12:33:57Z,fixes issue when saving fsdp via accelerate's FSDP plugin (#24446)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-23T12:13:07Z,"fix the grad_acc issue at epoch boundaries (#24415)

* fix the grad_acc issue at epoch boundaries

Co-Authored-By: Zach Mueller <7831895+muellerzr@users.noreply.github.com>

* add contributors.

Co-authored-by: sumpster

* address comments

---------

Co-authored-by: Zach Mueller <7831895+muellerzr@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-23T11:35:04Z,"[`Trainer`] Fix `.to` call on 4bit models (#24444)

* fix `.to` call on 4bit models

* better check"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-22T18:46:20Z,Clarify batch size displayed when using DataParallel (#24430)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-22T18:28:25Z,"Refactor hyperparameter search backends (#24384)

* Refactor hyperparameter search backends

* Simpler refactoring without abstract base class

* black

* review comments:
specify name in class
use methods instead of callable class attributes
name constant better

* review comments: safer bool checking, log multiple available backends

* test ALL_HYPERPARAMETER_SEARCH_BACKENDS vs HPSearchBackend in unit test, not module. format with black.

* copyright"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-21T11:24:41Z,"[Trainer] Fix optimizer step on PyTorch TPU (#24389)

* update optimizer step for tpu

* add comment"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-20T11:57:08Z,"Fix resuming PeftModel checkpoints in Trainer  (#24274)

* Fix resuming checkpoints for PeftModels

Fix an error occurred when resuming a PeftModel from a training checkpoint. That was caused since PeftModel.pre_trained saves only adapter-related data while _load_from_checkpoint was expecting a torch sved model. This PR fix this issue and allows the adapter checkpoint to be loaded.

Resolves: #24252

* fix last comment

* fix nits

---------

Co-authored-by: younesbelkada <younesbelkada@gmail.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-16T19:14:03Z,"Adding ddp_broadcast_buffers argument to Trainer (#24326)

adding ddp_broadcast_buffers argument"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-16T14:38:23Z,"Byebye pytorch 1.9 (#24080)

byebye

---------

Co-authored-by: ydshieh <ydshieh@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-15T13:17:09Z,"deepspeed init during eval fix (#24298)

* deepspeed init during eval fix

* commit suggestions

Co-Authored-By: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-14T16:44:09Z,"Clean up old Accelerate checks (#24279)

* Clean up old Accelerate checks

* Put back imports"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-13T19:19:15Z,"update FSDP save and load logic (#24249)

* update fsdp save and load logic

* fix

* see if this resolves the failing tests"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-12T17:26:17Z,Finish dataloader integration (#24201)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-12T15:23:37Z,"🚨🚨🚨 Replace DataLoader logic for Accelerate in Trainer, remove unneeded tests 🚨🚨🚨 (#24028)

* Working integration

* Fix failing test

* Revert label host logic

* Bring it back!"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-09T12:24:53Z,"fix bugs with trainer (#24134)

* fix the deepspeed test failures

* apex fix

* FSDP save ckpt fix

* Update src/transformers/trainer.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-08T13:38:30Z,"[`Trainer`] Correct behavior of `_load_best_model` for PEFT models (#24103)

* v1

* some refactor

- add ST format as well

* fix

* add `ADAPTER_WEIGHTS_NAME` & `ADAPTER_SAFE_WEIGHTS_NAME`"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-07T19:33:13Z,"fix accelerator prepare during eval only mode (#24014)

* fix mixed precision prep during eval only mode

* update to address comments

* update to reflect the changes in accelerate"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-07T19:31:32Z,"Do not prepare lr scheduler as it as the right number of steps (#24088)

* Do not prepare lr scheduler as it as the right number of steps

* Trigger CI

* Trigger CI

* Trigger CI

* Add fake comment

* Remove fake comment

* Trigger CI please!"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-07T16:38:04Z,"fix executable batch size issue (#24067)

* fix executable batch size issue

* fix

* undo"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-07T12:30:55Z,"Support PEFT models when saving the model using trainer (#24073)

* support PEFT models when saving the model using trainer

* fixup"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-05T12:28:10Z,"fix trainer slow tests related to hyperparam search (#24011)

* fix trainer slow tests

* commit 2"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-06-02T12:53:48Z,"Trainer: fixed evaluate raising `KeyError` for ReduceLROnPlateau (#23952)

Trainer: fixed KeyError on evaluate for ReduceLROnPlateau

Co-authored-by: Claudius Kienle <claudius.kienle@artiminds.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-05-31T17:34:55Z,"remove the extra `accelerator.prepare`  (#23914)

remove the extra `accelerator.prepare` that slipped in with multiple update from main 😅"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-05-31T11:54:26Z,Fix Trainer when model is loaded on a different GPU (#23792)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-05-31T09:46:22Z,"accelerate deepspeed and gradient accumulation integrate (#23236)

* mixed precision support via accelerate

* fix issues

* fix for the sharded ddp case

* fix flax and tf failing tests

* `refactor the place to create `Accelerator` object

* move ddp prep to accelerate

* fix 😅

* resolving comments

* move fsdp handling to accelerate

* fixex

* fix saving

* shift torch dynamo handling to accelerate

* shift deepspeed integration and save & load utils to accelerate

* fix accelerate launcher support

* oops

* fix 🐛

* save ckpt fix

* Trigger CI

* nasty 🐛 😅

* as deepspeed needs grad_acc fixes, transfer grad_acc to accelerate

* make tests happy

* quality ✨

* loss tracked needs to account for grad_acc

* fixing the deepspeed tests

* quality ✨

* 😅😅😅

* tests 😡

* quality ✨

* Trigger CI

* resolve comments and fix the issue with the previous merge from branch

* Trigger CI

* accelerate took over deepspeed integration

---------

Co-authored-by: Stas Bekman <stas@stason.org>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-05-31T09:38:20Z,Fix last instances of kbit -> quantized (#23797)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-05-31T09:12:07Z,"shift torch dynamo handling to accelerate (#23168)

* mixed precision support via accelerate

* fix issues

* fix for the sharded ddp case

* fix flax and tf failing tests

* `refactor the place to create `Accelerator` object

* move ddp prep to accelerate

* fix 😅

* resolving comments

* move fsdp handling to accelerate

* fixex

* fix saving

* shift torch dynamo handling to accelerate"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/trainer.py,2023-05-31T08:40:46Z,"move fsdp handling to accelerate (#23158)

* mixed precision support via accelerate

* fix issues

* fix for the sharded ddp case

* fix flax and tf failing tests

* `refactor the place to create `Accelerator` object

* move ddp prep to accelerate

* fix 😅

* resolving comments

* move fsdp handling to accelerate

* fixex

* fix saving"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-11-24T11:24:04Z,"Fix typo in warning message (#27055)

* Fix typo in warning message

The path of `default_cache_path` is hf_cache_home/hub. There is no
directory named transformers under hf_cache_home

* Fix a typo in comment

* Update the version number

v4.22.0 is the earlist version that contains those changes in PR #18492"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-11-21T17:36:26Z,"Harmonize HF environment variables + other cleaning (#27564)

* Harmonize HF environment variables + other cleaning

* backward compat

* switch from HUGGINGFACE_HUB_CACHE to HF_HUB_CACHE

* revert"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-11-15T13:10:39Z,"[ `PretrainedConfig`] Improve messaging  (#27438)

* import hf error

* nits

* fixup

* catch the error at the correct place

* style

* improve message a tiny bit

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* add a test

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-10-31T18:16:49Z,"Safetensors serialization by default (#27064)

* Safetensors serialization by default

* First pass on the tests

* Second pass on the tests

* Third pass on the tests

* Fix TF weight loading from TF-format safetensors

* Specific encoder-decoder fixes for weight crossloading

* Add VisionEncoderDecoder fixes for TF too

* Change filename test for pt-to-tf

* One missing fix for TFVisionEncoderDecoder

* Fix the other crossload test

* Support for flax + updated tests

* Apply suggestions from code review

Co-authored-by: Sanchit Gandhi <93869735+sanchit-gandhi@users.noreply.github.com>

* Sanchit's comments

* Sanchit's comments 2

* Nico's comments

* Fix tests

* cleanup

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: Matt <rocketknight1@gmail.com>
Co-authored-by: Sanchit Gandhi <93869735+sanchit-gandhi@users.noreply.github.com>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-10-27T12:32:54Z,Provide alternative when warning on use_auth_token (#27105)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-10-26T10:37:09Z,"Add-support for commit description (#26704)

* fix

* update

* revert

* add dosctring

* good to go

* update

* add a test"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-10-23T12:25:48Z,"Change default `max_shard_size` to smaller value (#26942)

* Update modeling_utils.py

* fixup

* let's change it to 5GB

* fix"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-08-22T05:55:35Z,"Support specifying revision in push_to_hub (#25578)

Support revision in push_to_hub"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-08-07T15:47:22Z,"Migrate Trainer from `Repository` to `upload_folder` (#25095)

* First draft

* Deal with progress bars

* Update src/transformers/utils/hub.py

Co-authored-by: Lucain <lucainp@gmail.com>

* Address review comments

* Forgot one

* Pin hf_hub

* Add argument for push all and fix tests

* Fix tests

* Address review comments

---------

Co-authored-by: Lucain <lucainp@gmail.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-07-28T09:40:08Z,"Fix `.push_to_hub` and cleanup `get_full_repo_name` usage (#25120)

* Fix .push_to_hub and cleanup get_full_repo_name usage

* Do not rely on Python bool conversion magic

* request changes"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-07-26T13:09:59Z,"update `use_auth_token` -> `token` (#25083)

* update

---------

Co-authored-by: ydshieh <ydshieh@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-07-24T13:12:39Z,"Support GatedRepoError + use raise from (#25034)

* Support GatedRepoError + use raise from

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Use token instead of use_auth_token in error messages

---------

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-06-12T12:51:09Z,"Fix push to hub (#24187)

Add fix"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-06-07T13:07:33Z,"[`Hub`] Add `safe_serialization` in push_to_hub (#24074)

add `safe_serialization` in push_to_hub"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-05-31T19:31:28Z,"[PushToHub] Make it possible to upload folders (#23920)

Add first draft"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-05-16T10:10:54Z,"Use `mkstemp` to replace deprecated `mktemp` (#23372)

* Use `mkstemp` to replace deprecated `mktemp`

The `tempfile.mktemp` function is [deprecated](https://docs.python.org/3/library/tempfile.html#tempfile.mktemp) due to [security issues](https://cwe.mitre.org/data/definitions/377.html).

* Update src/transformers/utils/hub.py

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

---------

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-05-10T00:37:57Z,"Test composition (#23214)

* Remove nestedness in tool config

* Really do it

* Use remote tools descriptions

* Work

* Clean up eval

* Changes

* Tools

* Tools

* tool

* Fix everything

* Use last result/assign for evaluation

* Prompt

* Remove hardcoded selection

* Evaluation for chat agents

* correct some spelling

* Small fixes

* Change summarization model (#23172)

* Fix link displayed

* Update description of the tool

* Fixes in chat prompt

* Custom tools, custom prompt

* Tool clean up

* save_pretrained and push_to_hub for tool

* Fix init

* Tests

* Fix tests

* Tool save/from_hub/push_to_hub and tool->load_tool

* Clean push_to_hub and add app file

* Custom inference API for endpoints too

* Clean up

* old remote tool and new remote tool

* Make a requirements

* return_code adds tool creation

* Avoid redundancy between global variables

* Remote tools can be loaded

* Tests

* Text summarization tests

* Quality

* Properly mark tests

* Test the python interpreter

* And the CI shall be green.

* fix loading of additional tools

* Work on RemoteTool and fix tests

* General clean up

* Guard imports

* Fix tools

* docs: Fix broken link in 'How to add a model...'  (#23216)

fix link

* Get default endpoint from the Hub

* Add guide

* Simplify tool config

* Docs

* Some fixes

* Docs

* Docs

* Docs

* Fix code returned by agent

* Try this

* Match args with signature in remote tool

* Should fix python interpreter for Python 3.8

* Fix push_to_hub for tools

* Other fixes to push_to_hub

* Add API doc page

* Docs

* Docs

* Custom tools

* Pin tensorflow-probability (#23220)

* Pin tensorflow-probability

* [all-test]

* [all-test] Fix syntax for bash

* PoC for some chaining API

* Text to speech

* J'ai pris des libertés

* Rename

* Basic python interpreter

* Add agents

* Quality

* Add translation tool

* temp

* GenQA + LID + S2T

* Quality + word missing in translation

* Add open assistance, support f-strings in evaluate

* captioning + s2t fixes

* Style

* Refactor descriptions and remove chain

* Support errors and rename OpenAssistantAgent

* Add setup

* Deal with typos + example of inference API

* Some rename + README

* Fixes

* Update prompt

* Unwanted change

* Make sure everyone has a default

* One prompt to rule them all.

* SD

* Description

* Clean up remote tools

* More remote tools

* Add option to return code and update doc

* Image segmentation

* ControlNet

* Gradio demo

* Diffusers protection

* Lib protection

* ControlNet description

* Cleanup

* Style

* Remove accelerate and try to be reproducible

* No randomness

* Male Basic optional in token

* Clean description

* Better prompts

* Fix args eval in interpreter

* Add tool wrapper

* Tool on the Hub

* Style post-rebase

* Big refactor of descriptions, batch generation and evaluation for agents

* Make problems easier - interface to debug

* More problems, add python primitives

* Back to one prompt

* Remove dict for translation

* Be consistent

* Add prompts

* New version of the agent

* Evaluate new agents

* New endpoints agents

* Make all tools a dict variable

* Typo

* Add problems

* Add to big prompt

* Harmonize

* Add tools

* New evaluation

* Add more tools

* Build prompt with tools descriptions

* Tools on the Hub

* Let's chat!

* Cleanup

* Temporary bs4 safeguard

* Cache agents and clean up

* Blank init

* Fix evaluation for agents

* New format for tools on the Hub

* Add method to reset state

* Remove nestedness in tool config

* Really do it

* Use remote tools descriptions

* Work

* Clean up eval

* Changes

* Tools

* Tools

* tool

* Fix everything

* Use last result/assign for evaluation

* Prompt

* Remove hardcoded selection

* Evaluation for chat agents

* correct some spelling

* Small fixes

* Change summarization model (#23172)

* Fix link displayed

* Update description of the tool

* Fixes in chat prompt

* Custom tools, custom prompt

* Tool clean up

* save_pretrained and push_to_hub for tool

* Fix init

* Tests

* Fix tests

* Tool save/from_hub/push_to_hub and tool->load_tool

* Clean push_to_hub and add app file

* Custom inference API for endpoints too

* Clean up

* old remote tool and new remote tool

* Make a requirements

* return_code adds tool creation

* Avoid redundancy between global variables

* Remote tools can be loaded

* Tests

* Text summarization tests

* Quality

* Properly mark tests

* Test the python interpreter

* And the CI shall be green.

* Work on RemoteTool and fix tests

* fix loading of additional tools

* General clean up

* Guard imports

* Fix tools

* Get default endpoint from the Hub

* Simplify tool config

* Add guide

* Docs

* Some fixes

* Docs

* Docs

* Fix code returned by agent

* Try this

* Docs

* Match args with signature in remote tool

* Should fix python interpreter for Python 3.8

* Fix push_to_hub for tools

* Other fixes to push_to_hub

* Add API doc page

* Fixes

* Doc fixes

* Docs

* Fix audio

* Custom tools

* Audio fix

* Improve custom tools docstring

* Docstrings

* Trigger CI

* Mode docstrings

* More docstrings

* Improve custom tools

* Fix for remote tools

* Style

* Fix repo consistency

* Quality

* Tip

* Cleanup on doc

* Cleanup toc

* Add disclaimer for starcoder vs openai

* Remove disclaimer

* Small fixed in the prompts

* 4.29

* Update src/transformers/tools/agents.py

Co-authored-by: Lysandre Debut <lysandre.debut@reseau.eseo.fr>

* Complete documentation

* Small fixes

* Agent evaluation

* Note about gradio-tools & LC

* Clean up agents and prompt

* Apply suggestions from code review

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Apply suggestions from code review

Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* Note about gradio-tools & LC

* Add copyrights and address review comments

* Quality

* Add all language codes

* Add remote tool tests

* Move custom prompts to other docs

* Apply suggestions from code review

Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>

* TTS tests

* Quality

---------

Co-authored-by: Lysandre <hi@lyand.re>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Philipp Schmid <32632186+philschmid@users.noreply.github.com>
Co-authored-by: Connor Henderson <connor.henderson@talkiatry.com>
Co-authored-by: Lysandre <lysandre.debut@reseau.eseo.fr>
Co-authored-by: Lysandre <lysandre@huggingface.co>
Co-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-03-29T13:46:30Z,Don't hard error when cache version can't be converted to int (#22427)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-03-09T21:58:03Z,"Add a progress bar for the total download of shards (#22062)

* Add a progress bar for the total download of shards

* Check for no cache at all

* Fix check"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-03-02T08:45:42Z,"[Refactor] Relative imports wherever we can (#21880)

* initial commit

* update

* second batch

* style

* fix imports

* fix relative import on pipeline"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-02-22T08:14:54Z,Apply ruff flake8-comprehensions (#21694)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-02-06T23:10:56Z,"Update quality tooling for formatting (#21480)

* Result of black 23.1

* Update target to Python 3.7

* Switch flake8 to ruff

* Configure isort

* Configure isort

* Apply isort with line limit

* Put the right black version

* adapt black in check copies

* Fix copies"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-01-27T17:09:49Z,"Little cleanup: let huggingface_hub manage token retrieval (#21333)

* Let huggingface_hub manage token retrieval

* flake8

* code quality

* adapt in every PushToHubMixin children

* add explicit return type"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2023-01-24T15:37:10Z,"Use `logger.info` instead of `print` to emit a logging message in `hub.py` (#21273)

use logger.info() instead of print() to emit a debug message"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-11-28T15:35:52Z,"Safetensors offload (#20321)

* INtegrate safetensos in weight offloading

* Use safetensors checkpoint for offload when available

* Make naming consistent

* Make load faster

* Quality

* Add default"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-11-04T21:25:02Z,Update hub.py (#20075)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-10-19T14:55:57Z,Fix cache version file creation (#19750)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-10-10T13:19:33Z,"Stop relying on huggingface_hub's private methods (#19392)

* Leverage hfh for move cache

* Style"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-30T19:13:39Z,"Fix cached lookup filepath on windows for hub (#19178)

* Update hub.py commit_hash extraction

Add safety mechanism for windows systems to unify logic (replace double backslashes with /)

* Fix string quotetype

* Aaaa circleci is messing with me.

* Switch to using as_posix() method from pathlib

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update src/transformers/utils/hub.py

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-29T12:58:39Z,"Use `hf_raise_for_status` instead of deprecated `_raise_for_status` (#19244)

* Use  instead of  from huggingface_hub

* bump huggingface_hub to 0.10.0 + make deps_table_update"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-26T22:01:00Z,"Fix cached_file in offline mode for cached non-existing files (#19206)

* Fix cached_file in offline mode for cached non-existing files

* Add tests

* Test with offline mode"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-19T19:27:18Z,Don't warn of move if cache is empty (#19109)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-16T19:01:57Z,replace logger.warn by logger.warning (#19068)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-15T13:39:59Z,Move cache: expand error message (#19051)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-13T17:11:24Z,Re-add support for single url files in objects download (#19014)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-12T16:09:37Z,"Align try_to_load_from_cache with huggingface_hub (#18966)

* Align try_to_load_from_cache with huggingface_hub

* Fix tests"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-06T16:34:37Z,"Further reduce the number of alls to head for cached objects (#18871)

* Further reduce the number of alls to head for cached models/tokenizers/pipelines

* Fix tests

* Address review comments"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-09-02T14:30:06Z,"Clean up utils.hub using the latest from hf_hub (#18857)

* Clean up utils.hub using the latest from hf_hub

* Adapt test

* Address review comment

* Fix test"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-10T19:46:03Z,Properly move cache when it is not in default path (#18563)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-10T15:55:18Z,"Use commit hash to look in cache instead of calling head (#18534)

* Use commit hash to look in cache instead of calling head

* Add tests

* Add attr for local configs too

* Stupid typos

* Fix tests

* Update src/transformers/utils/hub.py

Co-authored-by: Julien Chaumond <julien@huggingface.co>

* Address Julien's comments

Co-authored-by: Julien Chaumond <julien@huggingface.co>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-09T19:15:01Z,Clean up comment
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-08T14:22:27Z,New cache fixes: add safeguard before looking in folders (#18522)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-08T12:48:10Z,"Clean up hub (#18497)

* Clean up utils.hub

* Remove imports

* More fixes

* Last fix"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-06T07:42:55Z,"`transformers-cli login` => `huggingface-cli login` (#18490)

* zero chance anyone's using that constant no?

* `transformers-cli login` => `huggingface-cli login`

* `transformers-cli repo create` => `huggingface-cli repo create`

* `make style`"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-05T17:29:38Z,Typo reported by Joel Grus on TWTR (#18493)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-05T17:24:53Z,Forgot one new_ for cache migration
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-05T17:14:00Z,"Move cache folder to huggingface/hub for consistency with hf_hub (#18492)

* Move cache folder to just huggingface

* Thank you VsCode for this needless import

* Move to hub

* Forgot one"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-05T14:12:40Z,"Use new huggingface_hub tools for download models (#18438)

* Draft new cached_file

* Initial draft for config and model

* Small fixes

* Fix first batch of tests

* Look in cache when internet is down

* Fix last tests

* Bad black, not fixing all quality errors

* Make diff less

* Implement change for TF and Flax models

* Add tokenizer and feature extractor

* For compatibility with main

* Add utils to move the cache and auto-do it at first use.

* Quality

* Deal with empty commit shas

* Deal with empty etag

* Address review comments"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-08-01T16:07:30Z,"Rewrite push_to_hub to use upload_files (#18366)

* Rewrite push_to_hub to use upload_files

* Adapt the doc a bit

* Address review comments and clean doc"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-07-19T09:53:53Z,"[From pretrained] Allow download from subfolder inside model repo (#18184)

* add first generation tutorial

* [from_pretrained] Allow loading models from subfolders

* remove gen file

* add doc strings

* allow download from subfolder

* add tests

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* apply comments

* correct doc string

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-07-13T16:43:08Z,"Make sharded checkpoints work in offline mode (#18125)

* Make sharded checkpoints work in offline mode

* Add test"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-07-13T14:53:25Z,"Revert ""Make sharded checkpoints work in offline mode""

This reverts commit 3564c6578630a3bef29d2c7c36c7d29b68acd874."
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-07-13T14:51:56Z,Make sharded checkpoints work in offline mode
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-07-11T16:45:06Z,Add filename to info diaplyed when downloading things in from_pretrained (#18099)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-06-22T05:04:35Z,Flax sharded (#17760)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-06-21T16:01:08Z,"TF Sharded (#17713)

* initial commit

* update modeeling tf utils

* quality

* clean and update args

* update

* remove potential bug

* code quality

* update

* update max shard

* update tests for sharding from pretrained

* fix remaining test

* make style

* h5py if tf available

* update and fix test

* fix test

* style

* modified push to hub to support shard for TF

* quick fix

* update code

* merge branch main and style

* Apply suggestions from code review

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>

* update based on reviews

* update doc

* update and style

* Apply suggestions from code review

Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>

* Update based on reviews

* fix typo

* style

Co-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>
Co-authored-by: Patrick von Platen <patrick.v.platen@gmail.com>
Co-authored-by: Sylvain Gugger <35901082+sgugger@users.noreply.github.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-06-21T15:51:18Z,"Prepare transformers for v0.8.0 huggingface-hub release (#17716)

* Prepare CI for v0.8.0

* pin hfh (revert before merge)

* Revert ""pin hfh (revert before merge)""

This reverts commit a0103140e1c77b810ffcb735192968bc03be3e1f.

* Test rc3

* Test latest rc

* Unpin to the RC

Co-authored-by: Sylvain Gugger <Sylvain.gugger@gmail.com>"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-06-10T13:41:53Z,"🐛 Properly raise `RepoNotFoundError` when not authenticated (#17651)

* Raise RepoNotFoundError in case of 401

* Include changes from revert-17646-skip_repo_not_found

* Add a comment

* 💄 Code quality

* 💚 Update `get_from_cache` test

* 💚 Code quality & skip failing test"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-06-08T15:34:05Z,Fix telemetry URL (#17608)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-06-07T15:57:52Z,"Add examples telemetry (#17552)

* Add examples telemetry

* Alternative approach

* Add to all other examples

* Add to templates as well

* Put framework separately

* Same for TensorFlow"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-05-12T20:25:55Z,"Black preview (#17217)

* Black preview

* Fixup too!

* Fix check copies

* Use the same version as the CI

* Bump black"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-04-29T16:26:45Z,"Revert ""Updating variable names. (#16445)"" (#17011)

This reverts commit 4f3a14e3c235c8b6b8cd2f5bc448a0cffacddf61."
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-04-29T15:44:28Z,Updating variable names. (#16445)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-04-25T19:15:00Z, Fix issue probably-meant-fstring found at https://codereview.doctor (#16913)
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-03-23T19:56:49Z,"Make Transformers use cache files when hf.co is down (#16362)

* Make Transformers use cache files when hf.co is down

* Fix tests

* Was there a random circleCI failure?

* Isolate patches

* Style

* Comment out the failure since it doesn't fail anymore

* Better comment"
github.com/kssteven418/SqueezeLLM-gradients,src/transformers/utils/hub.py,2022-03-23T14:26:33Z,"Reorganize file utils (#16264)

* Split file_utils in several submodules

* Fixes

* Add back more objects

* More fixes

* Who exactly decided to import that from there?

* Second suggestion to code with code review

* Revert wront move

* Fix imports

* Adapt all imports

* Adapt all imports everywhere

* Revert this import, will fix in a separate commit"
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-13T20:08:36Z,audio clip working + filtering fixes
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-09T20:44:27Z,cleaned up some syntax + refactored + added simple walkthrough
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-09T18:00:56Z,Actual batch query + cleanup on some other stuff
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-08T23:44:54Z,embeddings function + native langchain support + refactored syntax and file structure
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-08T05:56:28Z,added direct daft df access
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-07T22:25:03Z,embeddings + fixed query logic to use daft transform
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-07T18:53:12Z,langchain document + adding docs
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-07T00:28:11Z,"added basic batch functionality, will need to optimize later"
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-06T23:33:28Z,refactored code + moved to pyproject.toml + addded initial docs
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-05T01:32:11Z,refactored column syntax
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-02T07:47:14Z,multimodal image vector db working!!!
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-01T22:07:50Z,refactored filter logic + get_fields
github.com/jesterlabs/vexpresso,vexpresso/utils.py,2023-06-01T07:02:40Z,Huggingface saving + loading
github.com/huggingface/optimum-amd,tests/ryzenai/test_modeling.py,2024-02-27T15:51:24Z,"[RyzenAI] Add operators regression tests (#90)

* add vaip report extraction

* restructure tests

* add baseline generator

* update inheritance

* add baseline json

* fix mixin

* fix input

* fix input

* add default config constant

* fix movenet

* style

* added readme

* added sdk comment

* updated readme with steps

* style"
github.com/huggingface/optimum-amd,tests/ryzenai/test_modeling.py,2024-02-12T08:50:07Z,"Update nightly CI (#61)

* Fix nightly CI

* add conftest

* add conftest

* style

* style"
github.com/huggingface/optimum-amd,tests/ryzenai/test_modeling.py,2024-02-09T09:19:13Z,[RyzenAI] Add CI test yaml (#52)
github.com/huggingface/optimum-amd,tests/ryzenai/test_modeling.py,2024-01-30T11:21:25Z,"[RyzenAI] Fix vaip_config path in tests (#49)

* fix path

* add tests

* fix style

* fix typo

* fix typo"
github.com/huggingface/optimum-amd,tests/ryzenai/test_modeling.py,2024-01-10T09:40:01Z,"Add support for Ryzen pretrained model inference (#40)

* add object det

* update cls

* fix typo

* added tests

* added other tasks

* sort

* fox typeo"
github.com/i-Eval/ieval-instruction,src/transformers/src/transformers/utils/hub.py,2023-04-10T07:16:35Z,add run command
github.com/bradjohnl/gpt_python_cli,main.py,2023-06-20T14:28:12Z,fix: rework exec to use conda env to prevent breaking
github.com/toshiaki1729/stable-diffusion-webui-dataset-tag-editor,scripts/dataset_tag_editor/interrogators/waifu_diffusion_tagger.py,2023-02-26T03:33:31Z,use DirectML
github.com/toshiaki1729/stable-diffusion-webui-dataset-tag-editor,scripts/dataset_tag_editor/interrogators/waifu_diffusion_tagger.py,2023-02-26T03:24:27Z,enable wd-v14-tagger for AMD GPU users (#43)
github.com/toshiaki1729/stable-diffusion-webui-dataset-tag-editor,scripts/dataset_tag_editor/interrogators/waifu_diffusion_tagger.py,2023-01-22T05:48:44Z,"implement some wd tagger v1 and v2, use multi dropdown for selecting interrogator"
github.com/toshiaki1729/stable-diffusion-webui-dataset-tag-editor,scripts/dataset_tag_editor/interrogators/waifu_diffusion_tagger.py,2023-01-13T15:57:52Z,"refactoring, implement #33 (but not available for now)"
github.com/Gentopia-AI/Gentopia,gentopia/tools/gradio_tools/tools/gradio_tool.py,2023-07-17T03:42:58Z,"remove langchain (#42)

* add log mode, refine doc

* fix react

* remove langchain

---------

Co-authored-by: Satan <liuxk2019@mail.sustech.edu.cn>"
github.com/Gentopia-AI/Gentopia,gentopia/tools/gradio_tools/tools/gradio_tool.py,2023-07-01T03:57:25Z,add more tools (#25)
github.com/swj0419/in-context-pretraining,lib/huggingface_pytorch-transformers_main/src/transformers/trainer.py,2024-01-13T23:12:12Z,lib
github.com/swj0419/in-context-pretraining,lib/huggingface_pytorch-transformers_main/src/transformers/utils/hub.py,2024-01-13T23:12:12Z,lib
github.com/huggingface/optimum-neuron,text-generation-inference/integration-tests/test_gpt2.py,2024-02-16T13:59:39Z,"Integrate new cache system for training (#472)

* Integrate new cache system for training

* ci: reduce export and pipelines test frequency

This runs export and pipelines tests in dedicated pipelines with
stricter path filters to avoid running them on every change.

---------

Co-authored-by: David Corvoysier <david@huggingface.co>"
github.com/huggingface/optimum-neuron,text-generation-inference/integration-tests/test_gpt2.py,2024-02-08T15:43:59Z,"TGI: update to controller version 1.4.0 & bug fixes (#470)

* feat(tgi): update controller version to 1.4.0

* fix(tgi): correctly handle single token inputs

* feat(tgi): support seed generation parameter

* fix(tgi): return correct finish reason

* fix(tgi): return only pending requests in next batch

On decode, finished requests were also included.

* fix(decoder): do not modify generation_config parameter

* fix(tgi): avoid repeated token in continuous batching

The last generated token of paused slots was recreated and sent back
instead of generating a new one.

* fix(tgi): update max_new_tokens in continuous batching

The max_new_tokens was not updated for pending requests while the
generated tokens were now actually seen as input tokens.
This was effectively as if the number of generated tokens had been reset.

* test(tgi): add generator python tests

* test(tgi): add docker tests"
github.com/ZhaoZeyu1995/Waterfall,waterfall/decoder/pyctcdecode/tests/test_decoder.py,2022-10-19T20:36:11Z,add pyctcdecode in waterfall. This is actually a readily available decoder. I borrowed it for developping decoder for new topologies.
github.com/Eyr3/TextCRS,textattacknew/models/transformers1/utils/hub.py,2023-08-01T12:42:37Z,init
github.com/RUCAIBox/LIVE,transformers/src/transformers/utils/hub.py,2024-01-17T13:23:05Z,Initial commit
github.com/RUCAIBox/LIVE,transformers/build/lib/transformers/utils/hub.py,2024-01-17T13:23:05Z,Initial commit
github.com/trinhtuanvubk/bark-voice-cloning,hubert/hubert_manager.py,2023-06-25T15:40:14Z,update hubert
github.com/trinhtuanvubk/bark-voice-cloning,hubert/hubert_manager.py,2023-06-25T15:32:31Z,init
github.com/kelvincjr/shared,bdci_cpt/dep/huggingface_hub-0.0.19/src/huggingface_hub/snapshot_download.py,2021-11-17T07:55:40Z,kelvin commit 20211117pm2
